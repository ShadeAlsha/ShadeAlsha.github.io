{
  "2010": [
    {
      "_provenance": {
        "folder": "IRN_2010",
        "pages_map": {
          "P0": "page26.md",
          "P1": "page27.md",
          "P2": "page28.md"
        }
      },
      "author": "Meysam Aghighi; Morteza Saghafian",
      "booklet title": "2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1x5D_SqxNk1Wed0HnPBh2dirvB4vXAOXe",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2009-2010. All rights reserved.",
      "has_solutions": true,
      "id": "p_168880573bc0",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "11",
          "pages": [
            "P1"
          ],
          "status": "truncated"
        }
      ],
      "statement_images": [],
      "statement_latex": "11. (Ehsan Azarmsa) $f: \\mathbb{N} \\to \\mathbb{N}$ is an increasing function and $n$ is a natural number. Suppose that there exist prime numbers $p_1, p_2, ..., p_n$ and natural numbers $s_1, s_2, ..., s_n$ such that for every $1 \\le i \\le n$ the set $\\{f(p_i r + s_i) | r = 1, 2, ..., \\}\\}$ be an infinite arithmetic progression. Prove that there exists natural number $a$ such that\n\n$$\nf(a + 1), f(a + 2), ..., f(a + n)\n$$\n\nis an arithmetic progression."
    },
    {
      "_provenance": {
        "folder": "IRN_2010",
        "pages_map": {
          "P0": "page26.md",
          "P1": "page27.md",
          "P2": "page28.md"
        }
      },
      "author": "Meysam Aghighi; Morteza Saghafian",
      "booklet title": "2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1x5D_SqxNk1Wed0HnPBh2dirvB4vXAOXe",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2009-2010. All rights reserved.",
      "has_solutions": true,
      "id": "p_2a53e9a93a6b",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Now, noting that $a_1 + a_2 + a_3 + a_4 = 50 \\times 50 = 2500$, and using the above inequalities, we have\n\n\\[\n\\begin{aligned}\n2a_3 &\\ge a_4 \\Rightarrow a_3 \\ge \\frac{a_4}{2} \\\\\n3a_2 &\\ge a_3 + a_4 \\ge \\frac{a_4}{2} + a_4 = \\frac{3}{2}a_4 \\Rightarrow a_2 \\ge \\frac{a_4}{2} \\\\\n4a_1 &\\ge a_2 + a_3 + a_4 \\ge \\frac{a_4}{2} + \\frac{a_4}{2} + a_4 = 2a_4 \\Rightarrow a_1 \\ge \\frac{a_4}{2} \\\\\n2500 &= a_1 + a_2 + a_3 + a_4 \\ge \\frac{a_4}{2} + \\frac{a_4}{2} + \\frac{a_4}{2} + a_4 = \\frac{5}{2}a_4 \\Rightarrow a_4 \\le 1000\n\\end{aligned}\n\\]\n\nSo the total number of empty pieces are not greater than 1000.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "2. Let $a_1, a_2, a_3, a_4$ be the total number of apple, orange and peach trees, and the total number of empty pieces respectively. We now want to count the total number of adjacencies of apple trees to an orange tree, a peach tree, or an empty piece. We know that these adjacencies are at most $4a_1$, and since every orange tree, every peach tree, and every empty piece has at least one adjacent apple tree; so the total number of adjacencies are at least $a_2 + a_3 + a_4$, hence we have\n\n\\[\n4a_1 \\ge a_2 + a_3 + a_4\n\\]\n\nNow we do the same for counting the total number of adjacencies of orange trees to a peach tree or an empty space. Note that these adjacencies are at most $3a_2$, because every orange tree must have an adjacent apple tree, and it can have 3 adjacent peach tree or empty piece. On the other hand since every peach tree and every empty piece has an adjacent orange tree, so the total number of adjacencies are at least $a_3 + a_4$, so we have\n\n\\[\n3a_2 \\ge a_3 + a_4\n\\]\n\nSimilarly, we have the following inequality\n\n\\[\n2a_3 \\ge a_4\n\\]"
    },
    {
      "_provenance": {
        "folder": "IRN_2010",
        "pages_map": {
          "P0": "page26.md",
          "P1": "page27.md",
          "P2": "page28.md"
        }
      },
      "author": "Meysam Aghighi; Morteza Saghafian",
      "booklet title": "2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1x5D_SqxNk1Wed0HnPBh2dirvB4vXAOXe",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2009-2010. All rights reserved.",
      "has_solutions": true,
      "id": "p_b28435bce7f1",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "triangle and once appears with negative sign for its below triangle, except the segments of $h_\\Delta$, and these segments appear with the positive sign; so\n\n$$\n\\sum_{\\delta \\in \\text{Small Triangles}} (h_{\\delta} \\times \\text{sign of the Homothety}) = h_{\\Delta}\n$$\n\nand so sum of the ratios with respect to their signs is 1.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "$$\n\\sum_{k=1}^{n} |\\overrightarrow{C_{k-1}C_k}| \\geq \\sum_{k=1}^{n} L_k = \\sum_{k=1}^{n} |\\overrightarrow{A_k A_{k+1}|}\n$$\n\n2. Since $\\sum_{k=1}^{n}(\\pi(k) - k) = 0$, so from the two members of $\\{\\pi(k) - k | k = 1, 2, ..., n\\}$, one should be positive and the other one negative. Let $a$ be the positive and $-b$ be the negative members. Also let $A = \\{k | \\pi(k) - k = a\\}$ and $B = \\{k | \\pi(k) - k = -b\\}$. First note that if $i \\in A$ then $i + a + b \\in A$. Because if $i \\in A$ and $i + a + b \\le n$, then $\\pi(i) = i + a$ and hence $\\pi(i + a + b) \\ne i + a$, and so $\\pi(i + a + b) - (i + a + b) = a$, it means that $i + a + b \\in A$. Similarly, we can say that if $j \\in B$ (and $j - (a + b) \\ge 1$) then $j - (a + b) \\in B$.\n\nAlso, note that for every $1 \\le i \\le b$, we have $i \\in A$. So considering the above paragraph, if for $1 \\le i \\le n$, the remainder of $i$ upon division by $a + b$, be less than or equal to $b$, then $i \\in A$. Similarly for $n - a < i \\le n$, we have $i \\in B$. Thus from every $a + b$ consecutive numbers, there are at least $a$ of them in $B$ and hence if the remainder of the division of $j$ by $a + b$, be more than $b$, then $j \\in B$. So easily we deduce that $d = a + b|n$. For each divisor $d$ of $n$, there are $d-1$ different pairs of $(a, b)$ whose sum is $d$. So the total number of states is equal to:\n\n$$\n\\sum_{d|n} (d-1) = \\sum_{d|n} d - \\sum_{d|n} 1 = \\sigma(n) - \\tau(n)\n$$\n\n3. Suppose that the bottom side of the main triangle is horizontal, hence sum of the ratios is sum of the ratios of the horizontal sides of the small triangles (with respect to the sign of the ratio) to the horizontal side of the main triangle, hence: (let $h_\\delta$ be the length of the horizontal side of the triangle $\\delta$, and let $\\Delta$ be the main triangle)\n\nsum of the ratios\n\n$$\n\\begin{aligned}\n&= \\sum_{\\delta \\in \\text{Small Triangles}} \\frac{h_\\delta}{h_\\Delta} \\times \\text{sign of the Homothety} \\\\\n&= \\frac{1}{h_\\Delta} \\times \\sum_{\\delta \\in \\text{Small Triangles}} (h_\\delta \\times \\text{sign of the Homothety})\n\\end{aligned}\n$$\n\nBut in the above summation, every horizontal segment (that contains no smaller horizontal segment) once appears with positive sign for its above"
    },
    {
      "_provenance": {
        "folder": "IRN_2010",
        "pages_map": {
          "P0": "page26.md",
          "P1": "page27.md",
          "P2": "page28.md"
        }
      },
      "author": "Meysam Aghighi; Morteza Saghafian",
      "booklet title": "2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1x5D_SqxNk1Wed0HnPBh2dirvB4vXAOXe",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2009-2010. All rights reserved.",
      "has_solutions": true,
      "id": "p_25c47f64bd74",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "\\[\n(2^{n-i} \\times 3^n \\times 5^n)^m \\times (2^d)^n + (2^n \\times 3^{n-i} \\times 5^n)^m \\times (3^d)^n \\\\ = (2^n \\times 3^n \\times 5^{n-i})^m \\times (5^d)^n\n\\]\nThus, a group of infinite solutions for the mentioned equation is:\n\\[\n(x, t, y, s, v, r) \\\\ = (2^{n-i} \\times 3^n \\times 5^n \\times a^{kn}, 2^d \\times a^{km}, 2^n \\times 3^{n-i} \\times 5^n \\times a^{kn}, 3^d \\\\ \\times a^{km}, 2^n \\times 3^n \\times 5^{n-i} \\times a^{kn}, 5^d \\times a^{km})\n\\]",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "First note that if $(x, t, y, s, v, r)$ be a solution, then\n\\[\n(x \\cdot a^{kn}, t \\cdot a^{km}, y \\cdot a^{kn}, s \\cdot a^{km}, v \\cdot a^{kn}, r \\cdot a^{km})\n\\]\nis another solution. So it is enough to find a primary solution. We know that\n\\[\n\\begin{aligned} 2 + 3 = 5 &\\Rightarrow 2^{mn+1} \\times 3^{mn} \\times 5^{mn} + 2^{mn} \\times 3^{mn+1} \\times 5^{mn} \\\\ &= 2^{mn} \\times 3^{mn} \\times 5^{mn+1} \\end{aligned}\n\\]\nNow since $\\text{gcd}(m, n) = 1$, hence there exists $1 \\le i < n$ such that $mi \\equiv -1 \\pmod{n}$. So $mi + 1 = nd, d \\in \\mathbb{N}$, and hence $mn + 1 = m(n - i) + mi + 1 = m(n - i) + nd$. So we have"
    },
    {
      "_provenance": {
        "folder": "IRN_2010",
        "pages_map": {
          "P0": "page26.md",
          "P1": "page27.md",
          "P2": "page28.md"
        }
      },
      "author": "Meysam Aghighi; Morteza Saghafian",
      "booklet title": "2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1x5D_SqxNk1Wed0HnPBh2dirvB4vXAOXe",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2009-2010. All rights reserved.",
      "has_solutions": true,
      "id": "p_23c0c38ef894",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "rightmost border's height will be more, and this is a contradiction. Similarly if this connected component is not connected to the left side of the table, then its leftmost border's height will be more, and a contradiction. Thus, this connected component is connected to both right and left sides of the table, and hence they're connected to each other.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "A connected component of diagonals is some of the diagonals that are connected to each other by a path of diagonals, and if we add another diagonal to it, it will no longer be connected. Easily, it can be seen that the diagonals that are not in this component but are on the border of this component, are connected. (until they don't cross the table sides.)\n\nNow, consider a path of diagonals that starts from the upper side of the table and has the maximum height among all the paths starting from the upper side. If the height of this path be $m$, the problem is solved, otherwise suppose that the height be less than $m$. Consider the connected component having this path. If this component is not connected to the right side of the table, then its"
    },
    {
      "_provenance": {
        "folder": "IRN_2010",
        "pages_map": {
          "P0": "page26.md",
          "P1": "page27.md",
          "P2": "page28.md"
        }
      },
      "author": "Meysam Aghighi; Morteza Saghafian",
      "booklet title": "2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1x5D_SqxNk1Wed0HnPBh2dirvB4vXAOXe",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2009-2010. All rights reserved.",
      "has_solutions": true,
      "id": "p_885d7d9bad51",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Now we claim that for every concave sequence $a_i$, we have $\\sum_{i=0}^{1389} ia_i^2 \\ge c_0 \\sum_{i=0}^{1389} a_i^2$, and since we have the above equality, $c_0$ must be the answer.\n\nConsider a concave sequence $a_0, a_1, \\dots, a_{1389}$, we define\n\n$$\nb_i = (1389 - i) \\frac{a_{\\lfloor c_0 \\rfloor}}{1389 - \\lfloor c_0 \\rfloor}\n$$\n\nIndeed we are trying to make the sequence linear. Now we must prove that:\n\n$$\n\\sum_{i=\\lfloor c \\rfloor}^{1389} (i-c)a_i^2 \\ge \\sum_{i=0}^{\\lfloor c \\rfloor} (c-i)a_i^2\n$$\n\nConsidering the definition of $b_i$ and its linearity, and the fact that $a_{\\lfloor c_0 \\rfloor} = b_{\\lfloor c_0 \\rfloor}$, $a_{1389} \\ge b_{1389}$, easily it can be proved that if $i \\ge \\lfloor c_0 \\rfloor$ then $a_i \\ge b_i$, and if $i \\le \\lfloor c_0 \\rfloor$ then $a_i \\le b_i$. So we have:\n\n$$\n\\sum_{i=\\lfloor c_0 \\rfloor}^{1389} (i - c_0)a_i^2 \\ge \\sum_{i=\\lfloor c_0 \\rfloor}^{1389} (i - c_0)b_i^2 \\ge \\sum_{i=0}^{\\lfloor c_0 \\rfloor} (c_0 - i)b_i^2 \\ge \\sum_{i=0}^{\\lfloor c_0 \\rfloor} (c_0 - i)a_i^2\n$$\n\nSo the desired $c$ equals to $c_0 = \\frac{1389^2 - 5 \\times 1389}{4 \\times 1389 - 2}$.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "First consider the concave sequence $a_i = (1389 - i)d, 0 \\le i \\le 1389, d > 0$. Note that the maximum possible value of $c$ for this sequence is $c_0 = \\frac{\\sum_{i=0}^{1389} ia_i^2}{\\sum_{i=0}^{1389} a_i^2} = \\frac{1389^2 - 5 \\times 1389}{4 \\times 1389 - 2}$."
    },
    {
      "_provenance": {
        "folder": "IRN_2010",
        "pages_map": {
          "P0": "page26.md",
          "P1": "page27.md",
          "P2": "page28.md"
        }
      },
      "author": "Meysam Aghighi; Morteza Saghafian",
      "booklet title": "2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1x5D_SqxNk1Wed0HnPBh2dirvB4vXAOXe",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2009-2010. All rights reserved.",
      "has_solutions": true,
      "id": "p_ec914f0ec3f5",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Now we claim that for every concave sequence $a_i$, we have $\\sum_{i=0}^{1389} ia_i^2 \\ge c_0 \\sum_{i=0}^{1389} a_i^2$, and since we have the above equality, $c_0$ must be the answer.\n\nConsider a concave sequence $a_0, a_1, \\dots, a_{1389}$, we define\n\n$$\nb_i = (1389 - i) \\frac{a_{\\lfloor c_0 \\rfloor}}{1389 - \\lfloor c_0 \\rfloor}\n$$\n\nIndeed we are trying to make the sequence linear. Now we must prove that:\n\n$$\n\\sum_{i=\\lfloor c \\rfloor}^{1389} (i-c)a_i^2 \\ge \\sum_{i=0}^{\\lfloor c \\rfloor} (c-i)a_i^2\n$$\n\nConsidering the definition of $b_i$ and its linearity, and the fact that $a_{\\lfloor c_0 \\rfloor} = b_{\\lfloor c_0 \\rfloor}$, $a_{1389} \\ge b_{1389}$, easily it can be proved that if $i \\ge \\lfloor c_0 \\rfloor$ then $a_i \\ge b_i$, and if $i \\le \\lfloor c_0 \\rfloor$ then $a_i \\le b_i$. So we have:\n\n$$\n\\sum_{i=\\lfloor c_0 \\rfloor}^{1389} (i - c_0)a_i^2 \\ge \\sum_{i=\\lfloor c_0 \\rfloor}^{1389} (i - c_0)b_i^2 \\ge \\sum_{i=0}^{\\lfloor c_0 \\rfloor} (c_0 - i)b_i^2 \\ge \\sum_{i=0}^{\\lfloor c_0 \\rfloor} (c_0 - i)a_i^2\n$$\n\nSo the desired $c$ equals to $c_0 = \\frac{1389^2 - 5 \\times 1389}{4 \\times 1389 - 2}$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "6. First consider the concave sequence $a_i = (1389 - i)d, 0 \\le i \\le 1389, d > 0$. Note that the maximum possible value of $c$ for this sequence is $c_0 = \\frac{\\sum_{i=0}^{1389} ia_i^2}{\\sum_{i=0}^{1389} a_i^2} = \\frac{1389^2 - 5 \\times 1389}{4 \\times 1389 - 2}$."
    },
    {
      "_provenance": {
        "folder": "IRN_2010",
        "pages_map": {
          "P0": "page26.md",
          "P1": "page27.md",
          "P2": "page28.md"
        }
      },
      "author": "Meysam Aghighi; Morteza Saghafian",
      "booklet title": "2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1x5D_SqxNk1Wed0HnPBh2dirvB4vXAOXe",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2009-2010. All rights reserved.",
      "has_solutions": true,
      "id": "p_da3d7e0f7672",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Since $f$ is increasing, so for every $\\frac{f(a)-a}{2} \\le t \\le \\frac{f(a)+a}{2}$ we have $f(t) = 2a$.\n\nHence $f(\\frac{f(a)+a}{2}) = 2a$. From the other hand by letting $x = y = \\frac{a}{2}$, we have\n\n$$\nf(\\frac{f(a)+\\frac{a}{2}}{2}) = 2a - f(a) + f(f(a) - a)\n$$\n\nHence we have\n\n$$\n2a = 2a - f(a) + f(f(a) - a) \\Rightarrow f(a) = f(f(a) - a)\n$$\n\nLetting $x = 0, y = \\frac{a}{2}$ in the main equation results in\n\n$$\nf(a) = -a + f(f(a) - a) \\Rightarrow -a = 0 \\Rightarrow a = 0 \\Rightarrow f(0) = 0\n$$\n\nNow letting $x = 0$ in the main equation results in\n\n$$\nf(y) = f(f(y))\n$$\n\nThen let $x = y$, and we have\n\n$$\nf(\\frac{3}{2}x + \\frac{1}{2}f(x)) = 2x - f(x) + f(f(x)) = 2x\n$$\n\nSo $f$ is surjective. Hence in the equation $f(y) = f(f(y))$, $f(y)$ can be all values in domain, so $f$ is the identity function.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "9. Suppose that $f(0) = a$. Let $x = y = 0$, we have\n\n$$\nf\\left(\\frac{a}{2}\\right) = f(a) - a\n$$\n\nLet $x = \\frac{a}{2}, y = 0$, we have\n\n$$\nf\\left(\\frac{f(a) - \\frac{a}{2}}{2}\\right) = 2a\n$$\n\nLet $x = a, y = 0$, we have\n\n$$\nf\\left(\\frac{f(a) + a}{2}\\right) = 2a\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2010",
        "pages_map": {
          "P0": "page26.md",
          "P1": "page27.md",
          "P2": "page28.md"
        }
      },
      "author": "Meysam Aghighi; Morteza Saghafian",
      "booklet title": "2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1x5D_SqxNk1Wed0HnPBh2dirvB4vXAOXe",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2009-2010. All rights reserved.",
      "has_solutions": true,
      "id": "p_f564273c3035",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "If we let $a = b = 0$, it concludes that $R(0, c^2) = 0$. So for all $y$, $R(0, y) = 0$, it means that $R(x, y) = xQ'(x, y)$. It is seen that $Q'$ satisfies the $(\\star)$, so we reached the contradiction, and hence $P \\equiv 0$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "10. Let $Q(x, y) = P(x, y + 1)$. So we must find all polynomials $Q(x, y)$ such that for all $a, b, c \\in \\mathbb{R}$:\n\n$$\n(\\star) \\qquad Q(ab, c^2) + Q(bc, a^2) + Q(ca, b^2) = 0\n$$\n\nSuppose that $Q(x, y)$ be the polynomial with the least degree that satisfies the above equation, we reach the contradiction by finding a polynomial with lesser degree that satisfies the above equation, concluding that $Q$ can only be zero. Let $a = b = c = 0$, so $Q(0,0) = 0$. Now let $a = b = 0$, it results that $Q(0, c^2) = 0$, hence we can say that for every $y$, we have $Q(0, y) = 0$. Then by letting $a = 0$ we conclude that $Q(bc, 0) = 0$. Thus for all $x$, we have $Q(x, 0) = 0$, so we can consider $Q(x, y) = xyR(x, y)$. By applying it to the above equation, we have:\n\n$$\nabc^2 R(ab, c^2) + a^2 b c R(bc, a^2) + ab^2 c R(ca, b^2) = 0 \\\\ \\Rightarrow c R(ab, c^2) + a R(bc, a^2) + b R(ca, b^2) = 0\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2010",
        "pages_map": {
          "P0": "page26.md",
          "P1": "page27.md",
          "P2": "page28.md"
        }
      },
      "author": "Meysam Aghighi; Morteza Saghafian",
      "booklet title": "2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1x5D_SqxNk1Wed0HnPBh2dirvB4vXAOXe",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2009-2010. All rights reserved.",
      "has_solutions": true,
      "id": "p_01d628de4123",
      "language": "und",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Suppose that $Q(x, y)$ be the polynomial with the least degree that satisfies the above equation, we reach the contradiction by finding a polynomial with lesser degree that satisfies the above equation, concluding that $Q$ can only be zero. Let $a = b = c = 0$, so $Q(0,0) = 0$. Now let $a = b = 0$, it results that $Q(0, c^2) = 0$, hence we can say that for every $y$, we have $Q(0, y) = 0$. Then by letting $a = 0$ we conclude that $Q(bc, 0) = 0$. Thus for all $x$, we have $Q(x, 0) = 0$, so we can consider $Q(x, y) = xyR(x, y)$. By applying it to the above equation, we have:\n\n$$\nabc^2 R(ab, c^2) + a^2 b c R(bc, a^2) + ab^2 c R(ca, b^2) = 0 \\\\ \\Rightarrow c R(ab, c^2) + a R(bc, a^2) + b R(ca, b^2) = 0\n$$\n\nIf we let $a = b = 0$, it concludes that $R(0, c^2) = 0$. So for all $y$, $R(0, y) = 0$, it means that $R(x, y) = xQ'(x, y)$. It is seen that $Q'$ satisfies the $(\\star)$, so we reached the contradiction, and hence $P \\equiv 0$.",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "10. Let $Q(x, y) = P(x, y + 1)$. So we must find all polynomials $Q(x, y)$ such that for all $a, b, c \\in \\mathbb{R}$:\n\n$$\n(\\star) \\qquad Q(ab, c^2) + Q(bc, a^2) + Q(ca, b^2) = 0\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2010",
        "pages_map": {
          "P0": "page26.md",
          "P1": "page27.md",
          "P2": "page28.md"
        }
      },
      "author": "Meysam Aghighi; Morteza Saghafian",
      "booklet title": "2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1x5D_SqxNk1Wed0HnPBh2dirvB4vXAOXe",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2009-2010. All rights reserved.",
      "has_solutions": true,
      "id": "p_ec9fd7cca06b",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Thus the triangles $BXK$ and $XYK$ are similar, and hence $BXK$ and $BCT$ are similar. So $\\frac{BX}{BK} = \\frac{BC}{BT}$, also $\\angle XBK = \\angle CBT \\Rightarrow \\angle XBC = \\angle KBT$. From which we deduce that $BKT$ and $BXC$ are similar. So $\\angle BXC = \\angle BKT$, and:\n\n$$\n\\Rightarrow \\angle BKT + \\angle BKP = \\angle BXC + \\angle BKP = 180^{\\circ} \\Rightarrow K,P,T \\text{ are collinear}\n$$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Since $Q$ is on both circumcircles of $ABC$ and $AXY$, so there is a spiral similarity about $Q$ carrying one of these circles to another such that it carries $X$ to $B$, and $Y$ to $C$. Suppose this similarity carries $K$ to a point $T$. It is enough that we prove that the points $P, K, T$ are collinear, because then, considering the similarity of $QKT$ and $QXB$ we have:\n\n$$\n\\angle QXA = 180^\\circ - \\angle QXB = 180^\\circ - \\angle QKT = \\angle QKP\n$$\n\nNow we prove that $P, K, T$ are collinear:\n\nThe spiral similarity about $Q$, carries $X, Y, K$ to $B, C, T$ respectively. So the triangles $XYK$ and $BCT$ are similar. From the other hand: (let $m(AB)$ denote the measure of the arc $AB$)\n\n$$\n\\angle BXK = \\angle BPK = \\frac{m(YK)}{2} = \\angle XYK \\\\ \\angle XBK = \\frac{m(KX)}{2} = \\angle YXK\n$$"
    }
  ],
  "2012": [
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_599697e39310",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "\\[\n\\begin{aligned}\n& \\Leftrightarrow \\sin 120^\\circ \\cos(2\\alpha) - \\sin 120^\\circ \\sin(2\\alpha) \\le (1 + \\cos(2\\alpha)) \\tan 30^\\circ \\\\\n& \\Leftrightarrow (\\sin 120^\\circ - \\tan 30^\\circ) \\cos(2\\alpha) - \\cos 120^\\circ \\sin(2\\alpha) \\le \\tan 30^\\circ.\n\\end{aligned}\n\\]\n\nWe know by Cauchy-Schwarz inequality that\n\n\\[\n\\begin{aligned}\n(LHS)^2 &\\le ((\\sin 120^\\circ - \\tan 30^\\circ)^2 + (\\cos 120^\\circ)^2)(\\cos^2(2\\alpha) + \\sin^2(2\\alpha)) \\\\\n&= \\left(\\frac{\\sqrt{3}}{2} - \\frac{\\sqrt{3}}{3}\\right)^2 + \\left(\\frac{-1}{2}\\right)^2 = \\frac{3}{36} + \\frac{1}{4} = \\frac{1}{3} = (\\tan 30^\\circ)^2 = (RHS)^2.\n\\end{aligned}\n\\quad \\square\n\\]",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "2. Denote by $I$ the intersection point of $AD$ and $BE$, so $I$ is the incenter of triangle $ABC$. Suppose that $\\alpha = \\frac{\\angle BAC}{2}$. We have\n\n\\[\n\\angle IBD = 90^\\circ - \\angle IBA = 90^\\circ - \\frac{\\angle CBA}{2} = 90^\\circ - 30^\\circ = 60^\\circ,\n\\]\n\n\\[\n\\angle CEB = 90^\\circ - \\angle CBE = 90^\\circ - \\frac{\\angle CBA}{2} = 90^\\circ - 30^\\circ = 60^\\circ.\n\\]\n\nThus in triangles $BEC$ and $BED$ we have $\\angle CEB = \\angle EBD = 60^\\circ$ and $BE$ is side of both of them. Since $\\angle BEC = 30^\\circ$ it suffices to prove $BD < CE$ but we have $\\frac{BD}{AB} = \\tan \\alpha$ and $\\frac{EC}{BC} = \\tan 30^\\circ$, So\n\n\\[\nBD \\le CE \\Leftrightarrow AB \\tan \\alpha \\le BC \\tan 30^\\circ \\Leftrightarrow \\frac{AB}{BC} \\tan \\alpha \\le \\tan 30^\\circ\n\\]\n\n\\[\n\\Leftrightarrow \\tan \\alpha \\frac{\\sin(120^\\circ - 2\\alpha)}{\\sin(2\\alpha)} \\le \\tan 30^\\circ \\quad (\\text{Law of Sines})\n\\]\n\n\\[\n\\Leftrightarrow \\frac{\\sin \\alpha}{\\cos \\alpha} \\frac{\\sin(120^\\circ - 2\\alpha)}{2 \\sin \\alpha \\cos \\alpha} \\le \\tan 30^\\circ\n\\]\n\n\\[\n\\Leftrightarrow \\sin(120^\\circ - 2\\alpha) \\le 2\\cos^2 \\alpha \\cdot \\tan 30^\\circ\n\\]"
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_8d57db914319",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "This contradiction shows that $n \\ge 22$. The following numbers are an example for $n = 22$ and so the answer is 22.\n\n$$\na_i = \\sqrt{\\frac{11}{10}} \\quad (1 \\le i \\le 11) \\quad \\text{and} \\quad a_i = -\\sqrt{\\frac{11}{10}} \\quad (12 \\le i \\le 22). \\quad \\square\n$$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "4. Suppose that $a_1, a_2, \\dots, a_n$ satisfies the conditions. First, we have\n\n$$\n20 = a_1^2 + a_2^2 + \\dots + a_n^2 < \\underbrace{1 + 1 + \\dots + 1}_{n} = n.\n$$\n\nSo $21 \\le n$. We want to show that $n = 22$ is the answer. So we prove that there are not 21 numbers $a_1, a_2, \\dots, a_{21}$ in the interval $(-1, 1)$ such that $a_1 + a_2 + \\dots + a_{21} = 0$ and $a_1^2 + a_2^2 + \\dots + a_{21}^2 = 20$. Assume that sequence $a_i$ is in increasing order so $a_1 \\le \\frac{a_1 + a_2 + \\dots + a_{21}}{21} \\le a_{21}$. Thus $a_1 \\le 0 \\le a_{21}$. But because of minimality of number 21, we have $a_i \\ne 0$ for $1 \\le i \\le 21$. So there exist a unique number $1 \\le k < 21$ such that\n\n$$\n-1 < a_1 \\le a_2 \\le \\dots \\le a_k < 0 < a_{k+1} \\le \\dots \\le a_{21} < 1.\n$$\n\nWe know that numbers $-a_1, -a_2, \\dots, -a_{21}$ satisfies the problem condition, too.\n\nThereby we can assume that $k \\le \\frac{21}{2}$ and since $k \\in \\mathbb{Z}$ we have $k \\le 10$.\n\nNow for every $k+1 \\le i \\le 21$. We have $0 < a_i < 1$, so $0 < a_i^2 < a_i$.\n\n$$\n\\begin{aligned}\n20 &= a_1^2 + a_2^2 + \\dots + a_{21}^2 = (a_1^2 + \\dots + a_k^2) + (a_{k+1}^2 + \\dots + a_{21}^2) \\\\\n&< (a_1^2 + \\dots + a_k^2) + (a_{k+1} + \\dots + a_{21}) \\\\\n&< (a_1^2 + \\dots + a_k^2) + (-a_1 - a_2 - \\dots - a_k) \\\\\n&< 2k \\le 20.\n\\end{aligned}\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_7c3ffc6c1632",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2012_p21_data_97da81f8d2.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "CYKZ is cyclic, so $\\angle CKZ = \\angle CYZ = 45^\\circ + \\frac{\\gamma}{2} + \\frac{\\alpha}{2}$. Therefore\n\n$$\n\\angle CKE' = 180^\\circ - \\angle CKZ = 135^\\circ - \\frac{\\gamma}{2} - \\frac{\\alpha}{2}. \\quad (3)\n$$\n\n$$\n\\begin{aligned} \\angle CE'K &= 360^\\circ - (\\angle MCE' + \\angle XMC + \\angle MXE') \\\\ &= 360^\\circ - (180^\\circ - \\gamma + 90^\\circ + 180^\\circ - \\alpha) = \\alpha + \\gamma - 90^\\circ. \\end{aligned} \\quad (4)\n$$\n\nSo\n\n$$\n\\begin{aligned} \\angle KCE' &= 180^\\circ - (\\angle CE'K + \\angle CKE') \\\\ (3),(4) \\Rightarrow \\angle KCE' &= 180^\\circ - (\\alpha + \\gamma - 90^\\circ + 135^\\circ - \\frac{\\alpha}{2} - \\frac{\\gamma}{2}) \\\\ &= 135^\\circ - \\frac{\\alpha}{2} - \\frac{\\gamma}{2} = \\angle CKE'. \\end{aligned}\n$$\n\nThereby triangle $CE'K$ is isosceles and hence $CE' = KE'$. Similarly, we have $BD' = KD'$ and so $D'E' = D'K + KE' = BD' + CE'$ and this is desired assertion. $\\square$\n\n% IMAGE: ![](images/2012_p21_data_97da81f8d2.png)",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "6. Suppose that $M$ is the midpoint of side $BC$ and $a$ its perpendicular bisector. $X$ is the intersection point of lines $a$ and $l$. Put $\\angle MXE = \\alpha, \\angle ABC = \\beta$ and $\\angle ACB = \\gamma$. Let $Y$ be a point on segment $DE$ such that $EY = CE$ and $Z$ the reflection of $Y$ with respect to $a$, So $Z$ lies on $l'$. It is obvious that $BCYZ$ is a trapezoid and hence cyclic. Denote by $K$, the intersection point of $l'$ and circumcircle of $BCYZ$ (The solution is similar when the circle is tangent to $l'$). Now we want to prove that $D'B = D'K$.\n\n$$\n\\begin{aligned}\n\\angle CED &= 360^{\\circ} - (\\angle MCE + \\angle CMX + \\angle MXE) \\\\\n&= 360^{\\circ} - (180^{\\circ} - \\gamma + 90^{\\circ} + \\alpha) = 90^{\\circ} + \\gamma - \\alpha\n\\end{aligned}\n\\qquad \\text{Obviously,} \\\\\n\\Rightarrow \\angle CYE = \\frac{180^{\\circ} - \\angle CED}{2} = \\frac{180^{\\circ} - 90^{\\circ} - \\gamma + \\alpha}{2} = 45^{\\circ} - \\frac{\\gamma}{2} + \\frac{\\alpha}{2}. \\quad (1)\n$$\n\ntriangle $ZXY$ is isosceles, so $\\angle XYZ = 90^{\\circ} - \\angle MXE = 90^{\\circ} - \\alpha$. (2)\n\n$$\n(1), (2) \\Rightarrow \\angle CYZ = 180^{\\circ} - (90^{\\circ} - \\alpha) - \\left(45^{\\circ} - \\frac{\\gamma}{2} - \\frac{\\alpha}{2}\\right) = 45^{\\circ} + \\frac{\\gamma}{2} + \\frac{\\alpha}{2}.\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_492ed5a0f17a",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2012_p21_data_97da81f8d2.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "CYKZ is cyclic, so $\\angle CKZ = \\angle CYZ = 45^\\circ + \\frac{\\gamma}{2} + \\frac{\\alpha}{2}$. Therefore\n\n$$\n\\angle CKE' = 180^\\circ - \\angle CKZ = 135^\\circ - \\frac{\\gamma}{2} - \\frac{\\alpha}{2}. \\quad (3)\n$$\n\n$$\n\\begin{aligned} \\angle CE'K &= 360^\\circ - (\\angle MCE' + \\angle XMC + \\angle MXE') \\\\\n&= 360^\\circ - (180^\\circ - \\gamma + 90^\\circ + 180^\\circ - \\alpha) = \\alpha + \\gamma - 90^\\circ. \\end{aligned} \\quad (4)\n$$\n\nSo\n\n$$\n\\begin{aligned} \\angle KCE' &= 180^\\circ - (\\angle CE'K + \\angle CKE') \\\\\n(3),(4) \\Rightarrow \\angle KCE' &= 180^\\circ - (\\alpha + \\gamma - 90^\\circ + 135^\\circ - \\frac{\\alpha}{2} - \\frac{\\gamma}{2}) \\\\\n&= 135^\\circ - \\frac{\\alpha}{2} - \\frac{\\gamma}{2} = \\angle CKE'. \\end{aligned}\n$$\n\nThereby triangle $CE'K$ is isosceles and hence $CE' = KE'$. Similarly, we have $BD' = KD'$ and so $D'E' = D'K + KE' = BD' + CE'$ and this is desired assertion. $\\square$\n\n% IMAGE: ![](images/2012_p21_data_97da81f8d2.png)",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Suppose that $M$ is the midpoint of side $BC$ and $a$ its perpendicular bisector. $X$ is the intersection point of lines $a$ and $l$. Put $\\angle MXE = \\alpha, \\angle ABC = \\beta$ and $\\angle ACB = \\gamma$. Let $Y$ be a point on segment $DE$ such that $EY = CE$ and $Z$ the reflection of $Y$ with respect to $a$, So $Z$ lies on $l'$. It is obvious that $BCYZ$ is a trapezoid and hence cyclic. Denote by $K$, the intersection point of $l'$ and circumcircle of $BCYZ$ (The solution is similar when the circle is tangent to $l'$). Now we want to prove that $D'B = D'K$.\n\n$$\n\\begin{aligned}\n\\angle CED &= 360^{\\circ} - (\\angle MCE + \\angle CMX + \\angle MXE) \\\\\n&= 360^{\\circ} - (180^{\\circ} - \\gamma + 90^{\\circ} + \\alpha) = 90^{\\circ} + \\gamma - \\alpha\n\\end{aligned}\n\\qquad \\text{Obviously,} \\\\\n\\Rightarrow \\angle CYE = \\frac{180^{\\circ} - \\angle CED}{2} = \\frac{180^{\\circ} - 90^{\\circ} - \\gamma + \\alpha}{2} = 45^{\\circ} - \\frac{\\gamma}{2} + \\frac{\\alpha}{2}. \\quad (1)\n$$\n\ntriangle $ZXY$ is isosceles, so $\\angle XYZ = 90^{\\circ} - \\angle MXE = 90^{\\circ} - \\alpha$. (2)\n\n$$\n(1), (2) \\Rightarrow \\angle CYZ = 180^{\\circ} - (90^{\\circ} - \\alpha) - \\left(45^{\\circ} - \\frac{\\gamma}{2} - \\frac{\\alpha}{2}\\right) = 45^{\\circ} + \\frac{\\gamma}{2} + \\frac{\\alpha}{2}.\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_40233877a3ac",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Now let $Q(x) = P_{i_1}(x) + P_{i_2}(x) + \\dots + P_{i_t}(x)$ where $i_1, i_2, \\dots, i_t \\in \\{1, 2, \\dots, k\\}$ are distinct. Obviously $Q(x) \\in \\mathbb{Z}[x]$ is a polynomial of degree $n$.\n\nFor each $0 \\le j \\le n-1$, numbers $Q(jk + \\frac{1}{2})$ and $Q((j+1)k + \\frac{1}{2})$ have different signs\nbecause $P_{i_1}, P_{i_2}, \\dots, P_{i_t}$ have this property. So again according to mean value theorem\nwe deduce that $Q$ has a root in the interval $(jk + \\frac{1}{2}, (j+1)k + \\frac{1}{2})$ and $Q(x)$ has at\nmost $n$ real roots so all its roots are real, hence the claim is proved. $\\square$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "2. For each $1 \\le i \\le k$ we define\n\n$$\nP_i(x) = (x - i)(x - (k + i))\\cdots(x - ((n - 1)k + i)).\n$$\n\nWe claim that these polynomials satisfy the problem condition.\n\nFor each $1 \\le i \\le k$ and each $0 \\le j \\le n - 1$, $P_i(x)$ has exactly one simple root in the interval $(jk + \\frac{1}{2}, (j+1)k + \\frac{1}{2})$ so invoking the *mean value theorem* we deduce that $P_i(jk + \\frac{1}{2})$ and $P_i((j+1)k + \\frac{1}{2})$ have different signs. Note that $P_i(nk + \\frac{1}{2}) > 0$ because $P_i$ is monic and so is positive for large positive values and does not have any root greater than $n$. Thus for each $1 \\le i \\le k$, $P_i(jk + \\frac{1}{2}) > 0$ if $j \\equiv n \\pmod 2$ and $P_i(jk + \\frac{1}{2}) < 0$ if $j \\not\\equiv n \\pmod 2$."
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_5b733eccc62c",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Now consider the following cases.\n\n**Case 1.** $\\alpha \\ge 1$. If $a_i \\ge 1$ since $\\alpha \\ge 1$ we have $a_i^{\\alpha-1} \\ge 1$, hence $a_i^{1-\\alpha} \\le 1$. If $a_i = 0$ also $a_i^{1-\\alpha} = 0 \\le 1$. So $nl = \\sum_{i=1}^k a_i^{1-\\alpha} t_i \\le \\sum_{i=1}^k t_i$. So the required time is at least $nl$. If each person goes on the escalator when the previous one reached the top of the escalator the required time equals $nl$. Hence in this case the required time is at least $nl$.\n\n**Case 2.** $\\alpha < 1$. Since $a_i < n$ and $1 - \\alpha > 0$ we have $a_i^{1-\\alpha} < n^{1-\\alpha}$ so\n\n$$\nnl = \\sum_{i=1}^{k} a_{i}^{1-\\alpha} t_{i} \\leq \\sum_{i=1}^{k} n^{1-\\alpha} t_{i} = n^{1-\\alpha} \\sum_{i=1}^{k} t_{i} \\Rightarrow n^{\\alpha} l \\leq \\sum_{i=1}^{k} t_{i}\n$$\n\nSo the required time is at least $n^\\alpha l$. If all $n$ people go on the escalator together the velocity equals $n^{-\\alpha}$ and so the required time equals $\\frac{l}{n^{-\\alpha}} = n^\\alpha l$. Hence in this case the required time is at least $n^\\alpha l$. $\\square$",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "4. In every moment consider the number of persons that are on the escalator at that time. Now consider the intervals such that in every time of such intervals the number of persons on the escalator is equal to a fixed integer. Suppose that we have $k$ intervals $I_1, I_2, \\dots, I_k$ and for $1 \\le i \\le k$, $a_i$ and $l_i$ denotes the length and number of persons on the escalator in every moment of $I_i$. We claim that \\sum_{i=1}^{k} a_i^{1-\\alpha} t_i = nl$.\nSince every person have moved a distance equal $l$ so the sum of travelled distance of people is $nl$. On the other hand travelled distance of a person who is on the escalator on the interval $I_i$ equals $a_i^{-\\alpha} t_i$. So the sum of travelled distance in the interval $I_i$ equals $a_i \\cdot a_i^{-\\alpha} t_i = a_i^{1-\\alpha} t_i$, hence the total travelled distance is $\\sum_{i=1}^{k} a_i^{1-\\alpha} t_i$.\nSo the claim is proved."
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_c1081b16ee26",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Now consider the following cases.\n\n\\textbf{Case 1.} $\\alpha \\ge 1$. If $a_i \\ge 1$ since $\\alpha \\ge 1$ we have $a_i^{\\alpha-1} \\ge 1$, hence $a_i^{1-\\alpha} \\le 1$. If $a_i = 0$ also $a_i^{1-\\alpha} = 0 \\le 1$. So $nl = \\sum_{i=1}^k a_i^{1-\\alpha} t_i \\le \\sum_{i=1}^k t_i$. So the required time is at least $nl$. If each person goes on the escalator when the previous one reached the top of the escalator the required time equals $nl$. Hence in this case the required time is at least $nl$.\n\n\\textbf{Case 2.} $\\alpha < 1$. Since $a_i < n$ and $1 - \\alpha > 0$ we have $a_i^{1-\\alpha} < n^{1-\\alpha}$ so\n\n$$\nnl = \\sum_{i=1}^{k} a_{i}^{1-\\alpha} t_{i} \\leq \\sum_{i=1}^{k} n^{1-\\alpha} t_{i} = n^{1-\\alpha} \\sum_{i=1}^{k} t_{i} \\Rightarrow n^{\\alpha} l \\leq \\sum_{i=1}^{k} t_{i}\n$$\n\nSo the required time is at least $n^\\alpha l$. If all $n$ people go on the escalator together the velocity equals $n^{-\\alpha}$ and so the required time equals $\\frac{l}{n^{-\\alpha}} = n^\\alpha l$. Hence in this case the required time is at least $n^\\alpha l$. $\\square$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "4. In every moment consider the number of persons that are on the escalator at that time. Now consider the intervals such that in every time of such intervals the number of persons on the escalator is equal to a fixed integer. Suppose that we have $k$ intervals $I_1, I_2, \\dots, I_k$ and for $1 \\le i \\le k$, $a_i$ and $l_i$ denotes the length and number of persons on the escalator in every moment of $I_i$. We claim that $\\sum_{i=1}^{k} a_i^{1-\\alpha} t_i = nl$.\nSince every person have moved a distance equal $l$ so the sum of travelled distance of people is $nl$. On the other hand travelled distance of a person who is on the escalator on the interval $I_i$ equals $a_i^{-\\alpha} t_i$. So the sum of travelled distance in the interval $I_i$ equals $a_i \\cdot a_i^{-\\alpha} t_i = a_i^{1-\\alpha} t_i$, hence the total travelled distance is $\\sum_{i=1}^{k} a_i^{1-\\alpha} t_i$.\nSo the claim is proved."
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_7045835fd476",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "that $S$ is collection of all natural numbers less than or equal to $1390^{2n}$ with prime factors from the set $\\{q_1, q_2, \\dots, q_t\\}$. Then every element of $S$ can be written in the form $a^4b^2c$ where $a, b, c \\in \\mathbb{N}$ and $b, c$ are out of square. (In part a writing $a$ as $x^2y$ where $x, y \\in \\mathbb{N}$ and $y$ is out of square implies this claim.). Now $a \\le \\sqrt[4]{1390^{2n}} = 1390^{\\frac{n}{4}}$, $b = q_1^{\\alpha_1} q_2^{\\alpha_2} \\dots q_t^{\\alpha_t}$ and $c = q_1^{\\beta_1} q_2^{\\beta_2} \\dots q_t^{\\beta_t}$ such that $\\alpha_i, \\beta_i \\in \\{0,1\\}$. Thus we have $1390^{\\frac{n}{2}}, 2^t$ and $2^t$ states for $a, b$ and $c$ respectively and so $|S| \\le 2^{2t} \\times 1390^{\\frac{n}{2}}$.\n\nIn this case if $1 \\le i \\le k = 1390^6$ ($i \\in \\mathbb{N}$) then $a_i \\le i^{2.4} \\le k^{2.4} = 1390^6$ ($i \\times 2.4 \\le k \\le i^{2.4}$). Although prime divisors of $a_i$ ($1 \\le i \\le k$) are in the set $\\{q_1, q_2, \\dots, q_t\\}$ so $a_i \\in S$, hence $1390^{\\frac{5}{n}} - 1 < k \\le |S| \\le 2^{2t} \\times 1390^{\\frac{n}{2}}$. On the other hand $4 \\times 1390^2 \\le 1390^6 - 1$ and so\n\n$$\n2^{2n} \\times 1390^2 = (4 \\times 1390^2)^n \\le (1390^6 - 1)^n \\le 1390^6 - 1 < 2^{2t} \\times 1390^2,\n$$\n\nwhich implies $t \\ge n$. $\\square$",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "5. a) Denote by $t$ the number of \\textit{golden} prime numbers less than or equal to $1390^n$. We want to show that $t \\ge n$. Suppose that $S$ is collection of all natural numbers less than or equal to $1390^n$ with prime factors from the set $\\{q_1, q_2, \\dots, q_t\\}$. Obviously each element of $S$ can be written in the form $a^2b$ where $a, b \\in \\mathbb{N}$ and $b$ is out of square. So $a \\le \\sqrt{1390^n} = 1390^{\\frac{n}{2}}$ and $b = q_1^{\\alpha_1} q_2^{\\alpha_2} \\dots q_t^{\\alpha_t}$ such that $\\alpha_i \\in \\{0,1\\}$. Therefore $a$ and $b$ have $1390^{\\frac{n}{2}}$ and $2^t$ states respectively, and so $|S| \\le 2^t \\times 1390^{\\frac{n}{2}}$.\n\nOn the other hand for each integer $1 \\le i \\le k = 1390^{\\frac{2}{n}}$ we have\n\n$$\na_i \\le i^{1.5} \\le k^{1.5} = 1390^{\\frac{2}{n} \\times 1.5} = 1390^n.\n$$\n\nAnd all prime divisors of $a_i$ are in the set $\\{q_1, q_2, \\dots, q_t\\}$, so $a_i \\in S(1 \\le i \\le 1390^{\\frac{2}{n}})$.\n\nTherefore $S$ has at least $|k|$ elements. So $1390^{\\frac{2}{n}} - 1 < |k| \\le |S| \\le 2^t \\times 1390^{\\frac{n}{2}}$, But it is easy to check that $2 \\times 1390^{\\frac{1}{2}} \\le 1390^{\\frac{2}{n}} - 1$ and this implies $t \\ge n$, because $2^n \\times 1390^{\\frac{1}{2}} = (2 \\times 1390^2)^n \\le (1390^3 - 1)^n \\le 1390^{\\frac{2}{n}} - 1 < 2^t \\times 1390^2$. $\\square$\n\nb) The proof of this part is very similar to part a. Denote by $t$ the number of \\textit{golden} prime numbers less than or equal to $1390^{2n}$. We want to show that $t \\ge n$. Suppose"
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_0788b6631cfa",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "formula $f(x) = \\frac{x-r}{p}$. So, the sets $f(S \\cap S_{k+1}), \\dots, f(S \\cap S_n)$ are arithmetic progressions with common differences $d_{k+1}, \\dots, d_n$. These sets cover the natural numbers, because $S$ is covered by $S_{k+1}, \\dots, S_n$. So $d_{k+1}, \\dots, d_n$ is also a *covering sequence* which contradicts the minimality of $d_1, \\dots, d_n$. \\Box\n\nb) Let $p_1, \\dots, p_k$ be the prime factors of $d_1, \\dots, d_n$ and let $I_i = \\{j : p_i | d_j\\}$ (which can contain multiplicities). Suppose the natural numbers are covered by arithmetic progressions $S_i = \\{a_i + kd_i : k = 0, 1, 2, \\dots\\}$. We claim that at least one of the sets of sequences $\\mathfrak{S}_i = \\{S_j : j \\in I_i\\}$ covers the natural numbers. As a result, one of the sequences $\\{d_j : p_i | d_j\\}$ is a *covering sequence*.\n\nSuppose for each $i$ the sequences in $\\mathfrak{S}_i$ doesn't cover a number $r_i$. Let $D_i = \\prod_{p_i|d_j} d_j$.\n\nBy the Chinese remainder theorem, there is a natural number $r$ such that $r \\equiv r_i \\mod D_i$ for each $i$. So $r$ is not covered by any of the arithmetic progressions, a contradiction. So the claim is proved.\n\nNow, it is enough to suppose $d_i = p^{r_i}$. We claim it is a *covering sequence* if and only if $\\sum_i \\frac{1}{d_i} \\ge 1$ and it is *minimal* if and only if $\\sum_i \\frac{1}{d_i} = 1$.\n\ni) First, suppose we have covered the natural numbers by progressions $S_i$ as above. For any natural number $N$, $S_i$ covers at most $\\frac{N+1}{d_i}$ members of $\\{1, \\dots, N\\}$. So we have $\\sum_i \\frac{N+1}{d_i} \\ge N$. So $\\sum_i \\frac{1}{d_i} \\ge \\frac{N}{N+1}$. So we should have $\\sum_i \\frac{1}{d_i} \\ge 1$.\n\nii) Second, suppose $\\sum_i \\frac{1}{d_i} \\ge 1$. We use induction on $n$ to prove that this is a *covering sequence*. If $n=1$ it is evident. If not, let $n_i$ be the number of $p^i$'s in $d_1, \\dots, d_n$. We can suppose $n_0 = 0$. There should exist $i$ such that $n_i \\ge p$, or else $\\sum_i \\frac{1}{d_i} < (p-1)(\\frac{1}{p} + \\frac{1}{p^2} + \\dots) = 1$. Remove $p$ ones of $p^i$'s and add a $p^{i-1}$ to $d_1, \\dots, d_n$. The sum doesn't change. So, cover the natural numbers by progressions according to the induction hypothesis. Now, split a progression with common difference $p^{i-1}$ into $p$ progressions with common difference $p^i$. The induction claim is proved.\n\niii) Moreover, suppose $\\sum_i \\frac{1}{d_i} > 1$. Suppose $d_1 \\le \\cdots \\le d_n$. We have $\\sum_i \\frac{d_n}{d_i} > d_n$ and the summands are natural numbers. So $\\sum_i \\frac{1}{d_i} \\ge 1 + \\frac{1}{d_n}$. So, we can remove $d_n$ and the sequence is not minimal. $\\square$",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "8. a) Let's name the arithmetic progressions as $S_1, \\dots, S_n$. Suppose the remainders of $a_1, \\dots, a_k$ modulo $p$ don't contain $r$. So no member of $S_1, \\dots, S_k$ is $r$ (mod $p$). Consider the arithmetic progression $S = \\{r + ip : i = 0, 1, 2, \\dots\\}$ which has empty intersection with $S_1, \\dots, S_k$. So $S$ is covered by $S_{k+1}, \\dots, S_n$.\n\n**Lemma.** If $d, d'$ are coprime natural numbers, then intersection of the arithmetic progressions $\\{a + kd : k = 0, 1, 2, \\dots\\}$ and $\\{a' + kd' : k = 0, 1, 2, \\dots\\}$ is an arithmetic progression whose common difference is $dd'$.\n\n*Proof.* The sequences have a nonempty intersection by the Chinese remainder theorem. The difference of two consecutive elements of the intersection is the least common multiple of $d, d'$ which is $dd'$. \\Box\n\nAccording to the lemma, the sets $S \\cap S_{k+1}, \\dots, S \\cap S_n$ are arithmetic progressions with common differences $pd_{k+1}, \\dots, pd_n$. Consider the map $f : S \\to \\{0, 1, 2, \\dots\\}$ with"
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_f7a83530c71d",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "iii) Moreover, suppose $\\sum_i \\frac{1}{d_i} > 1$. Suppose $d_1 \\le \\cdots \\le d_n$. We have $\\sum_i \\frac{d_n}{d_i} > d_n$ and the summands are natural numbers. So $\\sum_i \\frac{1}{d_i} \\ge 1 + \\frac{1}{d_n}$. So, we can remove $d_n$ and the sequence is not minimal. $\\square$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "b) Let $p_1, \\dots, p_k$ be the prime factors of $d_1, \\dots, d_n$ and let $I_i = \\{j : p_i | d_j\\}$ (which can contain multiplicities). Suppose the natural numbers are covered by arithmetic progressions $S_i = \\{a_i + k d_i : k = 0, 1, 2, \\dots\\}$. We claim that at least one of the sets of sequences $\\mathfrak{S}_i = \\{S_j : j \\in I_i\\}$ covers the natural numbers. As a result, one of the sequences $\\{d_j : p_i | d_j\\}$ is a \\textit{covering sequence}.\n\nSuppose for each $i$ the sequences in $\\mathfrak{S}_i$ doesn't cover a number $r_i$. Let $D_i = \\prod_{p_i|d_j} d_j$.\n\nBy the Chinese remainder theorem, there is a natural number $r$ such that $r \\equiv r_i \\mod D_i$ for each $i$. So $r$ is not covered by any of the arithmetic progressions, a contradiction. So the claim is proved.\n\nNow, it is enough to suppose $d_i = p^{r_i}$. We claim it is a \\textit{covering sequence} if and only if $\\sum_i \\frac{1}{d_i} \\ge 1$ and it is \\textit{minimal} if and only if $\\sum_i \\frac{1}{d_i} = 1$.\n\ni) First, suppose we have covered the natural numbers by progressions $S_i$ as above. For any natural number $N$, $S_i$ covers at most $\\frac{N+1}{d_i}$ members of $\\{1, \\dots, N\\}$. So we have $\\sum_i \\frac{N+1}{d_i} \\ge N$. So $\\sum_i \\frac{1}{d_i} \\ge \\frac{N}{N+1}$. So we should have $\\sum_i \\frac{1}{d_i} \\ge 1$.\n\nii) Second, suppose $\\sum_i \\frac{1}{d_i} \\ge 1$. We use induction on $n$ to prove that this is a \\textit{covering sequence}. If $n=1$ it is evident. If not, let $n_i$ be the number of $p^i$'s in $d_1, \\dots, d_n$. We can suppose $n_0 = 0$. There should exist $i$ such that $n_i \\ge p$, or else $\\sum_i \\frac{1}{d_i} < (p-1)(\\frac{1}{p} + \\frac{1}{p^2} + \\dots) = 1$. Remove $p$ ones of $p^i$'s and add a $p^{i-1}$ to $d_1, \\dots, d_n$. The sum doesn't change. So, cover the natural numbers by progressions according to the induction hypothesis. Now, split a progression with common difference $p^{i-1}$ into $p$ progressions with common difference $p^i$. The induction claim is proved."
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_abc4abe5a7de",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "and as we know $\\begin{pmatrix} n+1 \\\\ 0 \\end{pmatrix} = 1$ is also odd. Therefore by the lemma this is equivalence\nto $n+1 = 2^k - 1$ for some integer $k \\ge 2$ so $n = 2^k - 2$ where $k \\ge 2$ is an integer.\n\\boxed{}",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Third Round\n\n1. Lemma. Suppose $n \\ge 2$ is an integer, then all of the numbers $\\begin{pmatrix} n \\\\ 0 \\end{pmatrix}, \\begin{pmatrix} n \\\\ 1 \\end{pmatrix}, \\dots, \\begin{pmatrix} n \\\\ n \\end{pmatrix}$ are odd if and only if $n = 2^k - 1$ for an integer $k \\ge 2$.\n\n*Proof*. For an integer $t$, let $v(t)$ be the greatest integer $u$ such that $2^u \\mid n$. We know that\n\n If $p, q \\in \\mathbb{N}$ and $0 \\le p \\le 2^q$ then $v(p) = v(2^q + p) = v(2^q - p)$ (1)\n\nBecause if $p = 2^a b$ with $a, b \\in \\mathbb{N}$ and $b$ an odd number then $a < q$ and $2^q \\pm p = 2^a (2^{q-a} \\pm b)$ where $2^{q-a} \\pm b$ are odd numbers.\n\nNow there is one and only one $m \\in \\mathbb{N}$ such that $2^m \\le n < 2^{m+1}$. Let $n = 2^m + s$\nwith $0 \\le s < 2^m$. Now consider the number $\\begin{pmatrix} n \\\\ 2^m - 1 \\end{pmatrix}$. We have\n\n$$\n\\begin{pmatrix} n \\\\ 2^m - 1 \\end{pmatrix} = \\begin{pmatrix} 2^m + s \\\\ 2^m - 1 \\end{pmatrix} = \\begin{pmatrix} 2^m + s \\\\ s + 1 \\end{pmatrix} = \\frac{(2^m + s)(2^m + s - 1)\\cdots(2^m + 1)(2^m)}{s(s-1)\\cdots(1)(s+1)}.\n$$\n\nBy (1) we have $v(2^m + i) = v(i)$ where $1 \\le i \\le s$, therefore\n\n$$\nv((2^m + s) \\cdots (2^m + 1)) = v(s!),\n$$\n\nand by assumption $\\begin{pmatrix} n \\\\ 2^m - 1 \\end{pmatrix}$ is odd therefore $v(2^m) = v(s+1)$ and consequently\n$2^m \\mid s+1$ and $s+1 \\ge 1$. Hence we have $2^m - 1 \\le s$ and therefore $s = 2^m - 1$ and\n$n = 2^m + s = 2^{m+1} - 1$.\n\nNow if $n = 2^k - 1$ for some natural number $k$, for each $1 \\le c \\le n$ we have\n\n$$\n\\begin{pmatrix} 2^k - 1 \\\\ c \\end{pmatrix} = \\frac{(2^k - 1)(2^k - 2)\\cdots(2^k - c)}{(1)(2)\\cdots(c)} \\quad \\text{and by (1) we know for} \\quad 1 \\le l \\le c\n$$\n\n$$\nv(2^k - l) = v(l), \\text{ so } \\begin{pmatrix} 2^k - 1 \\\\ c \\end{pmatrix} \\text{ is odd for } 0 \\le c \\le n. \\quad \\square\n$$\n\nNow we return to main problem:\n\nPositive integer $n$ has the property of the problem if and only if all the numbers $\\begin{pmatrix} n \\\\ i \\end{pmatrix} - i$ ($0 \\le i \\le n$) have the same parity. It means that for every $0 \\le i \\le n-1$, $\\begin{pmatrix} n \\\\ i \\end{pmatrix}, \\begin{pmatrix} n \\\\ i+1 \\end{pmatrix}$ have different parities. So $\\begin{pmatrix} n+1 \\\\ i+1 \\end{pmatrix} = \\begin{pmatrix} n \\\\ i \\end{pmatrix} + \\begin{pmatrix} n \\\\ i+1 \\end{pmatrix} \\ (1 \\le i \\le n-1)$ is odd"
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_ef231e00ce2e",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Now we give an example of $S$ with $\\binom{n+2}{2}$ points.\n\nConsider $U_n$ be $\\binom{n+2}{2}$ points forming a triangular lattice (The left figure above shows $U_8$.) Then $|U_n| = 1+2+\\cdots+(n+1) = \\binom{n+2}{2}$. For every point $p \\in U_n$ we can cover $U_n - \\{p\\}$ with $n$ lines (Right figure above shows an example for $n=8$). Now we use induction on $n$ to prove that we cannot cover $U_n$ with $n$ lines. The base $n=1$ is obvious. Assume the statement to be true for $n=k+1$ and suppose $U_n$ is covered with $k+1$ lines. Now consider line $L$ which points $A_1, A_2, \\dots, A_{k+2}$ lie on it. We must have $L$ in our $k+1$ lines because if we do not have it then we must cover $A_1, A_2, \\dots, A_{k+2}$ with at least $k+2$ distinct lines. Now $U_k = U_{k+1} - L$ and according to the induction hypothesis $U_k$ cannot be covered with $k$ lines so the statement was proved. $\\square$\n\n\\textbf{Comment.} The minimum possible number of elements of $S$ is $2n+1$. Obviously we have $|S| \\ge 2n+1$. Also any $2n+1$ points such that no three of them are collinear is an example.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2012_p30_data_90bdb9b39f.png",
          "title": ""
        }
      ],
      "statement_latex": "3. For each $p = (x_p, y_p) \\in S$ suppose that $L_{i,p} : a_{i,p}x + b_{i,p}y + c_{i,p} = 0 \\ (1 \\le i \\le n)$ are $n$ lines that cover $S - \\{p\\}$. We know that $p \\notin L_{1,p} \\cup L_{2,p} \\cup \\dots \\cup L_{n,p}$. Let\n\n$$\nP_p(x,y) = \\prod_{i=1}^{n} \\left( \\frac{a_{i,p}x + b_{i,p}y + c_{i,p}}{a_{i,p}x_p + b_{i,p}y_p + c_{i,p}} \\right) \\quad (p \\notin L_{i,p} \\Rightarrow a_{i,p}x_p + b_{i,p}y_p + c_{i,p} \\neq 0)\n$$\n\n$P_p$ is a polynomial of degree $n$ in two variables and we have $P_p|_{S-\\{p\\}} = 0$ and $P_p(p) = 1$ so $\\{P_p\\}_{p \\in S}$ are linearly independent in $F_n$, where $F_n$ denotes the vector space of polynomials in two variables of degree less than or equal to $n$, therefore\n$$ |S| \\le \\dim F_n = \\begin{pmatrix} n+2 \\\\ 2 \\end{pmatrix}. $$\n\n% IMAGE: ![](images/2012_p30_data_90bdb9b39f.png)"
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_3762fc919171",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "The induction claim follows trivially in each case. \\Box\n\nUsing this lemma, we get\n\n$$\nA = 2B' - 2C' + 2, \\quad (3)\n$$\n\nwhere $B', C'$ are the number of squares inside $P$ with the same properties as $B, C$. Let $R$ be the inner $(m-2) \\times (n-2)$ rectangles and draw its boundary together with the edges of $P$. These edges partition the square into some regions. It is easily seen that the boundary of each region, other than the inside of $P$ and the out-most region, is a cycle containing one edge in the boundary of $R$ and a path in $P$. Use the lemma for each region to get\n\n$$\nA_i = 2B_i - 2C_i + 2, \\quad 1 \\le i \\le t, \\quad (4)\n$$\n\nwhere $t$ is the number of mentioned regions. It is easily seen that\n\n$$\n\\begin{align*}\nB &= B' + \\sum_{i} B_i + 1, \\\\\nC &= C' + \\sum_{i} C_i + t + 4, \\\\\nA &= \\frac{1}{2}(A' + \\sum_{i} A_i + A''),\n\\end{align*}\n$$\n\nwhere $A''$ is the number of vertices without 90 degree turns that on the boundary of $R$. Now the assertion follows easily by substituting equation (3) and (4) in $A - B + C$. \\Box",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2012_p32_data_895af738d7.png",
          "title": ""
        },
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2012_p32_data_a918727cde.png",
          "title": ""
        },
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2012_p32_data_50a09920d1.png",
          "title": ""
        }
      ],
      "statement_latex": "Lemma 1. Let $P$ be an arbitrary cycle in the graph with length more than 4, such that no vertex is inside $P$. Then the number of vertices of $P$ with no 90 degree turns (A) is $2B - 2C + 2$, where $B$ is the number of squares inside $P$ with only two opposite sides in $P$ and $C$ is the number of squares inside $P$ with no edge in $P$.\n\nProof. We use induction on $k$, the number of squares inside $P$, which is more than one by assumption. For $k=2$ the assertion is trivial. Suppose $k>2$. Consider a new graph whose nodes are the centers of the squares inside $P$ and two nodes are adjacent if and only if their corresponding squares have a common edge (not necessarily in $P$). This graph is trivially connected and has no cycles, because if it has a cycle, then there is a vertex inside it which is also inside $P$. So the graph is a tree and has a leaf. Consequently, there is a square $Q$ inside $P$ with three sides in $P$. Consider the induction hypothesis for the cycle obtained by deleting these three edges and adding the remaining side of $Q$:\n\n$$\nA' = 2B' - 2C' + 2.\n$$\n\nLet $xyzt$ be the path in $P$ with the vertices of $Q$. Consider the following cases. The claims can be easily proved.\n\n* There are 90 degree turns at both $x$ and $t$. In this case we have $A = A' - 2$. Also $B = B' - 1, C = C'$ or $B = B', C = C' + 1$ depending on $Q$'s adjacent square inside $P$.\n\n% IMAGE: ![](images/2012_p32_data_895af738d7.png)\n\n* There is a 90 degree turn at only one of $x,t$. In this case we have $A = A'$, $B = B'$ and $C = C'$.\n\n% IMAGE: ![](images/2012_p32_data_a918727cde.png)\n\n* There is no 90 degree turn at $x$ and $t$. In this case we have $A = A' + 2$, $B = B' + 1$ and $C = C'$.\n\n% IMAGE: ![](images/2012_p32_data_50a09920d1.png)"
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_52c8e12c54fa",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "If we put $a_1 = a_2 = \\cdots = a_n = 1$ then $f(n) = f(\\underbrace{1+1+\\cdots+1}_{n}) \\le 2nf(1)$. Therefore\n\n$$\n\\begin{align*} \n(f(a+b))^n &= f((a+b)^n) = f\\left(\\sum_{i=0}^{n} \\binom{n}{i} a^i b^{n-i}\\right) \\le 2(n+1) \\max_{0 \\le i \\le n} \\{f\\left(\\binom{n}{i} a^i b^{n-i}\\right)\\} \\\\ \n&\\le 2(n+1) \\sum_{i=0}^{n} \\binom{n}{i} f(a^i) f(b^{n-i}) \\le 4(n+1)f(1) \\sum_{i=0}^{n} \\binom{n}{i} f(a)^i f(b)^{n-i} \\\\ \n&= 4(n+1)f(1)(f(a)+f(b))^n \\Rightarrow f(a+b) \\le \\sqrt[n]{4(n+1)f(1)(f(a)+f(b))} \n\\end{align*}\n$$\n\nIf $n$ tends to infinity, we have $\\sqrt[n]{4(n+1)f(1)} \\to 1$ and this implies the desired result. $\\square$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "5. We claim that for every $k \\in \\mathbb{N}$ and real numbers $a_1, a_2, \\dots, a_{2^k}$:\n\n$$\nf(a_1 + a_2 + \\cdots + a_{2^k}) \\le 2^k \\max\\{f(a_1), f(a_2), \\dots, f(a_{2^k})\\}\n$$\n\nProof is done by induction on $k$. Basis is obviously the condition (iii). Suppose the claim is true for $k$. For $k+1$ we have:\n\n$$\n\\begin{align*}\nf(a_1 + a_2 + \\cdots + a_{2^{k+1}}) &= f((a_1 + a_2 + \\cdots + a_{2^k}) + (a_{2^k+1} + \\cdots + a_{2^{k+1}})) \\\\\n&\\le 2 \\max\\{f(a_1 + a_2 + \\cdots + a_{2^k}) + f(a_{2^k+1} + \\cdots + a_{2^{k+1}})\\} \\\\\n&\\le 2 \\max\\{2^k \\max\\{f(a_1), f(a_2), \\dots, f(a_{2^k})\\}, 2^k \\max\\{f(a_{2^k+1}), \\dots, f(a_{2^{k+1}})\\}\\} \\\\\n&\\le 2^{k+1} \\max\\{f(a_1), f(a_2), \\dots, f(a_{2^{k+1}})\\}\n\\end{align*}\n$$\n\nNow suppose that $2^{k-1} < n \\le 2^k$:\n\n$$\n\\begin{align*}\nf(a_1 + \\cdots + a_n) &= f(a_1 + \\cdots + a_n + \\underbrace{0 + 0 + \\cdots + 0}_{2^k - n}) \\\\\n&\\le 2^k \\max\\{f(a_1), \\dots, f(a_n), f(0), \\dots, f(0)\\} \\\\\n&= 2^k \\max\\{f(a_1), \\dots, f(a_n)\\} \\le 2n \\max\\{f(a_1), \\dots, f(a_n)\\}\n\\end{align*}\n$$\n\n$2^{k-1} < n$ So $2^k < 2n$ and this implies the last inequality."
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_83544eb40c55",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2012_p35_data_6ad48afbac.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2012_p35_data_842630ca3a.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2012_p35_data_946c010f94.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "Let $S$ be area of pentagon $ABCDE$, $S_1$ area of pentagon $A_1B_1C_1D_1E_1$ and by $S'$ sum of area of triangles $ABC, BCD, CDE, DEA, EAB$ so the assertion is equivalent to\n\n$$\nS \\leq S' \\leq 2S. (*)\n$$\n\nThe right hand inequality in (*) is easy, because if we color triangles $ABC, BCD, CDE, DEA$ and $EAB$ each region in pentagon $ABCDE$ is colored at most two times.\n\n% IMAGE: ![](images/2012_p35_data_6ad48afbac.png)\n\nWe claim that in every convex pentagon the sum of area of corner triangles is more than or equal to area of pentagon.\n\nConsider a convex pentagon $ABCDE$. Obviously, There exist two adjacent angles with some more than $180^\\circ$. Suppose that these two angles are $\\angle D$ and $\\angle E$. Now fix points $B, C, D$ and $E$ in the plane and move point $A$. Since $ABCDE$ is convex, place of point $A$ must be in the shaded region (Look at the figure) which is convex itself.\n\n% IMAGE: ![](images/2012_p35_data_842630ca3a.png)\n\nLet $f(A) = S(ABC) + S(BCD) + S(CDE) + S(DEA) - S(BCDE)$. We must prove $f(A) \\ge 0$ for every point $A$ in mentioned convex region. $f$ is a linear function of $A$ defined in a convex region, so $f$ takes its minimum at corner points $B, E$ or $\\infty$.\n\n$$\nf(\\infty) = +\\infty > 0,\n$$\n\n$$\nf(B) = 0 + S(BCD) + S(CDE) + S(DEB) - S(BCDE) \\geq 0,\n$$\n\n$$\nf(E) = S(EBC) + S(BCD) + S(CDE) + 0 - S(BCDE) \\geq 0.\n$$\n\nSo $f$ is nonnegative in this region and the assertion is proved. $\\square$\n\n% IMAGE: ![](images/2012_p35_data_946c010f94.png)",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "6. $\\omega, \\omega_a, \\omega_e$ are three equal circles and $A', B, E$ are other intersection points of these circles. By some angle chasing it is easy to prove that $A, A', B, E$ form an orthocentric system of points. (each one is the orthocenter of others.) so $A'$ is orthocenter of triangle $EAB$. Similarly $B', C', D'$ and $E'$ are orthocenter of triangles $ABC, BCD, CDE$ and $DEA$ respectively. Note that $A'E$ and $B'C$ are both perpendicular to $AB$ so they are parallel. On the other hand $AA' \\perp BE$ so\n\n$$\n\\angle A'AE = 90^\\circ + \\angle AEB = 90^\\circ + \\frac{1}{2} \\overline{AB},\n$$\n\nSimilarly $\\angle B'BC = 90^\\circ + \\angle BCA = 90^\\circ + \\frac{1}{2} \\overline{AB}$. Therefore $\\angle A'AE = \\angle B'BC$. Since $\\omega_b, \\omega_e$ have equal radius, $A'E = B'C$ are of equal length and parallel, consequently quadrilateral $A'B'CE$ is parallelogram. Thereby segment $A'B'$ is parallel to the diagonal $CE$ of pentagon and they have equal length. Similarly pairs of segments $(B'C', AD), (C'D', BE), (D'E', CA)$ and $(E'A', DB)$ are parallel and have equal length. So the sides of pentagon $A'B'C'D'E'$ and diagonals of pentagon $ABCDE$ are of equal length and angle between sides equals to angle between corresponding diagonals.\n\nNow consider pentagon $A_1B_1C_1D_1E_1$, similar to $ABCDE$ such that $A_1B_1 \\parallel AB$ and $A_1B_1 = 2AB$ (and similar relations for other sides.). Let $A_2, B_2, C_2, D_2, E_2$ be midpoints of sides $C_1D_1, D_1E_1, E_1A_1, A_1B_1$ and $B_1C_1$ respectively. By Thales' theorem, $A_2B_2 \\parallel C_1E_1$ and $A_2B_2 = \\frac{1}{2}C_1E_1$. Other sides have similar situation, so pentagons $ABCDE$ and $A_2B_2C_2D_2E_2$ are equal. Therefore we have\n\n$$\n\\begin{align*} \nS(ABCDE) &= S(A_2B_2C_2D_2E_2) = \\\\ \n&= S(A_1B_1C_1D_1E_1) - S(A_2B_2D_1) - S(B_2C_2E_1) - S(C_2D_2A_1) - S(D_2E_2B_1) - S(E_2A_2C_1) = \\\\ \n&= 4S(ABCDE) - S(CDE) - S(DEA) - S(EAB) - S(ABC) - S(BCD) \n\\end{align*}\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_41bc5dcb7dda",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "$$\n\\begin{aligned}\np &= \\begin{pmatrix} t \\\\ 2 \\end{pmatrix} \\Rightarrow 2p = t(t-1) \\\\\n&\\Rightarrow \\begin{cases} p \\mid t \\Rightarrow t-1 \\mid 2 \\Rightarrow t=2 \\text{ or } t=3 \\Rightarrow t=3, p=3 \\\\ p \\mid t-1 \\Rightarrow t \\mid 2 \\Rightarrow t=1 \\text{ or } t=2 \\Rightarrow \\text{Contradiction!} \\end{cases}\n\\end{aligned}\n$$\n\nThereby the only prime divisor of $\\begin{pmatrix} n \\\\ 2 \\end{pmatrix}$ is three, so $\\begin{pmatrix} n \\\\ 2 \\end{pmatrix} = 3^a$ where $a \\in \\mathbb{N}$. If $a = 1$ and so $n = 3$ and numbers 1,2,3 satisfies problem statement. If $a > 1$ there exist 9 multiple of $\\frac{1}{9}\\begin{pmatrix} n \\\\ 2 \\end{pmatrix}$ among numbers, but 9 cannot be written in the form $\\begin{pmatrix} t \\\\ 2 \\end{pmatrix}$ so for $n > 3$ such numbers do not exist. $\\square$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "7. First we claim that for every positive integer $k$, the edges which their numbers are divisible by $k$ form a cluster. Indeed, suppose on the contrary that $S$ is the largest cluster such that the number of its edges is divisible by $k$ and $v \\notin S$ is another such edge. Applying problem statement on edge $v$ and edges of cluster we get there exists a larger cluster with number on edges divisible by $k$.\n\nNow suppose that $p \\mid \\binom{n}{2}$ where $p$ is a prime number. Therefore the edges with numbers divisible by $\\frac{1}{p}\\binom{n}{2}$ form a cluster and the number of such edges is $p$. So"
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_e3b7e7a038be",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Solution 1. By Holder Inequality we have\n\n$$\n(\\sum_{cyc} \\frac{a\\sqrt{a}}{bc})(\\sum_{cyc} bc)(\\sum_{cyc} 1) \\geq (\\sum_{cyc} \\sqrt{a})^3 \\Rightarrow \\sum_{cyc} \\frac{a\\sqrt{a}}{bc} \\geq \\frac{1}{3}(\\sum_{cyc} \\sqrt{a})^3.\n$$\n\nSo it suffices to have\n\n$$\n\\frac{1}{3}(\\sum_{cyc} \\sqrt{a})^3 \\geq \\sqrt{3}(\\sum_{cyc} \\sqrt{a}) \\Leftrightarrow (\\sum_{cyc} \\sqrt{a})^2 \\geq 3\\sqrt{3} \\Leftrightarrow \\sum_{cyc} \\sqrt{a} \\geq \\sqrt[4]{27}\n$$\n\nNow suppose that $\\sum_{cyc} \\sqrt{a} < \\sqrt[4]{27}$. It suffices to prove that $\\sum_{cyc} \\frac{a\\sqrt{a}}{bc} \\geq \\sqrt{3.\\sqrt[4]{27}}$, but\n\nwe have $\\sum_{cyc} \\frac{a\\sqrt{a}}{bc} \\geq 3\\sqrt[3]{\\prod_{cyc} \\frac{a\\sqrt{a}}{bc}} = 3(abc)^{-\\frac{1}{6}}$ (*) by AM-GM inequality\n\n$$\n\\begin{align*} 1 &= \\sum_{cyc} ab \\geq 3(abc)^{\\frac{2}{3}} \\Rightarrow (abc)^{-\\frac{2}{3}} \\geq 3 \\Rightarrow (abc)^{-\\frac{1}{6}} \\geq \\sqrt[4]{3} \\\\ \\Rightarrow \\sum_{cyc} \\frac{a\\sqrt{a}}{bc} &\\geq 3(abc)^{-\\frac{1}{6}} \\geq 3\\sqrt[4]{3} = 3^{\\frac{5}{4}} = 3^{\\frac{1}{2}} \\cdot 3^{\\frac{3}{4}} = \\sqrt{3.\\sqrt[4]{27}}. \\end{align*}\n$$\n\n$\\square$\n\nSolution 2. First by Cauchy-Schwarz inequality we have\n\n$$\n(\\sum_{cyc} \\frac{a^2}{bc\\sqrt{a}})(\\sum_{cyc} bc\\sqrt{a}) \\geq (\\sum_{cyc} a)^2.\n$$\n\nSo it suffices to prove that\n\n$$\n(\\sum_{cyc} a)^2 \\sqrt{\\sum_{cyc} ab} \\geq \\sqrt{3} \\times \\sqrt{abc} (\\sum_{cyc} \\sqrt{bc})(\\sum_{cyc} \\sqrt{a}).\n$$\n\nSince $\\sum_{cyc} ab = 1$.\n\nBut by AM-GM and Cauchy-Schwarz we have\n\n$$\n\\sqrt{\\sum_{cyc} ab} \\geq \\frac{1}{\\sqrt{3}} \\sum_{cyc} \\sqrt{ab} \\quad (\\text{Cauchy-Schwarz}) \\quad (1)\n$$\n\n$$\n\\sum_{cyc} a \\geq \\frac{1}{3} \\left( \\sum_{cyc} \\sqrt{a} \\right)^2 \\quad (\\text{Cauchy-Schwarz}) \\quad (2)\n$$\n\n$$\n\\sum_{cyc} \\sqrt{a} \\geq 3 \\cdot (abc)^{\\frac{1}{6}} \\quad (AM - GM) \\quad (3)\n$$\n\n$$\n\\sum_{cyc} a \\geq 3 \\cdot (abc)^{\\frac{1}{3}} \\quad (AM - GM) \\quad (4)\n$$\n\nMultiplying (1),(2),(3) and (4) finishes the proof. $\\square$",
          "pages": [
            "P0",
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "10."
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_c491ab505937",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "**Case 1.** The largest block contains places $i$ and $j$. So $a_i = a_{i+1} = \\cdots = a_j = 1$, hence $f(\\bar{X}) = j-i$ and $g(X) = j-i+1$. Thus $f(\\bar{X}) - g(X) = -1$.\n\n**Case 2.** The largest block contains exactly one of places $i$ or $j$. So for example for some $k$ ($i \\le k < j$), $a_i = a_{i+1} = \\cdots = a_k = 1$ and $a_{k+1} = 0$. Therefore we deduce that $g(X) = k - i + 1$ and $f(\\bar{X}) \\ge k - i + 1$. Hence $f(\\bar{X}) - g(X) \\ge 0$.\n\n**Case 3.** The largest block contains none of $i$ and $j$. So for example for some $k$ and $l$ ($i < k \\le l < j$) we have $a_k = 0, a_{k+1} = \\cdots = a_{l-1} = 1$ and $a_l = 0$. Thus $g(X) = l - k - 1$ and $f(\\bar{X}) \\ge l - k$. Hence $f(\\bar{X}) - g(X) \\ge 1$.\n\nNote that for each $1 \\le i < j \\le n$ one of elements of $A_{ij}$ satisfies the condition of case1 and there are $2^{n-4} - 1$ binary strings $X = a_1a_2\\cdots a_n$ such that $a_1 = a_n = 0$ and $a_2 = a_{n-1} = 0$ also they have another 1.\n\n$$\n\\sum_{\\substack{X \\in A_{ij} \\\\ 1 \\le i < j \\le n}} (f(\\bar{X}) - g(X)) \\ge (-1)^{\\binom{n}{2}} + (+1)(2^{n-4} - 1).\n$$\n\nOur conclusions are summed up in the following result.\n\n$$\n\\sum_X (f(X) - g(X)) \\ge 2^{n-4} - 1 - \\binom{n}{2} - n.\n$$\n\nBut it is very easy to prove by induction that for $n \\ge 10$ we have\n\n$$\n2^{n-4} > \\binom{n}{2} + n + 1 \\quad \\text{and this implies the assertion.} \\quad \\square\n$$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "We divide subgroups into three groups\n\n1) Subset $\\phi$ such that $f(\\phi) = g(\\phi) = 0$.\n2) One element subsets. Of course we know that for an arbitrary element of this group like X, $f(X) = 0$ and $g(X) = 1$.\nSo for one element subsets we have $\\sum_{|A|=1} (f(A) - g(A)) = -n$.\n3) Subsets with at least two elements.\n\nFor subsets in group 3. For integers $1 \\le i \\le j \\le n$ Let $A_{ij}$ be the collection of such binary strings of length $n$ that the first 1 lies in the $i$'s place and the last 1 lies in the $j$'s place. Hence, if $i < j$ and $X = a_1a_2\\cdots a_n \\in A$ then $a_{i+1},\\dots,a_j$ can be 0 or 1 so $|A_{ij}| = 2^{j-i-1}$. For $a \\in \\{0,1\\}$ let $\\bar{a} = 1$ if $a = 0$ and $\\bar{a} = 0$ if $a = 1$.\n\nFor every $X = a_1a_2\\cdots a_n \\in A_{ij}$ we define $\\bar{X} = a_1\\cdots a_i\\bar{a}_{i+1}\\cdots\\bar{a}_{j-1}a_j\\cdots a_n$. (We change the numbers between first and last 1.) Now we compare $f(\\bar{X})$ and $g(X)$. (There is bijection between binary strings of length $n$ and subsets of $\\{1,2,...,n\\}$ so we can define $f$ and $g$ on binary strings.)\n\nFor the largest block of 1's in X we have three cases:"
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_4cd532d3a7e2",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2012_p42_data_f28c82e578.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2012_p42_data_a3614cd5a7.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "We proceed the proof in two different ways.\n\n\\textbf{Solution 1.} Let $A_1, A_2, \\dots, A_{2^k}$ be the vertices of $2^k$-gon such that $l_i = A_i A_{i+1}$ where $A_{2^k+1} = A_1$ and $L_i$ be the reflection with respect to $l_i$ ($1 \\le i \\le 2^k$). Invoking the lemma1 the composition $R_i = L_{2i} \\circ L_{2i-1}$ ($1 \\le i \\le 2^{k-1}$) is a rotation with center $A_{2i}$ and angle $\\frac{2\\pi}{2^{k-1}}$. $A_2A_4\\dots A_{2^k}$ are vertices of a $2^{k-1}$-gon with center $O$. So by lemma3 if $O' = R_{2^{k-1}} \\circ R_{2^{k-1}-1} \\circ \\dots \\circ R_1(O)$, We have $O'O = 2^k r \\sin(\\frac{\\pi}{2^{k-1}})$. Since $R_i = L_{2i} \\circ L_{2i-1}$ then $O' = L_{2^k} \\circ L_{2^k-1} \\circ \\cdots \\circ L_1(O)$ so it suffices to prove that $2^k r \\sin(\\frac{\\pi}{2^{k-1}})$ is less than the perimeter of $2^k$-gon which equals $2^{k+1} r \\sin(\\frac{\\pi}{2^k})$.\n\n$$\n\\begin{align*}\n\\cos(\\frac{\\pi}{2^k}) < 1 &\\Rightarrow 2 \\sin(\\frac{\\pi}{2^k}) \\cos(\\frac{\\pi}{2^k}) = \\sin(\\frac{\\pi}{2^{k-1}}) < 2 \\sin(\\frac{\\pi}{2^k}) \\\\\n&\\Rightarrow 2^k r \\sin(\\frac{\\pi}{2^{k-1}}) < 2^{k+1} r \\sin(\\frac{\\pi}{2^k})\n\\end{align*}\n$$\n\nAnd this finishes our proof.\n\n% IMAGE: ![](images/2012_p42_data_f28c82e578.png)\n\n\\textbf{Solution 2.} We prove the assertion of problem for regular polygon with even number of sides. Denote by $A_1, A_2, \\dots, A_{2k}$ the vertices of this polygon clockwise and let $l_i = A_i A_{i+1}$ for $1 \\le i \\le 2k$ where $A_{2k+1} = A_1$.\n\nNow suppose that $L_i$ is the reflection with respect to $l_i$. Invoking the lemma 1 we deduce $R_i = L_{2i} \\circ L_{2i-1} (1 \\le i \\le k)$ is a rotation with center $A_{2i}$ and angle $\\frac{2\\pi(k-1)}{k}$ in triangular direction, but we have $k \\times \\frac{2\\pi(k-1)}{k} = 2\\pi(k-1)$ so the composition $R_k \\circ R_{k-1} \\circ \\dots \\circ R_1$ is a translation by lemma2. So it suffices to prove that the length of the vector of translation is not greater than the perimeter of $2k$-gon.\n\nLet $B_1 = R_1(A_1), B_2 = R_2(B_1), \\dots, B_k = R_k(B_{k-1})$ and $l$ be the length of sides of polygon. We must prove that $B_k A_1 \\le 2kl$. We have\n\n$$\n\\begin{align*}\nA_2 A_1 &= l \\Rightarrow A_2 B_1 = l (R_1 \\text{ is a rotation with center } A_2) \\\\\n&\\Rightarrow A_4 B_1 \\le A_4 A_3 + A_3 A_2 + A_2 B_1 \\le 3l \\\\\n&\\Rightarrow A_4 B_2 \\le 3l (R_2 \\text{ is a rotation with center } A_4) \\\\\n&\\Rightarrow A_6 B_2 \\le A_6 A_5 + A_5 A_4 + A_4 B_2 \\le 5l \\\\\n&\\vdots \\\\\n&\\Rightarrow A_{2k} B_k \\le (2k-1)l \\Rightarrow A_1 B_k \\le A_1 A_{2k} + A_{2k} B_k \\le l + (2k-1)l = 2kl\n\\end{align*}\n$$\n\nSo it finishes the proof.\n\n% IMAGE: ![](images/2012_p42_data_a3614cd5a7.png)\n\n\\textbf{Comment.} Another proof can be given by complex numbers and think of rotations as multiplying by a complex number.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P1"
          ],
          "path": "images/2012_p41_data_e21a878a43.png",
          "title": ""
        }
      ],
      "statement_latex": "13. \\textbf{Lemma 1.} Suppose that $l_1$ and $l_2$ are two lines which intersect at $O$ and the angle between them is $\\alpha$. Then the composition of reflections with respect to $l_1$ and $l_2$ is rotation with center $O$ and angle $2\\alpha$. $\\square$\n\n\\textbf{Lemma 2.} Suppose that $R_1$ and $R_2$ are two rotations with centers $O_1$ and $O_2$ and directed angles $\\alpha$ and $\\beta$ respectively. Then if $\\alpha + \\beta \\ne 2k\\pi$ ($k \\in \\mathbb{Z}$) the composition of $R_2$ and $R_1$ is a rotation with center $O$ and directed angle $\\alpha + \\beta$ where $O$ is a point such that $\\angle OO_1O_2 = \\frac{1}{2}\\alpha$ and $\\angle OO_2O_1 = \\frac{1}{2}\\beta$ else if $\\alpha + \\beta = 2k\\pi$ for some integer $k$ then this composition is a translation. $\\square$\n\n\\textbf{Lemma 3.} Consider a $2^k$-gon with center $O$ and radius of circumcircle $r$. Let $A_1, A_2, \\dots, A_{2^k}$ be its vertices clockwise and $R_i$ be the rotation with center $A_i$ and angle $\\frac{2\\pi}{2^k}$ clockwise. Then $O'O = 2^{k+1}r \\sin(\\frac{\\pi}{2^k})$ where $O' = R_{2^k} \\circ R_{2^{k-1}} \\circ \\cdots \\circ R_1(O)$. (Note that $2^{k+1}r \\sin(\\frac{\\pi}{2^k})$ is the perimeter of $2^k$-gon.)"
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_4b55cd93a1d9",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2012_p42_data_f28c82e578.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2012_p42_data_a3614cd5a7.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "$R_i = L_{2i} \\circ L_{2i-1}$ then $O' = L_{2^k} \\circ L_{2^k-1} \\circ \\cdots \\circ L_1(O)$ so it suffices to prove that\n$2^k r \\sin(\\frac{\\pi}{2^{k-1}})$ is less than the perimeter of $2^k$-gon which equals $2^{k+1} r \\sin(\\frac{\\pi}{2^k})$.\n\n\\[\n\\begin{align*}\n\\cos(\\frac{\\pi}{2^k}) < 1 &\\Rightarrow 2 \\sin(\\frac{\\pi}{2^k}) \\cos(\\frac{\\pi}{2^k}) = \\sin(\\frac{\\pi}{2^{k-1}}) < 2 \\sin(\\frac{\\pi}{2^k}) \\\\\n&\\Rightarrow 2^k r \\sin(\\frac{\\pi}{2^{k-1}}) < 2^{k+1} r \\sin(\\frac{\\pi}{2^k})\n\\end{align*}\n\\]\n\nAnd this finishes our proof.\n\n% IMAGE: ![](images/2012_p42_data_f28c82e578.png)\n\n\\textbf{Solution 2.} We prove the assertion of problem for regular polygon with even number of sides. Denote by $A_1, A_2, \\dots, A_{2k}$ the vertices of this polygon clockwise and let $l_i = A_i A_{i+1}$ for $1 \\le i \\le 2k$ where $A_{2k+1} = A_1$.\n\nNow suppose that $L_i$ is the reflection with respect to $l_i$. Invoking the lemma 1 we deduce $R_i = L_{2i} \\circ L_{2i-1} (1 \\le i \\le k)$ is a rotation with center $A_{2i}$ and angle $\\frac{2\\pi(k-1)}{k}$ in triangular direction, but we have $k \\times \\frac{2\\pi(k-1)}{k} = 2\\pi(k-1)$ so the composition $R_k \\circ R_{k-1} \\circ \\dots \\circ R_1$ is a translation by lemma2. So it suffices to prove that the length of the vector of translation is not greater than the perimeter of $2k$-gon.\n\nLet $B_1 = R_1(A_1), B_2 = R_2(B_1), \\dots, B_k = R_k(B_{k-1})$ and $l$ be the length of sides of polygon. We must prove that $B_k A_1 \\le 2kl$. We have\n\n\\[\n\\begin{align*}\nA_2 A_1 &= l \\Rightarrow A_2 B_1 = l (R_1 \\text{ is a rotation with center } A_2) \\\\\n&\\Rightarrow A_4 B_1 \\le A_4 A_3 + A_3 A_2 + A_2 B_1 \\le 3l \\\\\n&\\Rightarrow A_4 B_2 \\le 3l (R_2 \\text{ is a rotation with center } A_4) \\\\\n&\\Rightarrow A_6 B_2 \\le A_6 A_5 + A_5 A_4 + A_4 B_2 \\le 5l \\\\\n&\\vdots \\\\\n&\\Rightarrow A_{2k} B_k \\le (2k-1)l \\Rightarrow A_1 B_k \\le A_1 A_{2k} + A_{2k} B_k \\le l + (2k-1)l = 2kl\n\\end{align*}\n\\]\n\nSo it finishes the proof.\n\n% IMAGE: ![](images/2012_p42_data_a3614cd5a7.png)\n\n\\textbf{Comment.} Another proof can be given by complex numbers and think of rotations as multiplying by a complex number.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2012_p41_data_e21a878a43.png",
          "title": ""
        }
      ],
      "statement_latex": "We proceed the proof in two different ways.\n\n\\textbf{Solution 1.} Let $A_1, A_2, \\dots, A_{2^k}$ be the vertices of $2^k$-gon such that $l_i = A_i A_{i+1}$ where $A_{2^k+1} = A_1$ and $L_i$ be the reflection with respect to $l_i$ ($1 \\le i \\le 2^k$). Invoking the lemma1 the composition $R_i = L_{2i} \\circ L_{2i-1}$ ($1 \\le i \\le 2^{k-1}$) is a rotation with center $A_{2i}$ and angle $\\frac{2\\pi}{2^{k-1}}$. $A_2A_4\\dots A_{2^k}$ are vertices of a $2^{k-1}$-gon with center $O$. So by lemma3 if $O' = R_{2^{k-1}} \\circ R_{2^{k-1}-1} \\circ \\dots \\circ R_1(O)$, We have $O'O = 2^k r \\sin(\\frac{\\pi}{2^{k-1}})$. Since"
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_207baa891e5e",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "$$\na_0^i + a_1^i + \\cdots + a_{p-1}^i \\equiv 0 \\pmod{p} \\quad (1 \\le i \\le p-2)\n$$\n\n$$\na_0^{p-1} + a_1^{p-1} + \\cdots + a_{p-1}^{p-1} \\equiv -1 \\pmod{p}\n$$\n\nThen {$a_0, a_1, \\dots, a_{p-1}$} is a complete system of residues. Now Suppose that\n\n$$g(x) = (x - a_0)(x - a_1)\\cdots(x - a_{p-1}) = x^p + b_1x^{p-1} + \\cdots + b_{p-1}x + b_p$$\nand $S_i = a_0^i + a_1^i + \\cdots + a_{p-1}^i$ for $i \\in \\mathbb{N}$.\n\nIf for all $0 \\le i \\le p-1$ we have $a_i \\not\\equiv 0 \\pmod{p}$ then invoking the Fermat little theorem we have $1 \\equiv a_0^{p-1} + a_1^{p-1} + \\cdots + a_{p-1}^{p-1} \\equiv \\frac{1+1+\\cdots+1}{p \\text{ times}} \\equiv 0 \\pmod{p}$\n\nContradiction. So there exists a $0 \\le j \\le p-1$ such that $a_j \\equiv 0 \\pmod{p}$ and therefore $b_p \\equiv 0 \\pmod{p}$. Now by Newton identities we have\n\n$$\n\\left\\{ \\begin{array}{l} S_1 + b_1 = 0 \\\\ S_2 + b_1 S_1 + 2b_2 = 0 \\\\ S_3 + b_1 S_2 + b_2 S_1 + 3b_3 = 0 \\\\ \\vdots \\\\ S_{p-1} + b_1 S_{p-2} + \\cdots + b_{p-2} S_1 + (p-1)b_{p-1} = 0 \\end{array} \\right.\n$$\n\nHence\n\n$$\nS_1 + b_1 = 0, S_1 \\equiv 0 \\pmod{p} \\Rightarrow b_1 \\equiv 0 \\pmod{p}\n$$\n\n$$\nS_2 + b_1 S_1 + 2b_2 = 0, S_1 \\equiv S_2 \\equiv 0 \\pmod{p} \\Rightarrow 2b_2 \\equiv 0 \\pmod{p} \\Rightarrow b_2 \\equiv 0 \\pmod{p} \\\\ \\vdots\n$$\n\n$$\nS_{p-2} + b_1 S_{p-3} + \\cdots + b_{p-3} S_1 + (p-2)b_{p-2} = 0, S_1 \\equiv S_2 \\equiv \\cdots \\equiv S_{p-2} \\equiv 0 \\pmod{p} \\\\ \\Rightarrow (p-2)b_{p-2} \\equiv 0 \\pmod{p} \\Rightarrow b_{p-2} \\equiv 0 \\pmod{p}\n$$\n\nand\n\n$$\n\\left\\{ \\begin{array}{l} S_{p-1} + b_1 S_{p-2} + \\cdots + b_{p-2} S_1 + (p-1)b_{p-1} = 0 \\\\ S_1 \\equiv S_2 \\equiv \\cdots \\equiv S_{p-2} \\equiv 0, S_{p-1} \\equiv -1 \\pmod{p} \\\\ \\Rightarrow (p-1)b_{p-1} \\equiv 1 \\pmod{p} \\Rightarrow b_{p-1} \\equiv -1 \\pmod{p} \\end{array} \\right.\n$$\n\nSo in $\\mathbb{Z}_p[x]$, $g(x)$ is $x^p - x = x(x-1)\\cdots(x-(p-1))$ and $\\mathbb{Z}_p$ is a field so $\\mathbb{Z}_p[x]$ is UFD and therefore {$a_0, a_1, \\dots, a_{p-1}$} is a complete system of residues and this finishes our proof. \\Box",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "16. \\textbf{Lemma.} Let $p$ be an odd prime number and $k$ a positive integer then we have\n\n$$\n\\sum_{i=0}^{p-1} i^k \\equiv \\begin{cases} 0 & p-1 \\nmid k \\\\ -1 & p-1 \\mid k \\end{cases} \\pmod{p}.\n$$\n\nProof. If $p-1 \\nmid k$ the statement is obvious by *Fermat Little Theorem*. For $p-1 \\nmid k$\nconsider $g$ a primitive root modulo $p$ then\n\n$$\n\\sum_{i=0}^{p-1} i^k \\equiv \\sum_{i=1}^{p-1} i^k \\equiv \\sum_{i=1}^{p-1} g^{ik} \\equiv \\frac{g^{k(p-1)} - 1}{g^k - 1} \\equiv 0 \\pmod{p} \\quad (p-1 \\nmid k \\Rightarrow g^k \\not\\equiv 1).\n$$\n\nNow for every polynomial $f \\in \\mathbb{Z}[x]$ with $f(x) = \\sum_{n=0}^{m} a_n x^n$, we have\n\n$$\n\\sum_{i=0}^{p-1} f(i) \\equiv \\sum_{i=0}^{p-1} \\sum_{n=0}^{m} a_n i^n \\equiv \\sum_{n=0}^{m} a_n \\sum_{i=0}^{p-1} i^n \\equiv - \\sum_{p-1 \\mid n, n>0} a_n \\pmod{p}.\n$$\n\nTherefore if $f(0), f(1), \\dots, f(p-1)$ are a complete system of residues modulo $p$ then\nwe have $\\sum_{i=0}^{p-1} f(i)^s \\equiv 0 \\pmod{p}$ for $1 \\le s \\le p-2$ so $f(x), (f(x))^2, \\dots, (f(x))^{p-2}$ are all\n0-residue and $-\\sum_{i=0}^{p-1} f(i)^{p-1} \\equiv 1 \\pmod{p}$ so $(f(x))^{p-1}$ is 1-residue.\n\nNow for reverse by (1) it suffices to prove that if for $p$ numbers $a_0, a_1, \\dots, a_{p-1} \\in \\mathbb{Z}$\nwe have"
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_1598b1a3531d",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "*Proof.* We use induction on $n$. For $n=2$ it is trivial. Suppose the claim is true for $n-1$. Let $x_0y$ be a line such that $C - \\{x_0\\}$ is entirely in one side of it. Sort the vertices of $C - \\{x_0\\}$ as $x_1, x_2, \\dots, x_{n-1}$ such that the angles $\\angle x_i x_0 y$ are increasing. So $C - \\{x_0, x_1\\}$ is entirely in one side of $x_0x_1$ and $C - \\{x_0, x_{n-1}\\}$ is entirely in one side of $x_0x_{n-1}$. There are at least $2 \\times 2^{n-3}$ good paths with vertices of $C - \\{x_0\\}$ starting at either $x_1$ or $x_{n-1}$. By joining the segments $x_0x_1$ or $x_0x_{n-1}$ we obtain at least $2^{n-2}$ good paths with the vertices of $C$ starting at $x_0$.\n\nIf $C$ is convex, then in any good path starting at $x_0$, $x_0$ should be joined to $x_1$ or $x_{n-1}$, because in other cases the vertices will be in both sides of the first segment and the path will intersect the first segment. So equality for convex sets follows by the induction hypothesis.\n\nNow, suppose $C$ is not convex. Let $z$ be a vertex of $C$ not on the convex hull. Either $z$ is in triangle $x_0x_1x_{n-1}$ or is inside the convex hull of $C - \\{x_0\\}$ (depending on which side of $x_1x_{n-1}$ that $z$ is in). In the first case, if $z'$ is the farthest vertex from line in triangle $x_0x_1x_{n-1}$ (other than $x_0$), then the segment $x_0z'$ doesn't intersect the convex hull of $C - \\{x_0\\}$ and there is a good path starting with $x_0z'$ by the induction hypothesis. In the second case, $C - \\{x_0\\}$ is not convex and the number of good paths starting with $x_0x_1$ is more than $2^{n-3}$ by the induction hypothesis. So the lemma is proved. \\(\\Box\\)\n\nAccording to the lemma, we have $T(B) = n2^{n-3}$. We prove $T(A) > n2^{n-3}$. Let $x_0$ be a vertex on the convex hull of $A$ and sort the other vertices of $A$ as described in the lemma. For any $1 \\le i \\le n-2$, by joining any two good paths starting at $x_0$ with vertices of $\\{x_0, x_1, \\dots, x_i\\}$ and $\\{x_0, x_{i+1}, \\dots, x_{n-1}\\}$, we get a good path with the vertices of $A$, because the two sets can be divided by a line through $x_0$. This way we get $\\sum_{i=1}^{n-2} 2^{i-1} \\times 2^{n-i-2} = (n-2)2^{n-3}$ good vertices not starting at $x_0$. There are more than $2^{n-2}$ good vertices starting at $x_0$ and so $T(A) > n2^{n-3}$. So, the assertion is proved. \\(\\Box\\)",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "17. We call such a broken line a *good path*.\n\n**Lemma.** Let $C$ be a set of $n \\ge 2$ points in the plane, no three of which are collinear and let $x_0$ be a vertex of the convex hull of $C$. The number of good paths with vertices of $C$ starting at $x_0$ is at least $2^{n-2}$. Equality holds only when $C$ is convex."
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_2d1f96ad7452",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "We have $\\angle OB'C' = \\angle OAC' = 90^\\circ - \\angle C$ and $\\angle OB'A' = \\angle OCA' = 90^\\circ - \\angle A$. So $\\angle C'B'A' = \\angle B$. Compute the other angles similarly. This way it is proved that the triangles are similar and $O$ is the orthocenter of triangle $A'B'C'$. Now, the altitudes of triangle $A'B'C'$ make the same angle with the corresponding sides of triangle $ABC$ (angles $\\angle OB'A$ and so on). So, the corresponding sides of the triangles also make the same angle. $\\square$",
          "pages": [
            "P0",
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "18. \\textbf{Lemma 1.} Triangle $A'B'C'$ is similar to triangle $ABC$ and $O$ is its orthocenter. Moreover, the corresponding sides make the same angle."
    },
    {
      "_provenance": {
        "folder": "IRN_2012",
        "pages_map": {
          "P0": "page49.md",
          "P1": "page50.md",
          "P2": "page51.md"
        }
      },
      "author": "Ali Khezeli; Hesam Rajabzadeh; Morteza Saghafian; Masoud Shafaei",
      "booklet title": "2012.pdf",
      "booklet_url": "https://drive.google.com/open?id=1ww2qnVZsDG2e7fYJUhF03UQ4CwEHqp73",
      "competition name": "29th Iranian Mathematical Olympiad 2011-2012",
      "copyright_info": "Copyright Young Scholars Club 2011-2012. All rights reserved.",
      "has_solutions": true,
      "id": "p_374c85be1694",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Proof. Let $P$ be the second intersection of the circumcircles of triangles $ABC$ and $AB'C'$. We claim $P$ is on both $\\omega_1, \\omega_2$. We have\n\n$$\n\\begin{align*}\n\\angle PBA &= \\angle PCA = \\frac{1}{2}\\overarc{PA} = \\frac{1}{2}\\angle POA, \\\\\n\\angle PC'A &= \\angle PB'A = \\angle POA.\n\\end{align*}\n$$\n\nSo, triangles $C'PB$ and $B'PC$ are isosceles and $P$ is on both $\\omega_1, \\omega_2$. Also, these triangles are similar. Let $\\alpha = \\frac{1}{2}\\angle POA$.\n\nTriangles $PBC$ and $PC'B'$ are similar (Consider the angles of $P$ and the ratio of the sides incident with $P$ in these triangles). The ratio of similarity is $2\\cos\\alpha$ and the corresponding sides make angles equal to $\\alpha$. So, if $D, D'$ are the orthogonal projections of $P$ on $BC$ and $C'B'$ respectively, then $\\frac{PD}{PD'} = 2\\cos\\alpha$ and $\\angle D'PD = \\alpha$. So triangles $D'PD$ and $C'PB$ are similar. So, $D'P = D'D$. Thus, if $PD'$ intersects $BC$ at $Q$, then $D'$ is the midpoint of the hypotenuse in the right angled triangle $PDQ$. So, $B'C'$ is the perpendicular bisector of $PQ$ and $Q$ is the second intersection of $\\omega_1, \\omega_2$.\n\nSuppose $PD$ and $AH$ intersect the circumcircle of triangle $ABC$ for the second time at $E$ and $A_1$ respectively. We have\n\n$$\n\\angle QPE = \\angle D'PD = \\alpha = \\frac{1}{2}\\overarc{PA} = \\frac{1}{2}\\overarc{A_1E} = \\angle A_1PE.\n$$\n\nSo, $PQ$ passes through $A_1$ and the lemma is proved. $\\square$",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2012_p47_data_1fcea42fca.png",
          "title": ""
        }
      ],
      "statement_latex": "Lemma 2. Let $B', C'$ be points on $AC, AB$ respectively such that $AB'OC'$ is cyclic. The circle $w_1$ with center $B'$ passing through $C$ intersects the circle $w_2$ with center $C'$ passing through $B$ at points namely $P, Q$ such that $P$ is on the circumcircle of $ABC$ and $Q$ is on $BC$. Moreover, $PQ$ and the altitude of $A$ intersect on the circumcircle of $ABC$.\n\n% IMAGE: ![](images/2012_p47_data_1fcea42fca.png)\n\nAccording to the lemma 2, the angle between $PQ$ and $AH$ is equal to the angle between $B'C'$ and $BC$. So, by lemma 1 the radical axis's in the problem are obtained by rotating the altitudes of triangle *ABC* with a fixed angle (but with different centers). The orientations of the rotations are the same, because all the equations in the proof remain valid by considering orientations. So, the triangle formed by the radical axiss is similar to triangle *ABC*. Therefore, it suffices to prove that the ratios of distances of *H* from the radical axiss is the same as the ratios of distances of *H* from sides of triangle *ABC*.\n\nLet $F, A_2$ be the orthogonal projections of $H$ on $PQ$ and $BC$ as in the lemma. We have $\\frac{HF}{HA_2} = 2\\frac{HF}{HA_1} = 2\\sin\\alpha$ which is the same as the other ratios of distances of $H$ from the sides of the mentioned triangles. So the assertion is proved. $\\square$"
    }
  ],
  "2013": [
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_8459a096b212",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "and $k+1$ could only be placed between the two numbers 1 and $k$ in the two bottom-most arrangements. So we have 2 good arrangements in this case.\n\nIn conclusion, The answer to the problem for $n=1$ and $n=2$ is 1, for $n=3$ and for all other even numbers is 2, and for all other odd numbers is 4. $\\square$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2013_p21_data_ffe2a42d65.png",
          "title": ""
        },
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2013_p21_data_0c6b3ffb5f.png",
          "title": ""
        },
        {
          "alt": "",
          "pages": [
            "P1"
          ],
          "path": "images/2013_p22_data_efa1e74a3f.png",
          "title": ""
        }
      ],
      "statement_latex": "Suppose that our assumption holds for $n = k$. A *good* arrangement of numbers 1, 2, ..., $k+1$ will become a *good* arrangement of numbers 1, 2, ..., $k$ by omitting $k+1$.\n\nIf $k+1$ is odd, by the induction hypothesis *good* arrangements of numbers 1, 2, ..., *k* are\n\n% IMAGE: ![](images/2013_p21_data_0c6b3ffb5f.png)\n\nand $k+1$ could only be placed between numbers 1 and $k$ or between numbers $\\frac{k}{2}$ and $\\frac{k}{2}+1$ which have a sum of $k+1$. Thus we have 4 *good* arrangements in this case.\n\nIf $k+1$ is even, by the induction hypothesis *good* arrangements of numbers 1, 2, ..., $k$ are"
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_8c794657d3a6",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Contradiction!\n\nb) We construct such $A_i$'s inductively. Let $A_1 = \\{1, 1391\\}$. Now, assume that $A_1, A_2, \\dots$ and $A_k$ are constructed. Let $x_{k+1}$ be the least positive integer which is not in any of $A_i$'s ($1 \\le i \\le k$). Obviously $x_{k+1} \\le 2k + 1$, so the number\n\n$$\ny_{k+1} = 1391 + (k+1)^2 - x_{k+1} \\ge 1391 + k^2\n$$\n\nis not in any of $A_i$'s too (because sum of the elements of each $A_i$, ($1 \\le i \\le k$) is at most $1391 + k^2$ until now). So we can have $A_{k+1} = \\{x_{k+1}, y_{k+1}\\}$, and in these $A_i$'s, each positive integer has appeared exactly once (because of the method of choosing $x_{k+1}$ in each step). $\\square$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "4.\n\na) Let $A_i = \\{x_i, y_i\\}$. So $x_i + y_i = 1391 + i$, but:\n\n$$\n\\begin{aligned} 1391^2 + 1391 \\times 696 &= \\sum_{i=1}^{1391} (x_i + y_i) \\\\ &= x_1 + x_2 + \\cdots + x_{1391} + y_1 + y_2 + \\cdots + y_{1391} \\\\ &\\ge 1 + 2 + \\cdots + 2 \\times 1391 = 1391 \\times 2783. \\end{aligned}\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_35fd52321f6f",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "To omit of $A''X$, we write $\\frac{AA''}{A''X}$ in terms of $AA''$ and $AX$ and we treat $B'X$ similarly:\n\n$$\n\\begin{align*} \n\\Rightarrow \\quad \\frac{A''X}{AA''} &= \\frac{1}{2} \\cdot \\frac{XB'}{B'B} \\\\ \n\\Rightarrow \\quad \\frac{AX}{AA''} &= 1 - \\frac{1}{2}\\left(1 - \\frac{BX}{BB'}\\right) \\\\ \n\\Rightarrow \\quad \\frac{AX}{AA''} &= \\frac{1}{2} \\cdot \\frac{BX}{BB'} + \\frac{1}{2}. \n\\end{align*}\n$$\n\nLet $D_1$ be the set of those points $X$ such that $\\frac{1}{2} \\cdot \\frac{BX}{BB'} + \\frac{1}{2} \\ge \\alpha \\frac{BX}{BB'}$ for some constant $\\alpha$ (for suitable $\\alpha$, $D_1$ is a neighborhood of $B$). If $X \\notin D_1$, then\n\n$$\n\\begin{array}{l} \n\\frac{AX}{AA''} < \\alpha \\frac{BX}{BB'} \\\\ \n\\Rightarrow \\quad \\frac{AA''}{BB'} > \\frac{1}{\\alpha} \\cdot \\frac{AX}{BX}. \n\\end{array}\n$$\n\nLet $D_2$ be the set of those points $X$ in the plane such that $\\frac{AX}{BX} < \\frac{\\alpha}{3}$ (for suitable $\\alpha$, $D_2$ is a neighborhood of $A$). If $X$ is not in either of $D_1$ or $D_2$, then\n\n$$\n\\frac{AA''}{BB'} > \\frac{1}{\\alpha} \\cdot \\frac{\\alpha}{3} = \\frac{1}{3}\n$$\n\nas desired. So\n\n$$\nS - D_1 - D_2 \\subseteq S'' \\subseteq S'.\n$$\n\nNow, we calculate the areas of $D_1$ and $D_2$. If $\\alpha < 3$, then $D_2$ is the interior part of the Apollonius circle of $A$ and $B$. Also,\n\n$$\nX \\in D_1 \\Leftrightarrow \\frac{1}{2} \\cdot \\frac{BX}{BB'} + \\frac{1}{2} \\ge \\alpha \\frac{BX}{BB'} \\Leftrightarrow \\frac{BX}{BB'} < \\frac{1}{2\\alpha - 1}.\n$$\n\nSo, if $\\alpha > 1$ then $D_1$ is a neighborhood of $B$ similar to $S$. Now, we take $\\alpha = \\frac{3}{2}$. We conclude that the area of $D_1$ is $(\\frac{1}{2})^2$ times the area of $S$ which is $\\frac{10}{4} = 2.5$. Also, if $C$ and $D$ are the intersection points of the boundary of $D_2$ with the line $AB$ and $C$ is between $A$ and $B$, we have\n\n$$\n\\begin{align*} \n\\frac{AD}{DB} &= \\frac{1}{2} \\Rightarrow \\frac{AD}{AD+1} = \\frac{1}{2} \\Rightarrow AD = 1 \\\\ \n\\frac{AC}{CB} &= \\frac{1}{2} \\Rightarrow \\frac{AC}{1-AC} = \\frac{1}{2} \\Rightarrow AC = \\frac{1}{3}. \n\\end{align*}\n$$\n\nSo the diameter of $D_2$ is $1 + \\frac{1}{3} = \\frac{4}{3}$ and hence, the area of $D_1$ is $(\\frac{2}{3})^2\\pi < 1.5$. So\n\n$$\n\\begin{align*} \nT_X &\\ge T_{S-D_1-D_2} \\\\ \n&\\ge 2T_S - T_{D_1} - T_{D_2} \\\\ \n&> 10 - 2.5 - 1.5 = 6. \n\\end{align*}\n$$\n\nwhere $T_K$ represents the area of figure $K$ in the plane. Hence, the assertion is proved. $\\square$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "2. The idea is to remove some neighborhoods of $A$ and $B$, because near these points we cannot bound $\\frac{AA'}{BB'}$. Let $Z$ be the intersection of the ray $AB$ with the boundary of $S$ and let $ZB'$ intersect $AA'$ in $A''$. $A''$ is between $A$ and $A'$ since $S$ is convex. So, if we let $S''$ be the set of those points $X$ such that $AA'' > \\frac{1}{3}BB'$, we have $S'' \\subseteq S'$. Hence, it is enough to prove that the area of $S''$ is at least 6.\n\nBy *Menelaus's theorem*, we have\n\n$$\n\\frac{AA''}{A''X} \\cdot \\frac{XB'}{B'B} \\cdot \\frac{BZ}{ZA} = 1 \\\\ \\Rightarrow \\frac{AA''}{A''X} \\cdot \\frac{XB'}{B'B} = 2.\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_5602e82d4d66",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2013_p28_data_34d3318413.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "that we have a number of bags and we want to use the balance only once. Let $a_i$ be the number of bags for which we take exactly $i$ coins from them. We have\n\n$$\na_1 + 2a_2 + \\dots + ma_m \\leq 100. \\ (*)\n$$\n\nNote that for $i \\geq 0, a_i \\leq 1$ because if we take the same number of coins from two different bags, we cannot distinguish between them. Now, we want to maximize $\\sum_{i=0}^{m} a_i$. Since the coefficient of $a_k$ in (*) equals $k$, it's best for $a_0$ to be maximized, then $a_1$ should be maximized and so on. We conclude that the maximum value will be 14. So $f(1) \\leq 14$ and consequently $f(1) = 14$.\n\n(ii) $f(2) = 60$. To find $f(2)$, again (*) should be satisfied. Also, for any integer $i \\geq 0$, we must have $a_i \\leq 14$. Here we want to maximize $\\sum_{i=0}^{m} a_i$. The maximum value will be gained when $a_0 = a_1 = a_2 = a_3 = 14$ and $a_4 = 4$. Therefore $f(2) = 60$.\n\n(iii) $f(3) = 140$. By a similar argument, here (*) should be satisfied, and also for each positive integer $i \\geq 0$, we must have $a_i \\leq 60$, so the maximum value will be gained when $a_0 = a_1 = 60$ and $a_2 = 20$; therefore, $f(3) = 140$.\n\n(iv) Finally, if $k > 3$, then $a_i \\leq 100$ and we must have $a_0 \\leq f(k-1)$, so we get the maximum value of $\\sum_{i=0}^{m} a_i$ when $a_0 = f(k-1)$ and $a_1 = 100$. Hence $f(k) = f(k-1)+100$.\n\n**Upshot.**\n\n\\begin{tabular}{|c|c|c|c|}\n\\hline\n$n \\in [1, 14]$ & $[15, 60]$ & $[61, 140]$ & $[100k + 40, 100k + 140], k \\in \\mathbb{N}$ \\\\\n\\hline\n1 & 2 & 3 & $k + 3$ \\\\\n\\hline\n\\end{tabular}\n\n% IMAGE: ![](images/2013_p28_data_34d3318413.png)",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "4. Obviously, if we are able to find the different bag among $n$ bags with $k$ times using the balance, for less than $n$ bags also $k$ times using the balance is enough. Denote by $f(k)$ the maximum number of bags such that the different bag among them can be found with at most $k$ times using the balance. Our goal is to find $f(k)$ for all $k \\in \\mathbb{N}$.\n\n(i) $f(1) = 14$. If $n = 14$, for $1 \\le i \\le 14$ we put $i-1$ coins from the $i$th bag on the balance, and if the resulting weight is $910-k$ (91 = 1+2+...+13) grams, then the $(k+1)$st bag is different, so $f(1) \\ge 14$. To prove the converse inequality, suppose"
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_3449f66bd116",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2013_p31_data_f680dc27ca.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "If $\\sum_j |u_i \\times u_j| \\ge \\frac{1}{6}n^{\\frac{3}{2}}$ for $1 \\le i \\le n+1$, summing these expressions implies the claim.\n\nSo without loss of generality we can assume that\n\n$$\n\\sum_{i} |u_i \\times u_{n+1}| \\le \\frac{1}{6} n^{\\frac{3}{2}}.\n$$\n\nWe do not have the assumption of monotonicity of slopes any further. For each $i$, let $C_i = \\{u_l : |u_l \\times u_{n+1}| = i\\}$ and $k_i = |C_i|$. Obviously $\\sum k_i = n$. Elements of $C_i$ lie on two lines parallel to $u_{n+1}$, so for each $j \\le n$, at most 4 numbers among the values $|u_j \\times u_l|$ ($u_l \\in C_j$) can be equal (except number 0 when $u_j \\in C_i$ which is unique).\n\nSince these values are all integer, we have\n\n$$\n\\sum_{u_l \\in C_i} |u_j \\times u_l| \\ge 4 \\binom{\\frac{k_i}{4}}{2}.\n$$\n\nTherefore,\n\n$$\n\\sum_{l \\le n} |u_j \\times u_l| \\ge 4 \\sum_i \\binom{\\frac{k_i}{4}}{2} = \\frac{1}{8} \\sum_i k_i^2 - \\frac{n}{2},\n$$\n\nand\n\n$$\n\\sum_{j,l} |u_j \\times u_l| \\ge \\frac{n}{8} \\sum_i k_i^2 - \\frac{n^2}{2},\n$$\n\nbut $\\sum k_i = n$ and $\\sum ik_i \\le \\frac{1}{6}n^{\\frac{3}{2}}$. Now, according to the following lemma we have $\\sum k_i^2 \\ge \\frac{3}{2}n^{\\frac{3}{2}}$, and therefore for sufficiently large $n$\n\n$$\n\\sum_{j,l} |u_j \\times u_l| \\ge \\frac{3}{16} n^{\\frac{5}{2}} - \\frac{n^2}{2} \\ge \\frac{1}{6} n^{\\frac{5}{2}}\n$$\n\nand this completes the proof of the claim.\n\n\\textbf{Lemma 2.} Let $k_1, k_2, \\dots, k_n$ be nonnegative real numbers such that $\\sum k_i = a$ and $\\sum ik_i \\le b$. Show that $\\sum k_i^2 \\ge \\frac{a^3}{4b}$.\n\n\\textbf{Proof of lemma.} Suppose that values $a$ and $b$ are constants and $k_1, k_2, \\dots, k_n$ are variables satisfying the conditions for which $\\sum k_i^2$ is minimum. We conclude that $k_i$'s, $1 \\le i \\le n$, are in decreasing order because if $k_i < k_j$ for some $i < j$ then we can substitute both of them with $\\frac{1}{2}(k_i + k_j)$ and $\\sum k_i^2$ will have a smaller value.\n\nWe claim that $k_1, k_2, \\dots, k_n$ must be a block of an arithmetic progression unless they are zero. Suppose that $k_{j-1}, k_j$ and $k_{j+1}$ are nonzero and $k_j \\ne \\frac{k_{j-1}+k_{j+1}}{2}$. If we change these three to $k_{j-1}+x, k_j-2x, k_{j+1}+x$, it is easy to check that this new sequence also satisfies the conditions. Thus for the difference of the value $\\sum k_i^2$ for these two sequences we have\n\n$$\n\\Delta = ((k_{j-1} + x)^2 + (k_j - 2x)^2 + (k_{j+1} + x)^2) - (k_{j-1}^2 + k_j^2 + k_{j+1}^2)\n$$\n$$\n= 6x^2 + 2x(k_{j-1} + k_j + k_{j+1}).\n$$\n\nNote that the coefficient of $x$ is nonzero. Hence we can choose a small value of $x$ having a different sign from it's coefficient for $\\Delta$ to be less than 0. Therefore, each three consecutive nonzero numbers among $k_i$'s must form an arithmetic progression. By modifying $n$ if necessary, we can assume that the sequence $k_1, k_2, \\dots$ and $k_n$ is a decreasing arithmetic progression of nonzero numbers, so $k_i = r - si$ for constants $r, s \\ge 0$. We have\n\n$$\n\\begin{aligned}\na &= nr - s \\sum i \\\\\nc &= r \\sum i - s \\sum i^2 \\le b.\n\\end{aligned}\n$$\n\nHence\n\n$$\n\\sum k_i^2 = nr^2 - 2rs \\sum i + s^2 \\sum i^2 = r(nr - s \\sum i) - s(r \\sum i - s \\sum i^2),\n$$\n\nso\n\n$$\n\\sum k_i^2 = ra - sc.\n$$\n\nThe values of $r$ and $s$ can be calculated from the linear system of equations above in terms of $a, b$ and $c$:\n\n$$\nr = \\frac{a \\sum i^2 - c \\sum i}{n \\sum i^2 - (\\sum i)^2}, \\quad s = \\frac{a \\sum i - nc}{n \\sum i^2 - (\\sum i)^2}.\n$$\n\nBy Cauchy-Schwarz Inequality we obtain that\n\n$$\n\\sum k_i^2 \\ge \\frac{(\\sum k_i)^2}{n} = \\frac{a^2}{n}.\n$$\n\nSince $r - sc$ is negative we have\n\n$$\n\\begin{align*}\n& a \\sum i^2 - c \\sum i - an \\sum i + n^2 c \\ge 0 \\\\\n\\Rightarrow \\quad & a\\left(\\frac{n^2(n+1)}{2} - \\frac{n(n+1)(2n+1)}{6}\\right) \\le c\\left(n^2 - \\frac{n(n+1)}{2}\\right) \\le \\frac{cn(n+1)}{2} \\\\\n\\Rightarrow \\quad & a\\left(n - \\frac{2n+1}{3}\\right) \\le c \\\\\n\\Rightarrow \\quad & n \\le 3\\frac{c}{a} + 1 \\le 4\\frac{c}{a}.\n\\end{align*}\n$$\n\nThe last inequality follows from the fact that $c \\ge a$ (because $c = \\sum ik_i \\ge \\sum k_i = a$).\nFinally we have\n\n$$\n\\sum k_i^2 \\ge \\frac{a^2}{n} = \\frac{a^3}{an} \\ge \\frac{a^3}{4c} \\ge \\frac{a^3}{4b}\n$$\n\nas desired.\n\n% IMAGE: ![](images/2013_p31_data_f680dc27ca.png)\n\n\\textbf{Claim 3.} \\textit{The area of such good $(n+2)$-gon is at least $\\frac{1}{200}n^3$ and therefore $f(n) = \\Theta(n^3)$.}\n",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "We call a convex $n$-gon $A_1A_2\\cdots A_n$ with vertices from lattice points good if for each integer $1 \\le i \\le n-1$, vector $\\overrightarrow{A_iA_{i+1}}$ lies in the first quadrant of the cartesian plane. Throughout the solution all polygons are considered to have vertices from lattice points. We denote the least possible value for the area of a convex $n$-gon and the area of a good convex $n$-gon by $f(n)$ and $g(n)$, respectively. Furthermore, in such polygons let $u_i = \\overrightarrow{A_iA_{i+1}}$ ($1 \\le i \\le n-1$). We claim that $g(\\frac{n}{4}) \\le f(n) \\le g(n)$. The rightmost inequality is obvious, since good polygons are a subset of all such polygons. To prove the leftmost inequality, note that for each convex $n$-gon $P$ the rightmost, leftmost, topmost and bottommost vertices divide the perimeter of the polygon into at most 4 parts, so at least one part has at least $\\frac{n}{4}$ vertices and the area of the convex hull of these vertices is at least $g(\\frac{n}{4})$ so the claim is proved.\n\nNow, it suffices to prove the assertions for $g(n)$. ($g(n) = O(n^2)$, ...)\n\n\\textbf{Lemma 1.} \\textit{The area of a good $n$-gon $P$ with vectors $u_1, u_2, \\dots$ and $u_{n-1}$ equals $\\frac{1}{2} \\sum_{i<j} |u_i \\times u_j|$.}\n\n\\textbf{Proof of lemma.} Suppose $P = A_1A_2\\cdots A_n$ and $A_1$ is the origin. Then the area of triangle $A_1A_iA_{i+1}$ equals $\\frac{1}{2}|u_i \\times A_i| = \\frac{1}{2}\\sum_{j=1}^{i-1}|u_i \\times u_j|$ (Note that all the cross products have the same sign). The area of $P$ equals sum of the area of these triangles, so by summing these areas the lemma is proved. $\\square$\n\nNow let us return to the main problem:\n\na) Let $u_i = (1, i)$, Since the slope of vectors $u_1, u_2, \\dots$ and $u_{n-1}$ are increasing, the $n$-gon that they determine is good. Applying lemma 1 implies\n\n$$\n\\begin{aligned}\nS &= \\frac{1}{2} \\sum_{i<j} |u_i \\times u_j| &= \\frac{1}{2} \\sum_{i<j} (j-i) &= \\frac{1}{2} \\sum_j \\frac{j(j-1)}{2} \\\\\n  &\\le \\frac{1}{4} \\sum_j j^2 &= \\frac{n(n+1)(2n+1)}{24}\n\\end{aligned}\n$$\n\nand this implies the assertion.\n\nb) According to the lemma, the area of each good $n$-gon is at least $\\binom{n-1}{2}$, because $|u_i \\times u_j|$ is a positive integer, so $g(n) \\ge \\binom{n-1}{2}$.\n\nc) It suffices to prove the following claim.\n\n\\textbf{Claim 1.} \\textit{For sufficiently large $n$, the area of each good $(n+2)$-gon is at least $\\frac{1}{24}n^{\\frac{5}{2}}$.}\n\nBy lemma 1, the following claim implies claim 1.\n\n\\textbf{Claim 2.} \\textit{For sufficiently large $n$ and integer vectors $u_1, u_2, \\dots, u_{n+1}$ with distinct slopes we have:}\n\n$$\n\\sum_{i<j} |u_i \\times u_j| \\ge \\frac{1}{12} n^{\\frac{5}{2}}.\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_86ec7118cf27",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2013_p31_data_f680dc27ca.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "Proof of lemma. Suppose that values $a$ and $b$ are constants and $k_1, k_2, \\dots, k_n$ are variables satisfying the conditions for which $\\sum k_i^2$ is minimum. We conclude that $k_i$'s, $1 \\le i \\le n$, are in decreasing order because if $k_i < k_j$ for some $i < j$ then we can substitute both of them with $\\frac{1}{2}(k_i + k_j)$ and $\\sum k_i^2$ will have a smaller value.\n\nWe claim that $k_1, k_2, \\dots, k_n$ must be a block of an arithmetic progression unless they are zero. Suppose that $k_{j-1}, k_j$ and $k_{j+1}$ are nonzero and $k_j \\ne \\frac{k_{j-1}+k_{j+1}}{2}$. If we change these three to $k_{j-1}+x, k_j-2x, k_{j+1}+x$, it is easy to check that this new sequence also satisfies the conditions. Thus for the difference of the value $\\sum k_i^2$ for these two sequences we have\n\n$$\n\\Delta = ((k_{j-1} + x)^2 + (k_j - 2x)^2 + (k_{j+1} + x)^2) - (k_{j-1}^2 + k_j^2 + k_{j+1}^2)\n$$\n$$\n= 6x^2 + 2x(k_{j-1} + k_j + k_{j+1}).\n$$\nNote that the coefficient of $x$ is nonzero. Hence we can choose a small value of $x$ having a different sign from it's coefficient for $\\Delta$ to be less than 0. Therefore, each three consecutive nonzero numbers among $k_i$'s must form an arithmetic progression. By modifying $n$ if necessary, we can assume that the sequence $k_1, k_2, \\dots$ and $k_n$ is a decreasing arithmetic progression of nonzero numbers, so $k_i = r - si$ for constants $r, s \\ge 0$. We have\n\n$$\n\\begin{aligned}\na &= nr - s \\sum i \\\\\nc &= r \\sum i - s \\sum i^2 \\le b.\n\\end{aligned}\n$$\nHence\n\n$$\n\\sum k_i^2 = nr^2 - 2rs \\sum i + s^2 \\sum i^2 = r(nr - s \\sum i) - s(r \\sum i - s \\sum i^2),\n$$\nso\n$$\n\\sum k_i^2 = ra - sc.\n$$\nThe values of $r$ and $s$ can be calculated from the linear system of equations above in terms of $a, b$ and $c$:\n$$\nr = \\frac{a \\sum i^2 - c \\sum i}{n \\sum i^2 - (\\sum i)^2}, \\quad s = \\frac{a \\sum i - nc}{n \\sum i^2 - (\\sum i)^2}.\n$$\nBy Cauchy-Schwarz Inequality we obtain that\n$$\n\\sum k_i^2 \\ge \\frac{(\\sum k_i)^2}{n} = \\frac{a^2}{n}.\n$$\nSince $r - sc$ is negative we have\n$$\n\\begin{align*}\n& a \\sum i^2 - c \\sum i - an \\sum i + n^2 c \\ge 0 \\\\\n\\Rightarrow \\quad & a\\left(\\frac{n^2(n+1)}{2} - \\frac{n(n+1)(2n+1)}{6}\\right) \\le c\\left(n^2 - \\frac{n(n+1)}{2}\\right) \\le \\frac{cn(n+1)}{2} \\\\\n\\Rightarrow \\quad & a\\left(n - \\frac{2n+1}{3}\\right) \\le c \\\\\n\\Rightarrow \\quad & n \\le 3\\frac{c}{a} + 1 \\le 4\\frac{c}{a}.\n\\end{align*}\n$$\nThe last inequality follows from the fact that $c \\ge a$ (because $c = \\sum ik_i \\ge \\sum k_i = a$).\nFinally we have\n$$\n\\sum k_i^2 \\ge \\frac{a^2}{n} = \\frac{a^3}{an} \\ge \\frac{a^3}{4c} \\ge \\frac{a^3}{4b}\n$$\nas desired.",
          "pages": [
            "P0",
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Lemma 2. Let $k_1, k_2, \\dots, k_n$ be nonnegative real numbers such that $\\sum k_i = a$ and $\\sum ik_i \\le b$. Show that $\\sum k_i^2 \\ge \\frac{a^3}{4b}$."
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_3bee3ff73775",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2013_p32_data_5749fd9277.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "To prove this claim it suffices to prove that for each set of integer vectors $u_1, u_2, \\dots$ and $u_{n+1}$ with distinct slopes, we have\n\\[\n\\sum_{i<j} |u_i \\times u_j| \\ge \\frac{1}{100} n^3.\n\\]\n\nSimilar to the previous claim, it's enough to assume $\\sum_i |u_i \\times u_{n+1}| \\le \\frac{1}{50} n^2$. $C_i$ and $k_i$ are defined as before. In this part we must prove a better bound for $\\sum_{u_l \\in C_i} |u_j \\times u_l|$. If $u_l, u_{l'} \\in C_i$ lie on a line parallel to $u_{n+1}$, then $u_l - u_{l'}$ is an integer multiple of $u_{n+1}$ (we can suppose $u_{n+1}$ is not an integer multiple of any other vector, if else we can change it with a shorter vector pointing at the same direction). So $u_j \\times u_l - u_j \\times u_{l'}$ is a multiple of $u_j \\times u_{n+1}$. Note that elements of $C_i$ lie on two lines parallel to $u_{n+1}$. Consequently\n\\[\n\\sum_{u_l \\in C_i} |u_j \\times u_l| \\ge 4J \\binom{\\frac{k_i}{4}}{2}\n\\]\nwhere we have assumed $u_j \\in C_J$.\n\nSumming these inequalities on index $i$ implies\n\\[\n\\sum_{l \\le n} |u_j \\times u_l| \\ge 4J \\sum_i \\binom{\\frac{k_i}{4}}{2}.\n\\]\nThen by summing on index $j$ we have\n\\[\n\\sum_{j,l} |u_j \\times u_l| \\ge 4 \\left( \\sum i k_i \\right) \\sum_i \\binom{\\frac{k_i}{4}}{2} = \\left( \\sum i k_i \\right) \\left( \\frac{1}{8} \\sum k_i^2 - \\frac{n}{2} \\right).\n\\]\nSince $\\sum k_i = n$ and $\\sum ik_i \\le \\frac{1}{50}n^2$, by applying lemma 2 we obtain $\\sum k_i^2 \\ge \\frac{25}{2}n$. Hence\n\\[\n\\begin{aligned} \\sum_{j,l} |u_j \\times u_l| &\\ge \\left(\\frac{1}{8} - \\frac{1}{25}\\right) \\left(\\sum i k_i\\right) \\left(\\sum k_i^2\\right) \\\\ &\\ge \\frac{1}{4} \\left(\\frac{1}{8} - \\frac{1}{25}\\right) \\left(\\sum k_i\\right)^3 \\ge \\frac{1}{50} n^3. \\end{aligned}\n\\]\n% IMAGE: ![](images/2013_p32_data_5749fd9277.png)",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2013_p31_data_f680dc27ca.png",
          "title": ""
        }
      ],
      "statement_latex": "Claim 3. \\textit{The area of such good $(n+2)$-gon is at least $\\frac{1}{200}n^3$ and therefore $f(n) = \\Theta(n^3)$.}"
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_534af0538e93",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "**Proof of lemma.** We proceed by induction on number of edges of graph $G$. We call a coloring of faces of $G$ satisfying the mentioned property, a *good coloring*. Suppose that $C$ is the shortest path in $G$ that lies in just one highway and assume $C \\subset C_1$. Note that because of minimality, $C$ cannot cross itself, so is a simple curve, therefore dividing the plane into two regions. Now, $C-C_1$ is a closed or maybe an empty curve.\n\nSuppose that $H$ is the graph consisting of $C-C_1, C_2, \\dots$ and $C_n$. Since the number of edges of $H$ is less than $G$, $H$ has a good coloring according to the induction hypothesis. Now, we add curve $C$ to $H$ and change the color of faces inside $C$. It is very easy to check that this is a good coloring of $G$. The base case is when $G$ is empty. In this case we have only one region which obviously has a good coloring!\n\nFinally consider a good coloring (by colors black and white) for the graph $G$ and an arbitrary orientation for each highway. We have two types of edges. For some edges when we are moving through one (in its specified direction) our right face is white. We call such edges, edges of type 1 and others, edges of type 2. Build a bridge in the way of each edge of type 1.\n\nNote that in each crossroad exactly two of the edges are directed into the crossroad and only one of those two is of type 1. Hence our construction do not cause any contradictions.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2013_p32_data_5749fd9277.png",
          "title": ""
        }
      ],
      "statement_latex": "7. We show that bridges satisfying the problem's conditions can be built no matter what the configuration of the highways is.\n\nThroughout the solution we denote the highways by $C_1, C_2, \\dots$ and $C_n$ and by $G$ the graph determined by those highways (crossroads are vertices of the graph and highways between two crossroads are edges of the graph).\n\n**Lemma.** *Faces of $G$ can be colored by two colors in a way that the colors of every two adjacent faces is different (Two faces are adjacent if they have an edge in common).*"
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_1c919a7f897c",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2013_p34_data_d109b609f5.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "(iv) In the sequence $a_{m+1}, a_{m+2}, \\dots$ multiply the first $2^{n-1}$ terms by $p_{2n-1}$, the next $2^{n-1}$ terms by $p_{2n}$ and so on.\n\nTherefore at the end of step $n$:\n\n(i) Exactly $a_n$ numbers are coprime to $a_n$.\n\n(ii) For each sequence $(q_1, q_2, \\dots, q_n)$ of prime numbers such that $q_i \\in \\{p_{2i-1}, p_{2i}\\}$, there exist infinitely many numbers $k$ such that $a_k$ has exactly these prime factors. So for each $a_i$ there exist infinitely many numbers $k$ such that $a_k$ has prime factors different from those of $a_i$ and consequently is coprime to $a_i$.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "8. a) We claim that a set cannot exist with this property. Assume to the contrary that there exists a set $S$ satisfying the problems condition and let $n \\in \\mathbb{N}$, $n \\notin S$. Thus exactly $n$ elements of $S$ are coprime to $n$. Therefore, there exist infinitely many prime numbers which do not belong to $S$. Let $p$ and $q$ be two of them. Since $p \\notin S$ exactly $p$ elements of $S$ are not divisible by $p$ (coprime to $p$), for each $\\alpha > 1$, $p^{\\alpha} \\in S$. This is true because if $p^{\\alpha} \\notin S$, there must be $p^{\\alpha}$ elements of $S$ coprime to $p^{\\alpha}$ (and therefore coprime to $p$), but we have shown that $S$ has exactly $p$ elements of this kind. Finally, the greatest common divisor of $p^{\\alpha}$ and $q$ is 1, so infinitely many elements of $S$ are coprime to $q \\notin S$, a contradiction!\n\nb) We construct set the $S$ in the following way:\n\nSuppose $a_1, a_2, a_3, \\dots$ are elements of $S$ and at first all $a_i$'s, $i \\in \\mathbb{N}$, are 1. In each step we multiply $a_i$ by some primes.\n\nFor $n \\in \\mathbb{N}$ in step $n$:\n\n(i) We multiply $a_n$ by some new primes $p_{2n-1}$ and $p_{2n}$ so that $a_n$ become greater than $a_{n-1}$ (Note that $p_n$ is the $n$th prime number).\n\n(ii) Some elements among $\\{a_1, a_2, \\dots, a_{n-1}\\}$ are coprime to $a_n$. Let $b_n$ be the number of such elements, so $b_n < n < a_n$. Let $t_n = a_n - b_n$.\n\n(iii) Because of the type of construction, infinitely many number of $a_i$'s, $i > n$, are coprime to $a_n$. We leave first $t_n$ and assume that the $t_n$th number is $a_m$."
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_0feb059d8ef7",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2013_p34_data_d109b609f5.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "8. a) We claim that a set cannot exist with this property. Assume to the contrary that there exists a set $S$ satisfying the problems condition and let $n \\in \\mathbb{N}$, $n \\notin S$. Thus exactly $n$ elements of $S$ are coprime to $n$. Therefore, there exist infinitely many prime numbers which do not belong to $S$. Let $p$ and $q$ be two of them. Since $p \\notin S$ exactly $p$ elements of $S$ are not divisible by $p$ (coprime to $p$), for each $\\alpha > 1$, $p^{\\alpha} \\in S$. This is true because if $p^{\\alpha} \\notin S$, there must be $p^{\\alpha}$ elements of $S$ coprime to $p^{\\alpha}$ (and therefore coprime to $p$), but we have shown that $S$ has exactly $p$ elements of this kind. Finally, the greatest common divisor of $p^{\\alpha}$ and $q$ is 1, so infinitely many elements of $S$ are coprime to $q \\notin S$, a contradiction!\n\nb) We construct set the $S$ in the following way:\n\nSuppose $a_1, a_2, a_3, \\dots$ are elements of $S$ and at first all $a_i$'s, $i \\in \\mathbb{N}$, are 1. In each step we multiply $a_i$ by some primes.\n\nFor $n \\in \\mathbb{N}$ in step $n$:\n\n(i) We multiply $a_n$ by some new primes $p_{2n-1}$ and $p_{2n}$ so that $a_n$ become greater than $a_{n-1}$ (Note that $p_n$ is the $n$th prime number).\n\n(ii) Some elements among $\\{a_1, a_2, \\dots, a_{n-1}\\}$ are coprime to $a_n$. Let $b_n$ be the number of such elements, so $b_n < n < a_n$. Let $t_n = a_n - b_n$.\n\n(iii) Because of the type of construction, infinitely many number of $a_i$'s, $i > n$, are coprime to $a_n$. We leave first $t_n$ and assume that the $t_n$th number is $a_m$.\n\n(iv) In the sequence $a_{m+1}, a_{m+2}, \\dots$ multiply the first $2^{n-1}$ terms by $p_{2n-1}$, the next $2^{n-1}$ terms by $p_{2n}$ and so on.\n\nTherefore at the end of step $n$:\n\n(i) Exactly $a_n$ numbers are coprime to $a_n$.\n\n(ii) For each sequence $(q_1, q_2, \\dots, q_n)$ of prime numbers such that $q_i \\in \\{p_{2i-1}, p_{2i}\\}$, there exist infinitely many numbers $k$ such that $a_k$ has exactly these prime factors. So for each $a_i$ there exist infinitely many numbers $k$ such that $a_k$ has prime factors different from those of $a_i$ and consequently is coprime to $a_i$."
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_bfc5eff15a07",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "**Claim.** For each positive integer $k \\ge 2$ all of the roots of $P_k(x)$ and $P_{k-1}(x)$ are real and distinct. Furthermore, if $a_1 < a_2 < \\cdots < a_{k-1}$ and $b_1 < b_2 < \\cdots < b_k$ are roots of $P_{k-1}$ and $P_k$, respectively, we have\n\n$$\nb_1 < a_1 < b_2 < a_2 < \\cdots < a_{k-1} < b_k.\n$$\n\n**Proof.** We proceed by induction. For the base case $k = 2$, $-\\frac{1}{3}$ is the only root of $P_1$ and $P_2(-\\frac{1}{3}) < 0$ so $-\\frac{1}{3}$ lies between the two roots of $P_2(x)$.\n\nSuppose that $P_{k-1}(x)$ and $P_k(x)$ satisfy the induction hypothesis. We know $P_{k+1}(x) = (2x+1)P_k(x) - x^2P_{k-1}(x)$. Now, we consider the signs of $P_k$ and $P_{k-1}$ on different real numbers. First suppose that $k$ is even.\n\n$$\n\\begin{array}{c|cccccccccc} x & -\\infty & b_1 & a_1 & b_2 & a_2 & \\cdots & b_{k-1} & a_{k-1} & b_k & +\\infty \\\\ \\hline P_k & + & 0 & - & 0 & + & \\cdots & 0 & - & 0 & + \\\\ x^2 P_{k-1} & - & - & 0 & + & 0 & \\cdots & - & 0 & + & + \\end{array}\n$$\n\nSince $P_{k+1}(x) = (2x+1)P_k(x) - x^2P_{k-1}(x)$, for the sign of $P_{k+1}$ in respective $b_i$'s we have\n\n$$\n\\begin{array}{c|cccccccccc} x & -\\infty & b_1 & a_1 & b_2 & a_2 & \\cdots & b_{k-1} & a_{k-1} & b_k & +\\infty \\\\ \\hline P_{k+1} & - & + & - & - & - & \\cdots & + & - & - & + \\end{array}\n$$\n\nAccording to the change of signs of $P_{k+1}(x)$ and by the *Mean Value Theorem*, for each $1 \\le i \\le k-1$, $P_{k+1}$ has a root between $b_i$ and $b_{i+1}$. Also, it has one root less than $b_1$ and one root greater than $b_k$, which completes the proof for even values of $k$. The case where $k$ is an odd number is similar, the only difference being the signs of $b_1$ and $-\\infty$.\n\nNote that\n\n(i) 0 is not a root of any of the $P_k$'s. Because $P_k(0) = a(0, 2k+1) = 1$, $P_{k-1}(x)$ and $x^2P_{k-1}(x)$ have the same sign.\n\n(ii) The coefficient of $x^k$ in $P_k(x)$ equals $a(2k, 1) > 0$, so $P_k(+\\infty) > 0$ and the sign of $P_k(-\\infty)$ is related to the parity of $k$. $\\square$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "3. Let $Q_k(x) = \\sum_{i=0}^{k} a(i, 2k - 2i)x^i$. According to the recurrence relation for $a(m, n)$, we get\n\n$$\n\\begin{align*}\nP_k(x) &= xP_{k-1}(x) + Q_k(x) \\\\\nQ_k(x) &= xQ_{k-1}(x) + P_{k-1}(x).\n\\end{align*}\n$$\n\nSo $Q_k(x) = P_k(x) - xP_{k-1}(x)$ and therefore, $P_k(x) - xP_{k-1}(x) = x(P_{k-1}(x) - xP_{k-1}(x)) + P_{k-1}(x)$. Finally, we get\n\n$$\nP_k(x) = (2x + 1)P_{k-1}(x) - x^2 P_{k-1}(x).\n$$\n\nHence we get a recurrence relation for $P_{k+1}(x)$ where $k \\ge 2$, $P_1(x) = 3x + 1$ and $P_2(x) = 5x^2 + 5x + 1$."
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_ac41e62ed67f",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "What is the maximum number of nonequivalent vertices?\n\nNote that $\\vec{k} = \\vec{i} + \\vec{j}$, thus we can determine vectors of set A using only $\\vec{i}$ and $\\vec{j}$:\n\n$$\nA = \\{\\pm(n\\vec{i} - m\\vec{j}), \\pm((n+m)\\vec{i} + n\\vec{j}), \\pm(m\\vec{i} + (m+n)\\vec{j})\\}.\n$$\n\nSince the first vector $n\\vec{i} - m\\vec{j}$ is the difference of the two others, two vertices $\\alpha$ and $\\beta$ are equivalent iff their difference $\\alpha - \\beta$ can be written as a linear combination of vectors $(n+m)\\vec{i} + n\\vec{j}$ and $m\\vec{i} + (m+n)\\vec{j}$ with integer coefficients.\n\nNote that for integers $a, b, x$ and $y$ the space generated by the vectors $\\{a\\vec{i} + b\\vec{j}, x\\vec{i} + y\\vec{j}\\}$ (using integer coefficients) equals the space generated by vectors $\\{(a-x)\\vec{i} + (b-y)\\vec{j}, x\\vec{i} + y\\vec{j}\\}$. Therefore, we can change former vectors to get simpler vectors to work with. Note that in this change the value of $ay - bx$ (determinant of the matrix formed by vectors $(a, b)$ and $(x, y)$ as rows) is invariant, because $ay - bx = (a-x)y - (b-y)x$. Now, in a similar way to Euclidean Algorithm, if $a \\ge x$ we change $\\{a\\vec{i} + b\\vec{j}, x\\vec{i} + y\\vec{j}\\}$ by $\\{(a-x)\\vec{i} + (b-y)\\vec{j}, x\\vec{i} + y\\vec{j}\\}$. Repeating this process several times leads to vectors of the form $s\\vec{i} + r\\vec{j}$ and $0\\vec{i} + t\\vec{j}$. It means that we can suppose the coefficient of $\\vec{i}$ for one of them is zero. hence, if we want to go from one vertex to another, the difference of the coefficients of $\\vec{i}$ must be a multiple of $s$, since $t\\vec{j}$ does not affect the coefficient of $\\vec{i}$. As a result, for two equivalent vertices, we can first use vector $s\\vec{i} + r\\vec{j}$ several times to match their first coordinate. Then, we must use $t\\vec{j}$ to match the second coordinate. Hence we have $st$ nonequivalent vertices. But\n\n$$\nst = \\det \\begin{bmatrix} s & r \\\\ 0 & t \\end{bmatrix}\n$$\n\nwhich is invariant during the process.\n\n$$\n\\det \\begin{bmatrix} s & r \\\\ 0 & t \\end{bmatrix} = \\det \\begin{bmatrix} m+n & m \\\\ n & m+n \\end{bmatrix} = m^2 + mn + n^2\n$$\n\nSo the maximum number of nonequivalent vertices is $m^2 + mn + n^2$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "By considering centers of the hexagons, we get the following equivalent problem:\n\n\"Two vertices $\\alpha$ and $\\beta$ of the triangular lattice are called equivalent if $\\alpha - \\beta$ is equal to sum of finitely many vectors from the set:\n\n$$\nA = \\{\\pm(n\\vec{i} - m\\vec{j}), \\pm(n\\vec{k} + m\\vec{i}), \\pm(n\\vec{j} + m\\vec{k})\\}\n$$\n\nWhere $\\vec{i} = (1,0)$, $\\vec{j} = (-\\frac{1}{2}, \\frac{\\sqrt{3}}{2})$ and $\\vec{k} = (\\frac{1}{2}, \\frac{\\sqrt{3}}{2})$ according to the normal Cartesian coordinates."
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_bde234cb31fb",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Case 2. $p_i \\equiv 2 \\pmod 3$ and $2|\\alpha_i \\Rightarrow p_i^{\\alpha_i} \\equiv (p_i^2)^{\\frac{\\alpha_i}{2}} \\equiv 1 \\pmod 3$.\n\nAs a result, we must have $A \\equiv 1 \\pmod 3$ which is a contradiction. $\\square$\n\n**Lemma 2.** Let $p \\equiv 2 \\pmod 3$ be a prime number. Show that $\\{0^3, 1^3, \\dots, (p-1)^3\\}$ is a complete residue system modulo $p$.\n\n**Proof of lemma.** Obviously $i^3 \\equiv 0^3 \\pmod p$ iff $i \\equiv 0 \\pmod p$. Suppose that $p \\nmid i, j$. Our goal is to show that $i^3 \\equiv j^3 \\pmod p$ iff $i \\equiv j \\pmod p$. One part of the proof is obvious. To prove the other part, suppose that $p = 3t + 2$. Then by *Fermat's Little Theorem*, we have $i^{3t+1} \\equiv j^{3t+1} \\equiv 1 \\pmod p$. Hence, we have\n\n$$\ni^{3t} i \\equiv i^{3t+1} \\equiv j^{3t+1} \\equiv (j^3)^t j \\equiv i^{3t} j \\pmod p.\n$$\n\nSince $(i, p) = 1$, we get $i \\equiv j \\pmod p$. $\\square$\n\nNow we are ready to solve the main problem. We claim that there is no such triple. Assume to the contrary that\n\n$$\na^2 + b^2 + c^2 = 2013k(ab + bc + ca)\n$$\n\nfor some positive integer $k$.\n\nFirst, without loss of generality we can suppose that $a, b$ and $c$ have no common factor, because if $(a, b, c) = d > 1$, we can divide them by $d$ to get a new triple with no common factor. We have $(a+b+c)^2 = (2013k+2)(ab+bc+ca)$. $2013k+2 \\equiv 2 \\pmod 3$, so by lemma 1 there is some prime number $p \\equiv 2 \\pmod 3$ such that $p^{2n+1} \\nmid 2013k+2$ ($n \\ge 0$).\n\n$$\n\\begin{aligned} p^{2n+1} \\nmid 2013k+2 & \\Rightarrow p^{2n+1}|(a+b+c)^2 \\Rightarrow p^{2n+2}|(a+b+c)^2 \\\\ & \\Rightarrow p^{2n+2}|(2013k+2)(ab+bc+ca) \\Rightarrow p|ab+bc+ca. \\end{aligned}\n$$\n\nAs a result, $p|a+b+c$ and $p|ab+bc+ca$. Hence\n\n$$\n\\begin{aligned} 0 &\\equiv ab + bc + ca \\equiv ab + c(a+b) \\equiv ab + c(-c) \\pmod p \\Rightarrow ab \\equiv c^2 \\pmod p \\\\ & \\Rightarrow c^3 \\equiv abc \\pmod p. \\end{aligned}\n$$\n\nBy a similar argument, $a^3 \\equiv b^3 \\equiv abc \\pmod p$, so by lemma 2 we deduce $a \\equiv b \\equiv c \\pmod p$ and since $p|a+b+c$ and $3 \\nmid p$, we find that $p$ divides $a, b$ and $c$, which contradicts our assumption that $(a, b, c) = 1$. $\\square$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "5.\n\n**Lemma 1.** Let $A \\equiv 2 \\pmod{3}$ be a positive integer. Then there exists a prime number $p$ such that $p \\equiv 2 \\pmod{3}$ and $p^\\alpha \\mid A$ where $\\alpha$ is an odd integer.\n\n**Proof of lemma.** Assume to the contrary that there is not such a prime number $p$. Therefore, if $A = p_1^{\\alpha_1} p_2^{\\alpha_2} \\cdots p_k^{\\alpha_k}$ is the prime factorization of $A$, we have two cases for $p_i$'s, $1 \\le i \\le k$, to consider:\n\nCase 1. $p_i \\equiv 1 \\pmod{3} \\Rightarrow p_i^{\\alpha_i} \\equiv 1 \\pmod{3}$."
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_5c400f19ffbb",
      "language": "en",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "First, without loss of generality we can suppose that $a, b$ and $c$ have no common factor, because if $(a, b, c) = d > 1$, we can divide them by $d$ to get a new triple with no common factor. We have $(a+b+c)^2 = (2013k+2)(ab+bc+ca)$. $2013k+2 \\equiv 2 \\pmod 3$, so by lemma 1 there is some prime number $p \\equiv 2 \\pmod 3$ such that $p^{2n+1} \\nmid 2013k+2$ ($n \\ge 0$).\n\n$$\n\\begin{aligned} p^{2n+1} \\nmid 2013k+2 & \\Rightarrow p^{2n+1}|(a+b+c)^2 \\Rightarrow p^{2n+2}|(a+b+c)^2 \\\\ & \\Rightarrow p^{2n+2}|(2013k+2)(ab+bc+ca) \\Rightarrow p|ab+bc+ca. \\end{aligned}\n$$\n\nAs a result, $p|a+b+c$ and $p|ab+bc+ca$. Hence\n\n$$\n\\begin{aligned} 0 &\\equiv ab + bc + ca \\equiv ab + c(a+b) \\equiv ab + c(-c) \\pmod p \\Rightarrow ab \\equiv c^2 \\pmod p \\\\ & \\Rightarrow c^3 \\equiv abc \\pmod p. \\end{aligned}\n$$\n\nBy a similar argument, $a^3 \\equiv b^3 \\equiv abc \\pmod p$, so by lemma 2 we deduce $a \\equiv b \\equiv c \\pmod p$ and since $p|a+b+c$ and $3 \\nmid p$, we find that $p$ divides $a, b$ and $c$, which contradicts our assumption that $(a, b, c) = 1$. $\\square$",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Now we are ready to solve the main problem. We claim that there is no such triple. Assume to the contrary that\n\n$$\na^2 + b^2 + c^2 = 2013k(ab + bc + ca)\n$$\n\nfor some positive integer $k$.\n\nFirst, without loss of generality we can suppose that $a, b$ and $c$ have no common factor, because if $(a, b, c) = d > 1$, we can divide them by $d$ to get a new triple with no common factor. We have $(a+b+c)^2 = (2013k+2)(ab+bc+ca)$. $2013k+2 \\equiv 2 \\pmod 3$, so by lemma 1 there is some prime number $p \\equiv 2 \\pmod 3$ such that $p^{2n+1} \\nmid 2013k+2$ ($n \\ge 0$).\n\n$$\n\\begin{aligned} p^{2n+1} \\nmid 2013k+2 & \\Rightarrow p^{2n+1}|(a+b+c)^2 \\Rightarrow p^{2n+2}|(a+b+c)^2 \\\\ & \\Rightarrow p^{2n+2}|(2013k+2)(ab+bc+ca) \\Rightarrow p|ab+bc+ca. \\end{aligned}\n$$\n\nAs a result, $p|a+b+c$ and $p|ab+bc+ca$. Hence\n\n$$\n\\begin{aligned} 0 &\\equiv ab + bc + ca \\equiv ab + c(a+b) \\equiv ab + c(-c) \\pmod p \\Rightarrow ab \\equiv c^2 \\pmod p \\\\ & \\Rightarrow c^3 \\equiv abc \\pmod p. \\end{aligned}\n$$\n\nBy a similar argument, $a^3 \\equiv b^3 \\equiv abc \\pmod p$, so by lemma 2 we deduce $a \\equiv b \\equiv c \\pmod p$ and since $p|a+b+c$ and $3 \\nmid p$, we find that $p$ divides $a, b$ and $c$, which contradicts our assumption that $(a, b, c) = 1$. $\\square$"
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_86c85c13647c",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2013_p41_data_8cc5343a46.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "% IMAGE: ![](images/2013_p41_data_8cc5343a46.png)\n\nNote that these lemmas remain true if one of the circles is a line (considered as a circle with infinite radius).\n\nIf we suppose that interior of $l'$ (considered as a circle) is the half-plane not containing $X$, then according to lemma 2 for circle $\\omega_1'$, points $B$ and $C$ are direct anti-homologous for circles $\\omega_1$ and $l'$. By applying lemma 1 for circle $C_2$, points $A$ and $D$ are also anti-homologous points for $\\omega_1$ and $l'$. Using the fact that the arcs are all in one side of $l$, it is easily seen that $A$ and $D$ are also direct anti-homologous points, so $ABCD$ is a cyclic quadrilateral.\n\nSimilarly, by considering anti-homologous points for pairs of circles $\\{\\omega_2, \\omega_1'\\}$, $\\{l', \\omega_2'\\}$ we conclude that quadrilaterals $BCDE$ and $CDEF$ are also cyclic, so points $A, B, C, D, E$ and $F$ lie on a circle which we call it $C_4$.\n\nThe rest of the proof is the same as the first solution. $\\Box$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        },
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2013_p42_data_cf697cfbdc.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2013_p42_data_76d78e567b.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "**Third Solution.** Define points $A, B, \\dots, F$ and circles $C_1, C_2$ and $C_3$ similar to the first solution. We can suppose that $X$ is between $X'$ and $O$, without loss of generality. Thus, $C_1$ and $C_2$ are disjoint and $C_3$ contains both of them. According to lemma 1 and the fact that $\\omega_1$ lies entirely on one side of $l$, points $A$ and $B$ are direct anti-homologous points for $C_2$ and $C_1$. Similarly, $B$ and $C$ are inverse anti-homologous points for $C_1$ and $C_3$ and points $C$ and $D$ are direct anti-homologous points for $C_3$ and $C_2$. Pairs of points $\\{D, E\\}$ and $\\{E, F\\}$ are also anti-homologous in a similar manner as are pairs $\\{A, B\\}$ and $\\{B, C\\}$, respectively.\n\nOur motivation is that two anti-homologous points are related to each other by an inversion depending only on the two circles. So the problem says that the composition of six particular inversions is the identity. With this intuition in mind, we move all points to $C_1$. Let $A', C', D'$ and $F'$ be points on $C_1$ such that pairs $\\{A, A'\\}$ and $\\{D, D'\\}$ are\n\n% IMAGE: ![](images/2013_p42_data_cf697cfbdc.png)\n\ndirect homologous points for circles $C_1$ and $C_2$, and pairs $\\{C, C'\\}$ and $\\{F, F'\\}$ are inverse homologous points for circles $C_1$ and $C_3$, respectively.\n\nWe have\n\n$$\nO'D' \\parallel OD \\parallel OC \\parallel O'C'\n$$\n\nso, $A'D'$ passes through $O'$. The lines $A'B$ and $D'E$ pass through the direct homothetic center of $C_1$ and $C_2$, which lies on $l$. The lines $BC'$ and $EF'$ pass through the inverse homothetic center of $C_1$ and $C_3$, which also lies on $l$. So, by Pascal's theorem for the cyclic hexagon $A'BC'D'EF'$, we conclude that $A'F'$ also passes through $O'$. Hence, we similarly have\n\n$$\nOA \\parallel O'A' \\parallel O'F' \\parallel OF,\n$$\n\nso $O, A$ and $F$ are collinear and we are done. $\\square$\n\n% IMAGE: ![](images/2013_p42_data_76d78e567b.png)\n\n**Comment 1.** If we extend the arcs to perfect circles, then the other external tangent of $\\omega_1$ and $\\omega'_2$ and the other external tangent of $\\omega_2$ and $\\omega'_1$ also meet on $l$.\n\n**Comment 2.** If we let $\\omega_1$ and $\\omega_2$ be in different sides of $l$, then the assertion is no longer right. Instead, the corresponding internal common tangents meet on $l$. Also an assertion like that of the first comment holds.\n\n**Comment 3.** We can solve the problem using hyperbolic geometry. If we let the half-plane be the Poincar\\'e model, then the arcs and the common tangents are equidistant curves; i.e. the locus of points with a constant distance from a given line. This solution gives interesting generalizations of the problem. For example, see the following figures.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Without loss of generality, we can suppose that $\\omega_1$ is shorter than $\\omega_2$. Let $l'$ be the common external tangent of $\\omega'_1$ and $\\omega_2$ and let it intersects $l$ at $O$. Let $OA$ be tangent to $\\omega_1$ at $A$, $B := \\omega_1 \\cap \\omega'_1$, $C := \\omega'_1 \\cap l'$, $D := l' \\cap \\omega_2$, $E := \\omega_2 \\cap \\omega'_2$ and let $OF$ be tangent to $\\omega'_2$ at $F$. We must prove that $A, O$ and $F$ are collinear. Let the common internal tangent of $\\omega_1$ and $\\omega'_1$ meet $l$ at $O'$, so\n\n$$\nO'X.O'Y = O'B^2 = O'X'.O'Y'\n$$\n\nThus the power of $O'$ with respect to $\\omega_2$ and $\\omega'_2$ is equal to this value. Hence the circle $C_1$ with center $O'$ and radius $O'B$ passes through $E$ and is orthogonal to all arcs $\\omega_1, \\omega_2, \\omega'_1$ and $\\omega'_2$. We also have $OA^2 = OX \\cdot OY = OD^2$ and $OF^2 = OX' \\cdot OY' = OC^2$, So the circle $C_2$ with center $O$ and radius $OA$ is orthogonal to both $\\omega_1$ and $\\omega_2$ and also the circle $C_3$ with center $O$ and radius $OF$ is orthogonal to both $\\omega'_1$ and $\\omega'_2$.\n\nWe use the following classic lemma without proving it.\n\n**Lemma 1.** Let circle $\\omega$ be orthogonal to circles $C_1$ and $C_2$ and intersect them in $\\{A_1, B_1\\}$ and $\\{A_2, B_2\\}$, respectively. Let $O, O_1$ and $O_2$ be the centers of $\\omega, C_1$ and $C_2$, respectively. Suppose that the right angles $\\angle OA_1O$ and $\\angle OA_2O$ have different orientations; i.e. one of them is clockwise and the other one is not. Then the pairs $\\{A, A'\\}$ and $\\{B, B'\\}$ are direct anti-homologous points and pairs $\\{A, B'\\}$ and $\\{A', B\\}$ are inverse anti-homologous points for $C_1$ and $C_2$. $\\square$\n\nUsing the lemma for circle $C_2$, we deduce that $A$ and $D$ are inverse anti-homologous points for $\\omega_1$ and $\\omega_2$ (we do not check the conditions here for brevity). Using the lemma again for circle $C_1$, we get that $B$ and $E$ are also inverse anti-homologous points for $\\omega_1$ and $\\omega_2$. So, the quadrilateral $ADEB$ is cyclic.\n\nSimilarly, by using the lemma twice for circles $C_1$ and $C_3$, we get that pairs $\\{B, E\\}$ and $\\{C, F\\}$ are inverse anti-homologous points for $\\omega'_1$ and $\\omega'_2$. So the quadrilateral $BEFC$ is also cyclic.\n\nAccording to the lemma for circle $C_1$, points $B$ and $E$ are direct anti-homologous points for $\\omega'_1$ and $\\omega_2$, and so are $C$ and $D$. Hence, the quadrilateral $BCDE$ is also cyclic.\n\nBy the last three paragraphs, we deduce that all points $A, B, \\dots, F$ lie on the circumcircle of triangle $BCD$, which we call it $C_4$ (checking distinctness of the points is not mentioned here). Now, circles $C_2, C_3$ and $C_4$ have a line of symmetry, so their intersections and centers also have a line of symmetry. It follows that $O, A$ and $F$ are collinear and the problem is solved.\n\n**Second Solution.** To prove that $A, B, \\dots, F$ lie on a circle, we can use the following lemma.\n\n**Lemma 2.** If a circle $\\omega$ is tangent to circles $C_1$ and $C_2$, then the points of tangency are anti-homologous points for $C_1$ and $C_2$. If none of $C_1$ and $C_2$ contains the other and $\\omega$ is tangent to them both internally or both externally, then the points of tangency are direct anti-homologous points. $\\square$"
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_e45e9ddaa6fd",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P0"
              ],
              "path": "images/2013_p42_data_76d78e567b.png",
              "title": null
            }
          ],
          "label": null,
          "latex": "direct homologous points for circles $C_1$ and $C_2$, and pairs $\\{C, C'\\}$ and $\\{F, F'\\}$ are inverse homologous points for circles $C_1$ and $C_3$, respectively.\n\nWe have\n\n\\[\nO'D' \\parallel OD \\parallel OC \\parallel O'C'\n\\]\n\nso, $A'D'$ passes through $O'$. The lines $A'B$ and $D'E$ pass through the direct homothetic center of $C_1$ and $C_2$, which lies on $l$. The lines $BC'$ and $EF'$ pass through the inverse homothetic center of $C_1$ and $C_3$, which also lies on $l$. So, by Pascal's theorem for the cyclic hexagon $A'BC'D'EF'$, we conclude that $A'F'$ also passes through $O'$. Hence, we similarly have\n\n\\[\nOA \\parallel O'A' \\parallel O'F' \\parallel OF,\n\\]\n\nso $O, A$ and $F$ are collinear and we are done. $\\square$\n\n% IMAGE: ![](images/2013_p42_data_76d78e567b.png)\n\n\\textbf{Comment 1.} If we extend the arcs to perfect circles, then the other external tangent of $\\omega_1$ and $\\omega'_2$ and the other external tangent of $\\omega_2$ and $\\omega'_1$ also meet on $l$.\n\n\\textbf{Comment 2.} If we let $\\omega_1$ and $\\omega_2$ be in different sides of $l$, then the assertion is no longer right. Instead, the corresponding internal common tangents meet on $l$. Also an assertion like that of the first comment holds.\n\n\\textbf{Comment 3.} We can solve the problem using hyperbolic geometry. If we let the half-plane be the Poincar\\'e model, then the arcs and the common tangents are equidistant curves; i.e. the locus of points with a constant distance from a given line. This solution gives interesting generalizations of the problem. For example, see the following figures.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2013_p41_data_8cc5343a46.png",
          "title": null
        },
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2013_p42_data_cf697cfbdc.png",
          "title": null
        },
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2013_p42_data_76d78e567b.png",
          "title": null
        }
      ],
      "statement_latex": "Note that these lemmas remain true if one of the circles is a line (considered as a circle with infinite radius).\n\nIf we suppose that interior of $l'$ (considered as a circle) is the half-plane not containing $X$, then according to lemma 2 for circle $\\omega_1'$, points $B$ and $C$ are direct anti-homologous for circles $\\omega_1$ and $l'$. By applying lemma 1 for circle $C_2$, points $A$ and $D$ are also anti-homologous points for $\\omega_1$ and $l'$. Using the fact that the arcs are all in one side of $l$, it is easily seen that $A$ and $D$ are also direct anti-homologous points, so $ABCD$ is a cyclic quadrilateral.\n\nSimilarly, by considering anti-homologous points for pairs of circles $\\{\\omega_2, \\omega_1'\\}$, $\\{l', \\omega_2'\\}$ we conclude that quadrilaterals $BCDE$ and $CDEF$ are also cyclic, so points $A, B, C, D, E$ and $F$ lie on a circle which we call it $C_4$.\n\nThe rest of the proof is the same as the first solution. \\u25a1\n\n\\textbf{Third Solution.} Define points $A, B, \\dots, F$ and circles $C_1, C_2$ and $C_3$ similar to the first solution. We can suppose that $X$ is between $X'$ and $O$, without loss of generality. Thus, $C_1$ and $C_2$ are disjoint and $C_3$ contains both of them. According to lemma 1 and the fact that $\\omega_1$ lies entirely on one side of $l$, points $A$ and $B$ are direct anti-homologous points for $C_2$ and $C_1$. Similarly, $B$ and $C$ are inverse anti-homologous points for $C_1$ and $C_3$ and points $C$ and $D$ are direct anti-homologous points for $C_3$ and $C_2$. Pairs of points $\\{D, E\\}$ and $\\{E, F\\}$ are also anti-homologous in a similar manner as are pairs $\\{A, B\\}$ and $\\{B, C\\}$, respectively.\n\nOur motivation is that two anti-homologous points are related to each other by an inversion depending only on the two circles. So the problem says that the composition of six particular inversions is the identity. With this intuition in mind, we move all points to $C_1$. Let $A', C', D'$ and $F'$ be points on $C_1$ such that pairs $\\{A, A'\\}$ and $\\{D, D'\\}$ are"
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_ff5d8e12f2ce",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "**Proof of lemma.** We use induction on $k$. For $k=1$ the lemma is obvious. If $b_k > a$, we can set $a_1 = a_2 = \\cdots = a_{k-1} = 0$ and $a_k = a$, so suppose that $b_k \\le a$. Let $a_k := b_k$. Now, we must have $a_1 + a_2 + \\cdots + a_{k-1} = a - b_k$. but $a - b_k \\le b_1 + b_2 + \\cdots + b_k - b_k = b_1 + b_2 + \\cdots + b_{k-1}$ and the assertion follows by the induction hypothesis. $\\square$\n\nWe have\n\n$$\n\\sum_{i=2}^{n} (q_i - \\min(p_i, q_i)) = \\sum_{i=1}^{n} (q_i - \\min(p_i, q_i)) = \\sum_{i=1}^{n} (p_i - \\min(p_i, q_i)) \\\\ \\geq p_1 - \\min(p_1, q_1) = p_1 - q_1.\n$$\n\nHence, by the lemma we can find nonnegative real numbers $\\beta_2, \\beta_3, \\dots, \\beta_n$ such that equation 1 holds. Let $A_{1i} = \\beta_i$ for $2 \\le i \\le n$. The remaining entries of $A$ should satisfy\n\n* $A_{i2} + A_{i3} + \\cdots + A_{in} = p_i$ for $2 \\le i \\le n$,\n* $A_{2i} + A_{3i} + \\cdots + A_{ni} = q_i - \\beta_i$ for $1 \\le i \\le n$.\n\nWe have $q_i - \\beta_i \\ge \\min(p_i, q_i)$ by equation 1, so $\\min(p_i, q_i - \\beta_i) = \\min(p_i, q_i)$. Hence, the rest of the matrix can be filled using the induction hypothesis. $\\square$\n\n**Second Solution.** We can change the order of $p_1, p_2, \\dots, p_n$ and $q_1, q_2, \\dots, q_n$ arbitrarily by changing corresponding rows and columns of the matrix. So we can suppose $p_1 \\le q_1, p_2 \\le q_2, \\dots, p_k \\le q_k$ and $p_{k+1} \\ge q_{k+1}, \\dots, p_n \\ge q_n$. Let $A_{ii} = \\min(p_i, q_i)$ for $1 \\le i \\le n$. Also let $A_{ij} = 0$ if $i \\ne j$ and either $i \\le k$ or $j > k$. The remaining entries $\\{A_{ij} : i > k, j \\le k\\}$ should satisfy:\n\n* $A_{i1} + A_{i2} + \\cdots + A_{ik} = p_i - q_i$ for $i > k$,\n* $A_{(k+1)i} + \\cdots + A_{ni} = q_i - p_i$ for $i \\le k$.\n\ni.e. we should find a matrix with nonnegative entries for the given row sums and column sums. We can construct such a matrix using induction on the number of rows as follows.\n\nBy the lemma above, we can find $A_{n1}, A_{n2}, \\dots, A_{nk}$ such that their sum is $p_n - q_n$ and $A_{ni} \\le q_i - p_i$ for each $i \\le k$. Then, we delete the $n$'th row and replace $q_i - p_i$ by $q_i - p_i - A_{ni}$ for each $i \\le k$. We can proceed by using induction and the desired matrix will be constructed. $\\square$\n\n**Comment.** This problem originally arises from probability theory. Suppose $\\sum_i p_i = 1$ and we want to have two random variables $X, Y$ such that $\\mathbb{P}(X = i) = p_i$ and $\\mathbb{P}(Y = i) = q_i$ for $1 \\le i \\le n$. The problem wants the maximum possible value of $\\mathbb{P}(X = Y)$ over all possible joint distributions of $X$ and $Y$. $\\square$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2013_p43_data_1ed59c58f7.png",
          "title": ""
        }
      ],
      "statement_latex": "We use the notation $A$ for matrices and $A_{ij}$ for the entry of row $i$ and column $j$.\n\nFirst, observe that $A_{ii} \\le p_i$, since the sum of the $i$th row is $p_i$ and the entries are nonnegative. Similarly, $A_{ii} \\le q_i$. Thus, $A_{ii} \\le \\min(p_i, q_i)$ and it follows that $\\text{trace}(A) \\le \\min(p_1, q_1) + \\min(p_2, q_2) + \\dots + \\min(p_n, q_n)$. It remains to prove there is a matrix with the property that $A_{ii} = \\min(p_i, q_i)$ for every $1 \\le i \\le n$.\n\nWe proceed by induction on $n$. The case $n=1$ is obvious, since $p_1 = q_1$. Assume the assertion holds for $n=1, 2, \\dots, k$ and consider the case $n=k+1$. We can suppose $q_1 \\le p_1$ without loss of generality. Let $A_{11} = q_1$ and $A_{i1} = 0$ for $2 \\le i \\le n$. We claim that there exist nonnegative real numbers $\\beta_i := A_{1i}$ for $2 \\le i \\le n$ such that these conditions hold:\n\n$$\n\\sum_{i=2}^{n} \\beta_i = p_1 - q_1, \\\\ \\beta_i \\le q_i - \\min(p_i, q_i) \\text{ for every } 2 \\le i \\le n. \\tag{1}\n$$\n\nTo verify our claim, first we prove a lemma.\n\n**Lemma.** Let $a, b_1, b_2, \\dots, b_k$ be nonnegative real numbers such that $a \\le b_1 + b_2 + \\dots + b_k$. Then there exist nonnegative real numbers $a_1, a_2, \\dots, a_k$ such that $a_1 + a_2 + \\dots + a_k = a$ and $a_i \\le b_i$ for every $1 \\le i \\le k$."
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_16b1531619af",
      "language": "en",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "We use induction on $k$. For $k=1$ the lemma is obvious. If $b_k > a$, we can set $a_1 = a_2 = \\cdots = a_{k-1} = 0$ and $a_k = a$, so suppose that $b_k \\le a$. Let $a_k := b_k$. Now, we must have $a_1 + a_2 + \\cdots + a_{k-1} = a - b_k$. but $a - b_k \\le b_1 + b_2 + \\cdots + b_k - b_k = b_1 + b_2 + \\cdots + b_{k-1}$ and the assertion follows by the induction hypothesis. \\(\\square\\)\n\nWe have\n\n\\[\n\\sum_{i=2}^{n} (q_i - \\min(p_i, q_i)) = \\sum_{i=1}^{n} (q_i - \\min(p_i, q_i)) = \\sum_{i=1}^{n} (p_i - \\min(p_i, q_i)) \\\\ \\geq p_1 - \\min(p_1, q_1) = p_1 - q_1.\n\\]\n\nHence, by the lemma we can find nonnegative real numbers $\\beta_2, \\beta_3, \\dots, \\beta_n$ such that equation 1 holds. Let $A_{1i} = \\beta_i$ for $2 \\le i \\le n$. The remaining entries of $A$ should satisfy\n\n* $A_{i2} + A_{i3} + \\cdots + A_{in} = p_i$ for $2 \\le i \\le n$,\n* $A_{2i} + A_{3i} + \\cdots + A_{ni} = q_i - \\beta_i$ for $1 \\le i \\le n$.\n\nWe have $q_i - \\beta_i \\ge \\min(p_i, q_i)$ by equation 1, so $\\min(p_i, q_i - \\beta_i) = \\min(p_i, q_i)$. Hence, the rest of the matrix can be filled using the induction hypothesis. $\\square$\n\nSecond Solution. We can change the order of $p_1, p_2, \\dots, p_n$ and $q_1, q_2, \\dots, q_n$ arbitrarily by changing corresponding rows and columns of the matrix. So we can suppose $p_1 \\le q_1, p_2 \\le q_2, \\dots, p_k \\le q_k$ and $p_{k+1} \\ge q_{k+1}, \\dots, p_n \\ge q_n$. Let $A_{ii} = \\min(p_i, q_i)$ for $1 \\le i \\le n$. Also let $A_{ij} = 0$ if $i \\ne j$ and either $i \\le k$ or $j > k$. The remaining entries $\\{A_{ij} : i > k, j \\le k\\}$ should satisfy:\n\n* $A_{i1} + A_{i2} + \\cdots + A_{ik} = p_i - q_i$ for $i > k$,\n* $A_{(k+1)i} + \\cdots + A_{ni} = q_i - p_i$ for $i \\le k$.\n\ni.e. we should find a matrix with nonnegative entries for the given row sums and column sums. We can construct such a matrix using induction on the number of rows as follows.\n\nBy the lemma above, we can find $A_{n1}, A_{n2}, \\dots, A_{nk}$ such that their sum is $p_n - q_n$ and $A_{ni} \\le q_i - p_i$ for each $i \\le k$. Then, we delete the $n$'th row and replace $q_i - p_i$ by $q_i - p_i - A_{ni}$ for each $i \\le k$. We can proceed by using induction and the desired matrix will be constructed. $\\square$",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "This problem originally arises from probability theory. Suppose $\\sum_i p_i = 1$ and we want to have two random variables $X, Y$ such that $\\mathbb{P}(X = i) = p_i$ and $\\mathbb{P}(Y = i) = q_i$ for $1 \\le i \\le n$. The problem wants the maximum possible value of $\\mathbb{P}(X = Y)$ over all possible joint distributions of $X$ and $Y$."
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_39bbe25c13bf",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Therefore, $f(x) = x - 2c$ for large values of $x$. Thus, we can find values of $x$ and $y$ such that $f(x) = x - 2c$ and $f(y) = y - 2c$. Therefore, from the second equation we have\n\n$$g(f(x) + y + g(y)) = g(x - 2c + y + y - 3c) = x + 2y - 8c$$\n$$2x - g(x) + f(y) + y = 2x - x + 3c + y - 2c + y = x + 2y + c.$$\n\nHence, $c = 0$ and $f(x) = g(x)$ for all $x \\in \\mathbb{R}^+$. Furthermore, we have $f(x) = g(x) = x$ for large values of $x$. Now, let $y$ be sufficiently large such that $f(y) = y$ and let $x$ be an arbitrary positive real number in the second equation.\n\n$$g(f(x) + y + g(y)) = g(f(x) + 2y) = f(x) + 2y$$\n$$2x - g(x) + f(y) + y = 2x - x + y + y = x + 2y.$$\n\nTherefore, $f(x) = x$ for all $x \\in \\mathbb{R}^+$, so we get $f(x) = g(x) = x$ for all $x \\in \\mathbb{R}^+$ and it's easy to check that this is indeed a solution. $\\square$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "$f$ is an increasing function so $f(x) + x$ is strictly increasing and therefore injective. Let $A = f(x) + 2g(x) + 3f(y)$ and $B = f(y) + 2g(y) + 3f(x)$. We have\n\n$$\nf(A) + A = 3(f(x) + f(y) + g(x) + g(y)),\n$$\n\n$$\nf(B) + B = 3(f(y) + f(x) + g(y) + g(x)).\n$$\n\nSince $f(A) + A = f(B) + B$ and $f(x) + x$ is injective, we deduce that $A = B$:\n\n$$\nf(x) + 2g(x) + 3f(y) = f(y) + 2g(y) + 3f(x).\n$$\n\nThis implies that $f(x) - g(x) = f(y) - g(y)$ for all $x, y > 0$. Thus, $f(x) - g(x)$ equals some constant value $c$. Putting $x = y$ in the second equation gives $g(*) = 3x + c > c$, so $g$ takes any value greater than $c$ and consequently, $f$ takes any value greater than $2c$. By substituting $g(x) = f(x) - c$ in the first equation we get\n\n$$\nf(3(f(x) + f(y)) - 2c) = 3(f(x) + f(y)).\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_998acef9aad4",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Suppose that $G$ does not contain edge $v_i v_j$.\n\nWe claim that we can add edge $v_i v_j$ and assign a number to it such that the assigned number satisfies the problem's condition for $G \\cup \\{v_i v_j\\}$ and therefore, according to the induction hypothesis the statement holds for $G \\cup \\{v_i v_j\\}$.\n\nIf the edge $v_i v_j$ is not included in any even walk, we can choose an arbitrary number for $N(v_i v_j)$, and if the edge $v_i v_j$ is included in some even walk, the assigned number is determined uniquely.\n\nFurthermore, if the edge $v_i v_j$ is included in two even walks $C_1$ and $C_2$, $C_1 \\cup C_2 - \\{v_i v_j\\}$ is also an even walk which satisfies the problem's condition. Therefore, the assigned numbers to the edge $v_i v_j$ by $C_1$ and $C_2$ are equal. $\\square$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "10. Denote by $G$ the graph in the problem. We proceed by induction on the number of edges of the complement graph $\\bar{G}$.\n\nThe base case is when $G$ is a complete graph.\n\nLet $v_1, v_2, v_i$ and $v_j$ be some four vertices of the complete graph $G$. By the problem's condition for the 4-cycle $v_1v_iv_jv_2v_1$ we get\n\n$$\nN(v_iv_1) - N(v_iv_2) = N(v_jv_1) - N(v_jv_2)\n$$\n\nWhere by $N(vv')$ we mean the number assigned to the edge $vv'$. Thus, for each $i$, the number $N(v_iv_1) - N(v_iv_2)$ is constant. We denote by $K$ this constant value. Now, let $n_i$ be the number we want to assign to the vertex $v_i$. We must have\n\n$$\n\\begin{aligned} n_1 - n_2 &= N(v_1v_i) - N(v_2v_i) = K \\\\ n_1 + n_2 &= N(v_1v_2). \\end{aligned}\n$$\n\nBy solving this system of equations we get the numbers due to the vertices $v_1$ and $v_2$. Now, for each $i$ let $n_i = N(v_iv_1) - n_1$. We claim that these numbers satisfy the assertion for complete graphs. For this, we must show that for every $i$ and $j$, $n_i + n_j = N(v_iv_j)$. For $j = 2$ this is equivalent to the second relation in the above system.\n\nFor other values of $j$, consider 4-cycle $v_1v_iv_jv_2v_1$. we have\n\n$$\nN(v_1v_2) + N(v_iv_j) = N(v_1v_i) + N(v_2v_j).\n$$\n\nThus,\n\n$$\nn_1 + n_2 + N(v_iv_j) = n_1 + n_i + n_j + n_2 \\Rightarrow N(v_iv_j) = n_i + n_j.\n$$\n\nThis finishes the proof of the base case."
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_cb20710c9dba",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2013_p48_data_0965fb12a9.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2013_p48_data_1269417baf.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "\\textbf{Proof of lemma.}\n\n$$\n\\angle NAF = \\frac{1}{2} \\widehat{ND} = \\frac{1}{2} \\widehat{NA} = \\angle ATN,\n$$\n\nso triangles TAN and AFN are similar, so $\\frac{NF}{NA} = \\frac{NA}{NT}$, and consequently $NA^2 = NF \\cdot NT$.\nIn a similar way we can show that $MA^2 = ME \\cdot MT$. Thus,\n\n$$\n\\left(\\frac{MA}{AN}\\right)^2 = \\frac{ME \\cdot MT}{NF \\cdot NT}. \\quad (*)\n$$\n\n$T$ is the external homothetic center of $\\omega$ and $\\omega'$. This homothety maps $E$ and $F$ to $M$ and $N$, respectively, so $EF \\parallel MN$ and by Thales' Theorem $\\frac{ME}{MF} = \\frac{MT}{NT}$. This and (*) imply\n\n$$\n\\left(\\frac{MA}{NA}\\right)^2 = \\frac{ME}{NF} \\cdot \\frac{MT}{NT} = \\left(\\frac{MT}{NT}\\right)^2 \\Rightarrow \\frac{MA}{NA} = \\frac{MT}{NT}.\n$$\n\nTherefore, $M$ is the harmonic conjugate of $N$ with respect to $A$ and $T$, and hence tangents to $\\omega$ at $A$ and $T$ meet on the line $MN$. $\\square$\n\n% IMAGE: ![](images/2013_p48_data_0965fb12a9.png)\n% IMAGE: ![](images/2013_p48_data_1269417baf.png)\n\nWe keep using the notations introduced in the lemma. We showed that $K$ lies on the line $MN$ and now we want to show that $K$ lies on the line $I_1I_2$. We have\n\n$$\n\\frac{KM}{KN} = \\frac{AM \\cdot \\sin(\\angle MAK)}{AN \\cdot \\sin(\\angle NAK)} = \\frac{AM}{AN} \\cdot \\frac{\\sin(\\angle MCA)}{\\sin(\\angle NCA)} =\n$$\n$$\n\\frac{MI_2}{NI_1} \\cdot \\frac{\\sin(\\angle MCA)}{r_2} \\cdot \\frac{r_1}{\\sin(\\angle NCA)} = \\frac{MI_2}{NI_1} \\cdot \\frac{CI_1}{CI_2}.\n$$\n\nAs a result, $\\frac{MK}{KN} \\cdot \\frac{NI_1}{I_1C} \\cdot \\frac{CI_2}{I_2M} = 1$ and by Menelaus' Theorem, $K, I_1$ and $I_2$ are collinear. $\\square$",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "12.\n\n\\textbf{Lemma.} Let ABD be a triangle with circumcircle $\\omega$. Suppose that $\\omega'$ is a circle tangent to sides AB and AD at E and F, respectively, and tangent to $\\omega$ at T. M and N are midpoints of shorter arcs $\\widehat{AB}$ and $\\widehat{AD}$, respectively. Then tangents to $\\omega$ at A and T, and line MN are concurrent."
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_18fa2e0b9596",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "$$\n\\frac{MI_2}{NI_1} \\cdot \\frac{\\sin(\\angle MCA)}{r_2} \\cdot \\frac{r_1}{\\sin(\\angle NCA)} = \\frac{MI_2}{NI_1} \\cdot \\frac{CI_1}{CI_2}.\n$$\n\nAs a result, $\\frac{MK}{KN} \\cdot \\frac{NI_1}{I_1C} \\cdot \\frac{CI_2}{I_2M} = 1$ and by Menelaus' Theorem, $K, I_1$ and $I_2$ are collinear. $\\square$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2013_p48_data_0965fb12a9.png",
          "title": ""
        },
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2013_p48_data_1269417baf.png",
          "title": ""
        }
      ],
      "statement_latex": "We keep using the notations introduced in the lemma. We showed that $K$ lies on the line $MN$ and now we want to show that $K$ lies on the line $I_1I_2$. We have\n\n$$\n\\frac{KM}{KN} = \\frac{AM \\cdot \\sin(\\angle MAK)}{AN \\cdot \\sin(\\angle NAK)} = \\frac{AM}{AN} \\cdot \\frac{\\sin(\\angle MCA)}{\\sin(\\angle NCA)} =\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_69d0566dbc06",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "b) We prove a stronger assertion.\n\nFor each function $f : \\mathbb{N} \\to \\mathbb{N}$ such that $f(n) \\le n$ for $n > M$, where $M, n \\in \\mathbb{N}$, there exists a sequence $a_1 < a_2 < a_3 < \\dots$ such that $a_n$ is divisible by exactly $f(n)$ terms of the sequence for sufficiently large positive integers $n$.\n\nLet $a_1, a_2, \\dots, a_M$ be a strictly increasing sequence of prime numbers. Then, for $k > M$, set $a_k = [a_1, a_2, \\dots, a_{f(k)-1}]q_k$ where $q_k$ is a new prime number specifically for $a_k$. Obviously, we can choose $q_k$ large enough so that $a_k$ became greater than $a_{k-1}$.\n\nBy this construction $a_k$ is divisible by $a_1, a_2, \\dots, a_{f(k)-1}$ and itself which are $f(k)$ numbers. Furthermore, $a_k$ is not divisible by $a_j$ for some other $j$, because each $a_j$ has its specific prime number $q_j$ which has not appeared in the definition of $a_k$.\n\n$\\Box$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "15. a) It suffices to find a sequence $a_n$ such that $a_1 \\nmid a_n$ for all natural numbers $n > 1$ and $i \\ne j$ if and only if $a_i|a_j$ for all natural numbers $i, j \\ge 2$. Since $(2^m - 1, 2^n - 1) = 2^{(m,n)} - 1$, the sequence defined by $a_1 = 2$ and $a_n = 2^n - 1$ for $n > 1$ has this property."
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_7df66c5b11f0",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2013_p51_data_20ccb269cd.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "PYN (1). Furthermore, MPX = NPY (2). By (1) and (2) we deduce that\ntriangles PXM and PYN are similar, So\n\n$$\n\\begin{align*}\n\\angle PMX &= \\angle PNY \\Rightarrow 180^\\circ - \\angle B + 180^\\circ - 2\\angle ABX = \\angle C + 2\\angle ACY \\\\\n\\Rightarrow \\angle ABX + \\angle ACY &= 180^\\circ - \\angle B - \\angle C + 90^\\circ - \\angle ABX + 90^\\circ - \\angle ACY \\\\\n\\Rightarrow \\angle ABX + \\angle ACY &= \\angle BAC + \\angle XAB + \\angle CAY \\quad (3).\n\\end{align*}\n$$\n\nSince $\\angle AHB = \\angle AHC = 90^\\circ$, $H$ lies on the circumcircles of triangles $AXB$ and $AYC$,\nso $\\angle ABX = \\angle AHX$ (4) and $\\angle ACY = \\angle AHY$ (5). Thus,\n\n$$\n\\angle XHY = \\angle XHA + \\angle AHY = \\angle ABX + \\angle ACY = \\angle YAX \\quad \\text{By 3, 4, 5.}\n$$\n\n% IMAGE: ![](images/2013_p51_data_20ccb269cd.png)\n\nSince *XY* is the perpendicular bisector of segment *AD*, we get *XAY* = *XDY*.\nTherefore, *YHX* = *YDX*, so the quadrilateral *XHDY* is cyclic. ",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "17. Let $M, N$ and $P$ be the midpoints of segments $AB, AC$ and $AD$, respectively. Since $M$ and $N$ are the centers of circles with diameters $AB$ and $AC$, respectively, and $AD$ is the bisector of $\\angle BAC$, we have\n\n$$\n\\frac{MP}{NP} = \\frac{BD}{CD} = \\frac{AB}{AC} = \\frac{AM}{AN} = \\frac{MX}{NY}.\n$$\n\nHence, $\\angle PXM + \\angle PYN = 180^\\circ$, or $\\angle PXM = $"
    },
    {
      "_provenance": {
        "folder": "IRN_2013",
        "pages_map": {
          "P0": "page56.md",
          "P1": "page57.md",
          "P2": "page58.md"
        }
      },
      "author": "Goodarz Mehr; Hesam Rajabzadeh; Morteza Saghafian",
      "booklet title": "2013.pdf",
      "booklet_url": "https://drive.google.com/open?id=1VeSpYTtZYZBBdSg9eUbnLyL07qFkV0Pn",
      "competition name": "30th Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2012-2013. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_d4e9a26c96b8",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2013_p53_data_df0a4786eb.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2013_p53_data_d375720ed3.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2013_p53_data_fb20d02609.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "The boundary of each tile contains two lattice edges and two diameters of two lattice squares, so we have two types of tiles. By these definitions the following lemma is obvious.\n\n\\textbf{Lemma.} Suppose that $e$ is a lattice edge of the lattice square $S$. Furthermore, assume that $e$ is not included in the boundary of any tile that lies in the same side of $e$ as $S$. By these conditions, there exist a lattice triangle and a small triangle containing $e$ which is contained in $S$ that are not covered by any tiles. $\\square$\n\nConsider a graph with lattice edges as its vertices. Two vertices are connected if and only if their corresponding edges are on the boundary of the same tile. In this graph the degree of each vertex is at most two. Furthermore, two connected vertices correspond to parallel edges, and if the degree of a vertex corresponding to a horizontal (vertical) edge is 2, one of the edges connected to this edge in the graph is above (right of) it and the other lies below (left of) it. Hence, each connected component of the graph is a path containing parallel lattice edges, and the order of vertices in this path coincides with the order of one of the coordinates of the corresponding edges (x-coordinate for vertical edges and y-coordinate for horizontal edges).\n\nThus, lattice edges on the line $y = n$ lie on different paths. We denote these paths by $U_1, U_2, \\dots, U_n$. Note that some of $U_i$'s might contain only one vertex. The bottommost lattice edges of these paths are different. Let $SU_i$ be the lattice square below the bottommost edge of $U_i$. If $SU_i$ lies above the line $y = 0$, according to the lemma one of the lattice triangles in $SU_i$ is not covered. We denote this triangle by $TU_i$. Furthermore, the upper small triangle in $SU_i$ is not covered. We denote this small triangle by $QU_i$. In the same manner, we denote by $D_1, D_2, \\dots$ and $D_n$ the paths containing lattice edges on the line $y = 0$, by $L_1, L_2, \\dots$ and $L_n$ the paths containing the edges on the line $x = 0$, and finally by $R_1, R_2, \\dots$ and $R_n$ the paths containing lattice edges on the line $x = n$. Triangles $TD_i, TL_i, TR_i, QD_i, QL_i$ and $QR_i$ are defined similarly. We have three cases:\n\nCase1. Suppose that there exists a path like $P$ containing one lattice edge of the lines $x = 0$ and $x = n$. In this case all the tiles of paths $U_1, U_2, \\dots$ and $U_n$ are above the tiles of the path $P$ and tiles of the paths $D_1, D_2, \\dots$ and $D_n$ lie below the tiles of the path $P$. Now, $2n$ paths $D_1, D_2, \\dots$ and $D_n$, and $U_1, U_2, \\dots$ and $U_n$ are all distinct, so the triangles $TU_1, TU_2, \\dots$ and $TU_n$, and $TD_1, TD_2, \\dots$ and $TD_n$ can be defined and are disjoint. Since these triangles are not covered, and the area of each of them is $\\frac{1}{2}$, the sum of the area of these triangles is $n$. Hence, the assertion is proved in this case.\n\nCase2. There exists a path $P$ containing one lattice edge of the lines $y = 0$ and $y = n$. This case is similar to case 1.\n\n% IMAGE: ![](images/2013_p53_data_df0a4786eb.png \"\")\n\nAn example for case 2.\n\nCase 3. There are not any paths of cases 1 or 2, so small triangles $QD_i$, $QU_i$, $QL_i$ and $QR_i$, for $1 \\le i \\le n$, are all defined and are disjoint. Since these $4n$ triangles are not covered by any tiles and the area of each is $\\frac{1}{4}$, the sum of the areas of them is $n$, so the proof is complete.\n\n% IMAGE: ![](images/2013_p53_data_d375720ed3.png \"\")\n\nAn example for case 3.\n\n% IMAGE: ![](images/2013_p53_data_fb20d02609.png \"\")",
          "pages": [
            "P0",
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P2"
          ],
          "path": "images/2013_p53_data_df0a4786eb.png",
          "title": ""
        },
        {
          "alt": "",
          "pages": [
            "P2"
          ],
          "path": "images/2013_p53_data_d375720ed3.png",
          "title": ""
        },
        {
          "alt": "",
          "pages": [
            "P2"
          ],
          "path": "images/2013_p53_data_fb20d02609.png",
          "title": ""
        }
      ],
      "statement_latex": "18. Suppose that the room in the problem is the square $[0, n] \\times [0, n]$ in the Cartesian plane. Furthermore, throughout the solution we use these definitions:\n\n\\begin{itemize}\n\\item A lattice point: A point in the plane with integer coordinates.\n\\item A lattice square: A square with lattice points as vertices and side lengths one.\n\\item A lattice edge: A side of a lattice square.\n\\item A lattice triangle: A right isosceles triangle of side length 1 and lattice points as vertices.\n\\item A small triangle: A right isosceles triangle of side length $\\frac{\\sqrt{2}}{2}$ and a lattice edge as its hypotenuse.\n\\end{itemize}\n\nThe boundary of each tile contains two lattice edges and two diameters of two lattice squares, so we have two types of tiles. By these definitions the following lemma is obvious.\n\n\\textbf{Lemma.} Suppose that $e$ is a lattice edge of the lattice square $S$. Furthermore, assume that $e$ is not included in the boundary of any tile that lies in the same side of $e$ as $S$. By these conditions, there exist a lattice triangle and a small triangle containing $e$ which is contained in $S$ that are not covered by any tiles. $\\square$\n\nConsider a graph with lattice edges as its vertices. Two vertices are connected if and only if their corresponding edges are on the boundary of the same tile. In this graph the degree of each vertex is at most two. Furthermore, two connected vertices correspond to parallel edges, and if the degree of a vertex corresponding to a horizontal (vertical) edge is 2, one of the edges connected to this edge in the graph is above (right of) it and the other lies below (left of) it. Hence, each connected component of the graph is a path containing parallel lattice edges, and the order of vertices in this path coincides with the order of one of the coordinates of the corresponding edges (x-coordinate for vertical edges and y-coordinate for horizontal edges).\n\nThus, lattice edges on the line $y = n$ lie on different paths. We denote these paths by $U_1, U_2, \\dots, U_n$. Note that some of $U_i$'s might contain only one vertex. The bottommost lattice edges of these paths are different. Let $SU_i$ be the lattice square below the bottommost edge of $U_i$. If $SU_i$ lies above the line $y = 0$, according to the lemma one of the lattice triangles in $SU_i$ is not covered. We denote this triangle by $TU_i$. Furthermore, the upper small triangle in $SU_i$ is not covered. We denote this small triangle by $QU_i$. In the same manner, we denote by $D_1, D_2, \\dots$ and $D_n$ the paths containing lattice edges on the line $y = 0$, by $L_1, L_2, \\dots$ and $L_n$ the paths containing the edges on the line $x = 0$, and finally by $R_1, R_2, \\dots$ and $R_n$ the paths containing lattice edges on the line $x = n$. Triangles $TD_i, TL_i, TR_i, QD_i, QL_i$ and $QR_i$ are defined similarly. We have three cases:\n\nCase1. Suppose that there exists a path like $P$ containing one lattice edge of the lines $x = 0$ and $x = n$. In this case all the tiles of paths $U_1, U_2, \\dots$ and $U_n$ are above the tiles of the path $P$ and tiles of the paths $D_1, D_2, \\dots$ and $D_n$ lie below the tiles of the path $P$. Now, $2n$ paths $D_1, D_2, \\dots$ and $D_n$, and $U_1, U_2, \\dots$ and $U_n$ are all distinct, so the triangles $TU_1, TU_2, \\dots$ and $TU_n$, and $TD_1, TD_2, \\dots$ and $TD_n$ can be defined and are disjoint. Since these triangles are not covered, and the area of each of them is $\\frac{1}{2}$, the sum of the area of these triangles is $n$. Hence, the assertion is proved in this case.\n\nCase2. There exists a path $P$ containing one lattice edge of the lines $y = 0$ and $y = n$. This case is similar to case 1.\n\n% IMAGE: ![](images/2013_p53_data_df0a4786eb.png \"\")\n\nAn example for case 2.\n\nCase 3. There are not any paths of cases 1 or 2, so small triangles $QD_i$, $QU_i$, $QL_i$ and $QR_i$, for $1 \\le i \\le n$, are all defined and are disjoint. Since these $4n$ triangles are not covered by any tiles and the area of each is $\\frac{1}{4}$, the sum of the areas of them is $n$, so the proof is complete.\n\n% IMAGE: ![](images/2013_p53_data_d375720ed3.png \"\")\n\nAn example for case 3.\n\n% IMAGE: ![](images/2013_p53_data_fb20d02609.png \"\")"
    }
  ],
  "2014": [
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_c77c9d0a456b",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2014_p18_data_dd25b4bb55.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "Philosophers think that this is a result of the difference between those constant conversion factors and relative values of the currencies. For example, in the figure below, if someone starts from country A and travels to countries B, A, B, C and D and then travels back home, the amount of money owned by that person will be half of the amount owned upon starting the travel. But, if someone travels to a neighbouring country and returns, the amount of money owned won't change (because the product of the two conversion factors along a border is 1).\n\n% IMAGE: ![](images/2014_p18_data_dd25b4bb55.png)\n\nDuring a research project, a group of travelers were discovered that started to travel from the same country and owned the same amount of money. Each of them traveled a path in the form of a closed broken line and returned home! At most how many of these travelers will have mutually different amounts of money when they are back home?\n\n\\textbf{Note 1.:} The only parameter is the number of countries, $n$. All other things like the conversion factors and the arrangement of the countries are variables, so your answer must be only in terms of $n$.\n\n\\textbf{Note 2.:} None of the travelers spend money during the journey!",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "6. (Amir Ali Moinfar) \\textbf{Travelers Of The Planet Hot Dog!}\n\nDuring interplanetary battles, skilled astronomers of the Earth discovered the planet Hot Dog in the Sandwich Galaxy. This planet has the shape of a convex $n$-hedral. By analyzing the spectrum of the waves emitted by this planet, scientists could discover some interesting facts about the strange way of life there. For example, each face of this planet is a country, each country has its own currency, and along the border between two countries, there is a \\textbf{constant conversion factor} to change currencies.\n\nAll the people that pass through a border between two countries must change all their money into the currency of their destination and there is no other way for changing currencies. Surprisingly, astronomers observed that it's possible for a passenger to travel to different countries and without spending any money, upon reaching home own an amount of money different from the one owned when they started to travel."
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_7fe89db70667",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2014_p26_data_25264e87b5.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2014_p26_data_0b28e0ee7d.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "% IMAGE: ![](images/2014_p26_data_25264e87b5.png)\n\nLet $F$ and $E$ be the feet of perpendiculars from $K$ and $L$ to $MB$ and $MC$, respectively.\nWe have\n\n$$\nOK = MB \\Rightarrow KF = \\text{The distance from } O \\text{ to } MB.\n$$\n\n$$\nOL = MC \\Rightarrow LE = \\text{The distance from } O \\text{ to } MC.\n$$\n\nSince $MB = MC$, $O$ (circumcenter of triangle $MBC$) is equidistant from these equal\nchords, and therefore $KF = LE$ (1). On the other hand, since $ABMC$ is cyclic,\n$\\angle KBF = \\angle LCE$ (2).\n\n(1) and (2) imply that the two right-angled triangles $KBF$ and $LCE$ are congruent,\nso their hypotenuses have the same length ($KB = LC$).\n\nLet $D$ be the midpoint of arc $B\\bar{A}C$. We have\n\n$$\n\\left. \\begin{array}{l} DB = DC \\\\ \\angle DBA = \\angle DCA \\\\ KB = LC \\end{array} \\right\\} \\Rightarrow \\overset{\\triangle}{DBK} \\equiv \\overset{\\triangle}{DCL} \\Rightarrow \\left\\{ \\begin{array}{l} \\angle KDL = \\angle BDC = \\angle BAC \\\\ KD = LD \\end{array} \\right.\n$$\n\nSince $\\angle KOL = \\angle BMC$, we deduce that $AKOLD$ is cyclic. Therefore,\n\n$$\n\\left. \\begin{array}{l} \\angle AKD = \\angle ALD = \\angle AOD = \\angle B - \\angle C \\\\ \\angle KBD = \\angle LCD = \\frac{\\angle B - \\angle C}{2} \\end{array} \\right\\} \\Rightarrow \\angle KDB = \\angle LDC = \\frac{\\angle B - \\angle C}{2} \\\\ \\Rightarrow KB = KD = LD = LC (3).\n$$\n\n% IMAGE: ![](images/2014_p26_data_0b28e0ee7d.png)\n\n$$\n\\left.\n\\begin{aligned}\n\\angle NDK &= \\angle NDB + \\angle BDK = (90^\\circ - \\angle B) + \\left(\\frac{\\angle B - \\angle C}{2}\\right) = \\frac{\\angle A}{2} \\\\\n\\angle NDL &= \\angle NDC - \\angle CDL = (90^\\circ - \\angle C) - \\left(\\frac{\\angle B - \\angle C}{2}\\right) = \\frac{\\angle A}{2}\n\\end{aligned}\n\\right\\}\n$$\n$$\n\\Rightarrow \\angle NDK = \\angle NDL \\quad (4).\n$$\n\n(3) and (4) imply that two triangles NDK and NDL are congruent. Therefore, we\nhave NK = NL.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "First, we prove that $KB = LC$."
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_77e0b4bff47a",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P0"
              ],
              "path": "images/2014_p27_data_7b095e1f1a.png",
              "title": null
            }
          ],
          "label": null,
          "latex": "$$\n\\left.\n\\begin{aligned}\n\\angle NDK &= \\angle NDB + \\angle BDK = (90^\\circ - \\angle B) + \\left(\\frac{\\angle B - \\angle C}{2}\\right) = \\frac{\\angle A}{2} \\\\\n\\angle NDL &= \\angle NDC - \\angle CDL = (90^\\circ - \\angle C) - \\left(\\frac{\\angle B - \\angle C}{2}\\right) = \\frac{\\angle A}{2}\n\\end{aligned}\n\\right\\}\n$$\n$$\n\\Rightarrow \\angle NDK = \\angle NDL \\quad (4).\n$$\n\n(3) and (4) imply that two triangles NDK and NDL are congruent. Therefore, we\nhave NK = NL.\n\n4. In this solution, all of the arcs considered are from circle C.\n\n% IMAGE: ![](images/2014_p27_data_7b095e1f1a.png)\n\nSince quadrilateral KTPB is cyclic, $\\angle AKT = \\angle BPT$.\n\n$$\n\\left.\n\\begin{array}{l}\n\\angle TAK = \\frac{\\widehat{TB}}{2} = \\angle TBP \\\\\n\\angle AKT = \\angle BPT\n\\end{array}\n\\right\\} \\Rightarrow T'AK \\sim \\widehat{\\Delta} TBP.\n$$\n\nTherefore,\n\n$$\n\\frac{TA}{TB} = \\frac{AK}{BP} = \\frac{AK}{AP'} \\Rightarrow \\frac{AP'}{TB} = \\frac{AK}{TA} \\quad (1).\n$$\n\nOn the other hand,\n\n$$\n\\left.\n\\begin{array}{l}\n\\angle P'AK = \\frac{\\widehat{AYB}}{2} = \\angle BTA \\\\\n\\hfill (1) \\qquad \\Rightarrow \\quad P'AK \\sim \\widehat{\\Delta} BTA.\n\\end{array}\n\\right\\}\n$$\n\nSo, $\\angle P'KA = \\angle BAT = \\angle PBT$, and the assertion is proved.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2014_p26_data_25264e87b5.png",
          "title": null
        },
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2014_p26_data_0b28e0ee7d.png",
          "title": null
        }
      ],
      "statement_latex": "Let $F$ and $E$ be the feet of perpendiculars from $K$ and $L$ to $MB$ and $MC$, respectively.\nWe have\n\n$$\nOK = MB \\Rightarrow KF = \\text{The distance from } O \\text{ to } MB.\n$$\n\n$$\nOL = MC \\Rightarrow LE = \\text{The distance from } O \\text{ to } MC.\n$$\n\nSince $MB = MC$, $O$ (circumcenter of triangle $MBC$) is equidistant from these equal\nchords, and therefore $KF = LE$ (1). On the other hand, since $ABMC$ is cyclic,\n$\\angle KBF = \\angle LCE$ (2).\n\n(1) and (2) imply that the two right-angled triangles $KBF$ and $LCE$ are congruent,\nso their hypotenuses have the same length ($KB = LC$).\n\nLet $D$ be the midpoint of arc $B\\bar{A}C$. We have\n\n$$\n\\left. \\begin{array}{l} DB = DC \\\\ \\angle DBA = \\angle DCA \\\\ KB = LC \\end{array} \\right\\} \\Rightarrow \\overset{\\triangle}{DBK} \\equiv \\overset{\\triangle}{DCL} \\Rightarrow \\left\\{ \\begin{array}{l} \\angle KDL = \\angle BDC = \\angle BAC \\\\ KD = LD \\end{array} \\right.\n$$\n\nSince $\\angle KOL = \\angle BMC$, we deduce that $AKOLD$ is cyclic. Therefore,\n\n$$\n\\left. \\begin{array}{l} \\angle AKD = \\angle ALD = \\angle AOD = \\angle B - \\angle C \\\\ \\angle KBD = \\angle LCD = \\frac{\\angle B - \\angle C}{2} \\end{array} \\right\\} \\Rightarrow \\angle KDB = \\angle LDC = \\frac{\\angle B - \\angle C}{2} \\\\ \\Rightarrow KB = KD = LD = LC (3).\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_2f2cebe8390c",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2014_p28_data_a7e4efdfda.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "Note that if we choose a row, a column or a diagonal of the table and add 1 or $-1$ to the number in every cell of it, this value stays invariant.\n\nSince we can make all the numbers in each subtable zero, we have\n\n$$\nM(i, j) = 0 \\quad \\forall 1 \\le i \\le n-2, 3 \\le j \\le m.\n$$\n\nThe assertion is proved by induction on $m+n$. If $m+n=6$, then $m=n=3$ and the assertion is trivial. If $m+n>6$, either $m>3$ or $n>3$. Without loss of generality we can assume that $m>3$. By omitting the last column, we get a $n \\times (m-1)$ table. By the induction hypothesis, we can make the numbers in the cells of this $n \\times (m-1)$ subtable zero, using allowable operations (except for the last column and the diagonal $A_{1,m}$ of the initial table).\n\nNow, the numbers in the last column of the table may be nonzero. Considering the invariant values $M(i,m)$ ($1 \\le i \\le n-2$) implies that $A_{i+1,m} = A_{i+2,m}$ for $1 \\le i \\le n-2$. So $A_{2,m} = A_{3,m} = \\dots = A_{n,m}$. By using the last column several times all the numbers in the table expect $A_{1,m}$ may become zero. But $A_{1,m}$ is itself a diagonal, hence we can also make this number zero.\n\nIf $m+n < 6$, where either $m \\le 2$ or $n \\le 2$, the proof is very easy and is left to the reader.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "5. Let $A_{i,j}$ denote the number in the cell located in the $i$-th row and $j$-th column of the table, and $S(i, j)$ the $3 \\times 3$ subtable whose rightmost upper number is $A_{i,j}$ First, assume that $m, n \\ge 3$ (If $m \\le 2$ or $n \\le 2$, there is no $3 \\times 3$ subtable). For $S(i, j)$, consider the following value\n\n$$\nM(i, j) = A_{i+1,j} - A_{i+2,j} + A_{i+2,j-1} - A_{i+1,j-2} + A_{i,j-2} - A_{i,j-1}.\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_08f04abe3e6f",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Now, if $a_{n+2} \\ge \\max\\{a_n, a_{n+1}\\} = a_n$, the above inequalities will become equalities; therefore, $a_n = a_{n+1} = 3$ which contradicts our assumption $a_n \\ne a_{n+1}$. The case $a_{n+1} = \\max\\{a_n, a_{n+1}\\}$ is proved similarly. \\u25a1\n\n**Lemma 3.** *There exists some natural number *k* such that *a*<sub>*k*</sub> = *a*<sub>*k*+1</sub>.*\n\n*Proof.* Assume to the contrary that the equality never holds, hence by lemma 2\n\n$a_{n+2} < \\max\\{a_n, a_{n+1}\\},$\n\nand\n\n$a_{n+3} < \\max\\{a_{n+1}, a_{n+2}\\} < \\max\\{a_n, a_{n+1}\\}.$\n\nTherefore,\n\n$\\max\\{a_{n+2}, a_{n+3}\\} < \\max\\{a_n, a_{n+1}\\}.$\n\nThus $\\max\\{a_{2k}, a_{2k+1}\\}$ is a strictly decreasing sequence of natural numbers. But there is no such sequence; therefore, our initial assumption is not true and the lemma is proved. $\\square$\n\nBy lemma 3, there exists some natural number $k \\ge 1$ such that $a_k = a_{k+1}$. This implies that $a_{k+2} = 4$. Now, if $a_k = a_{k+1} \\in \\{3, 4\\}$, then $a_{k+3} \\in \\{3, 4\\}$ and there is nothing left to prove, but if $a_k = a_{k+1} > 4$, there exists some natural number $m$ such that $a_{k+m} = a_{k+m+1}$. Using the proof of lemma 3, we have:\n\n* If *m* is odd,\n\n$$\n\\begin{align*}\na_{k+1} &= \\max\\{a_{k+1}, a_{k+2} = 4\\} > \\max\\{a_{k+3}, a_{k+4}\\} > \\dots \\\\\n&> \\max\\{a_{k+m}, a_{k+m+1}\\} = a_{k+m}.\n\\end{align*}\n$$\n\n* If *m* is even,\n\n$$\n\\begin{align*}\na_{k+1} &= \\max\\{a_{k+1}, a_{k+2} = 4\\} > \\max\\{a_{k+3}, a_{k+4}\\} > \\dots \\\\\n&> \\max\\{a_{k+m-1}, a_{k+m}\\} \\ge a_{k+m}.\n\\end{align*}\n$$\n\nTherefore, if two equal consecutive terms in the sequence are greater than 4, there is another pair of equal consecutive terms in the sequence with a smaller value. We can continue this until we find two equal consecutive terms less than or equal 4. This completes the proof because the terms after that pair are 4, 3 or 4, 4.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "## 6. First we prove some lemmas.\n\n**Lemma 1.** $a_n \\ge 3$ for all natural numbers $n \\ge 3$.\n\n*Proof.* Suppose that $a_n < 3$ for some natural number $n \\ge 3$. If $a_{n-1} \\ge a_{n-2}$, then\n\n$$\n\\frac{2a_{n-1}}{a_{n-2}} \\ge 2 \\Rightarrow \\left[ \\frac{2a_{n-1}}{a_{n-2}} \\right] \\ge 2 \\Rightarrow \\left[ \\frac{2a_{n-2}}{a_{n-1}} \\right] = 0 \\Rightarrow a_{n-1} > 2a_{n-2} \\Rightarrow \\frac{2a_{n-1}}{a_{n-2}} > 4.\n$$\n\nThis is a contradiction since $a_n < 3$. If $a_{n-2} \\ge a_{n-1}$, the proof is similar to the former case because the recursive relation for $a_n$ is symmetric with respect to both $a_{n-1}$ and $a_{n-2}$. $\\square$\n\n**Lemma 2.** For each natural number $n \\ge 3$,\n\n$$\na_{n+1} = a_n, \\text{ or } a_{n+2} < \\max\\{a_n, a_{n+1}\\}.\n$$\n\n*Proof.* Suppose that $a_{n+1} \\ne a_n$ for some $n \\in \\mathbb{N}$. If $a_n = \\max\\{a_n, a_{n+1}\\}$, $\\frac{2a_{n+1}}{a_n} < 2$. On the other hand,\n\n$$\na_{n+1}, a_n \\ge 3 \\Rightarrow \\frac{2a_n}{a_{n+1}} \\le \\frac{2a_n}{3} \\Rightarrow a_{n+2} = \\left[ \\frac{2a_{n+1}}{a_n} \\right] + \\left[ \\frac{2a_n}{a_{n+1}} \\right] \\le 1 + \\frac{2a_n}{3} \\le \\frac{a_n}{3} + \\frac{2a_n}{3} = a_n.\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_ec36161eacb2",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2014_p31_data_0ec3fde41a.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2014_p31_data_b78ea73580.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2014_p32_data_8d7420d029.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2014_p32_data_efcb8b0482.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "![](images/2014_p31_data_0ec3fde41a.png)\n\nWe have 6 ways of choosing each 2-stick and hence there are at least $6^{\\lfloor \\frac{n}{2} \\rfloor}$ n-sticks that do not map to each other using only translations. Now, since each n-stick can be seen at most 8 times among these polysticks we get:\n\n$$\n8S_n \\geq 6^{\\lfloor \\frac{n}{2} \\rfloor} \\geq \\sqrt{6}^{n-1}.\n$$\n\nBut $\\sqrt{6} > 2.4$, so $S_n \\geq (2.4)^n$.\n\nTo prove the upper bound we need the following lemma:\n\n\\textbf{Lemma 1.} In a connected graph with even degree vertices there is a cycle passing through each edge exactly once. This cycle is called an Eulerian tour.\n\n\\textit{Proof.} It is a well-known theorem and the proof is very easy. $\\Box$\n\nUnfortunately, we cannot use this lemma here, because the degree of vertices in an arbitrary $n$-stick are not necessarily even. For this reason, we can draw each edge of the polystick twice.\n\n![](images/2014_p31_data_b78ea73580.png)\n\nNow, each vertex in this new graph has an even degree and hence by the previous lemma there is a cycle passing through all the edges. Note that this new graph has $2n$ edges, therefore an upper bound for $S_n$ is the number of lattice cycles with $2n$ edges. Hence we will estimate the number of such cycles.\n\nThe number of cycles of length $2n$ is at most as large as the number of strings consisting of letters $\\leftarrow, \\rightarrow, \\uparrow, \\downarrow$ such that\n\n$$\n\\text{Number of } \\rightarrow\\text{'s} = \\text{Number of } \\leftarrow\\text{'s}\n$$\n\n$$\n\\text{Number of } \\uparrow\\text{'s} = \\text{Number of } \\downarrow\\text{'s}.\n$$\n\nBy a combinatorial arguments it is easy to see that the number of such strings is\n\n$$\n\\sum_{k=1}^{n} \\binom{2n}{k} \\binom{2n-k}{k} \\binom{2n-k}{n-k} = \\binom{2n}{n}^2 < 16^n.\n$$\n\nTherefore, $S_n \\leq 16^n$.\n\nc) The following figure shows a stupid 7-stick.\n\n![](images/2014_p32_data_8d7420d029.png)\n\nFor $n > 7$, if we start from $A$ or $B$ in the former 7-stick and add $n - 7$ horizontal or vertical edges, the final polystick is obviously stupid, because the segment $xy$ in the polystick which covers it does not have any adjacent edges.\n\n![](images/2014_p32_data_efcb8b0482.png)\n\nd) Consider an infinite path (say $L$) in the plane that alternatively goes up or right.\n\n\\textbf{Lemma 2.} Let $L_n$ be the translation of $L$ by vector $(-n, n)$. Then for integers $i < j$, $L_i$ and $L_j$ do not have any common vertices.\n\n\\textit{Proof.} Let $(x, y)$ be a common vertex of both $L_i$ and $L_j$. Then\n\n$$\n(x, y) \\in L_i \\Rightarrow (x + i, y - i) \\in L\n$$\n\n$$\n(x, y) \\in L_j \\Rightarrow (x + j, y - j) \\in L.\n$$\n\nThis is a contradiction, since $L$ goes alternatively up or right. $\\square$\n\nLet $L'$ be the reflection of $L$ with respect to the line $y = x$.\n\n\\textbf{Lemma 3.} $L$ and $L'$ do not have a common edge.\n\n\\textit{Proof.} Assume to the contrary that $L$ and $L'$ have some edge $e$ in common. So $e$ and its reflection with respect to the line $y = x$ are both edges of $L$ which is a contradiction, because $L$ goes alternatively up or right. $\\square$\n\nTherefore, $L$ and $L'$ and all their translations by vectors of the form $(-n, n)$ do not have an edge in common. Note that these paths cover all the lattice edges, because for every edge $e$ we can find an integer $n$ such that translation of $e$ by vector $(-n, n)$ intersects $L$. Now, if they intersect in an edge, $e$ lies in some translation of $L$ and if they intersect in a vertex, $e$ lies in some translation of $L'$. Finally, note that $L$ can be built by the head to tail attachment of an infinite number of polysticks that go alternatively up or right.\n\ne) If we use 4-sticks instead of 2-sticks in the second solution of part $b$, we get\n\n$$\nS_n \\geq (\\sqrt[4]{88})^n \\approx (3.06)^n.\n$$\n\nTo prove the upper bound, we introduce at most $16 \\times 8^n$ connected polysticks. We claim that each $n$-sticks has appeared among them at least once. First, mark one",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "truncated"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2014_p30_data_c0d6ae89e1.png",
          "title": ""
        },
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2014_p30_data_a3268ae9dc.png",
          "title": ""
        }
      ],
      "statement_latex": "Third Round\n\n1. a) We build a graph by drawing line segments joining the centers of adjacent squares of each $(n+1)$-mino. Obviously this graph is connected and hence has at least $n$ edges. Now, consider a subtree of this graph with $n$ edges. It is a $n$-stick. On the other hand, the $(n+1)$-mino corresponding to each $n$-stick is uniquely determined (if such an $(n+1)$-mino exists). So\n\n$$\nS_n \\geq \\text{The number of } n\\text{-sticks without any cycles} \\geq M_{n+1}.\n$$\n\nb) Consider the lattice paths of length $n$ which alternatively go up, right or left. There is an obvious bijection between these paths and strings of length $n$ with letters from the set $\\{\\rightarrow, \\leftarrow, \\uparrow\\}$, provided that there are no two adjacent $\\rightarrow$ and $\\leftarrow$ letters. Let $A_n$ be the number of such strings. We know that $8S_n \\geq A_n$, because we can put each $n$-stick in the plane in at most 8 different ways. It is easy to see that the sequence $A_n$ satisfies the following relations:\n\n% IMAGE: ![](images/2014_p30_data_c0d6ae89e1.png)\n\n$$\n\\begin{aligned} A_1 &= 3, A_2 = 7 \\\\ A_n &= 2A_{n-1} + A_{n-2} \\quad n \\geq 2. \\end{aligned}\n$$\n\nTherefore, the explicit form for $A_n$ is:\n\n$$\nA_n = \\frac{1}{2} \\left( (1 + \\sqrt{2})^{n+1} + (1 - \\sqrt{2})^{n+1} \\right),\n$$\n\nbut $1 + \\sqrt{2} > 2.41$ and $|1 - \\sqrt{2}| < 1$. So for sufficiently large values of $n$, we have $S_n \\geq \\frac{A_n}{8} \\geq (2.41)^n$.\n\nAs yet another approach, consider all 2-sticks that none of them can be mapped to another one using only translations. There are only 6 such 2-sticks. In each of them, we mark the topmost vertex among the rightmost vertices by $\\circ$, and the bottommost vertex among the leftmost vertices by $\\times$. The following figure can help visualize the procedure.\n\n% IMAGE: ![](images/2014_p30_data_a3268ae9dc.png)\n\nFor sufficiently large values of $n$, we choose $\\lfloor \\frac{n}{2} \\rfloor$ 2-sticks and put the $\\times$ vertex of each one on the $\\circ$ vertex of the previous. For odd values of $n$ we add an edge to the $\\circ$ vertex of the last 2-stick."
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_b2faa4c398c5",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2014_p35_data_4fddb3499f.png",
              "title": null
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2014_p36_data_16f30c48bc.png",
              "title": null
            }
          ],
          "label": null,
          "latex": "Denote this value by $c$. We proved in part b that\n\n$$\n2a_i(x_1 - x_2) - 2r_i(R_1 - R_2) = x_1^2 - R_1^2 - x_2^2 + R_2^2 \\Rightarrow a_i = r_i \\frac{R_1 - R_2}{x_1 - x_2} + c.\n$$\n\nThe direct homothetic center of $C_1$ and $C_2$ lies on $P_1P_2$ and hence it can be shown that\n\n$$\nS = \\frac{r_2}{r_2 - r_1} P_1 - \\frac{r_1}{r_2 - r_1} P_2 \\text{ (whenever } r_1 \\neq r_2),\n$$\n\nso the first coordinate of $S$ is\n\n$$\n\\frac{r_2 a_1 - r_1 a_2}{r_2 - r_1} = \\frac{1}{r_2 - r_1} \\left[ r_2 \\left( r_1 \\frac{R_1 - R_2}{x_1 - x_2} + c \\right) - r_1 \\left( r_2 \\frac{R_1 - R_2}{x_1 - x_2} + c \\right) \\right] = c.\n$$\n\nHence $S$ lies on the radical axis of $\\omega_1$ and $\\omega_2$.\n\nOtherwise, if $r_1 = r_2$, by the above equations we get $a_1 = a_2$ and thus the line passing through the centers of $C_1$ and $C_2$ is parallel to the radical axis of $\\omega_1$ and $\\omega_2$.\n\nd) The answer is no. Let $\\omega_i = C(O_i, R_i)$ and $d_{ij} = |O_i - O_j|$. We assume that $R_1 \\ge R_2 \\ge R_3 \\ge R_4$. According to the problems assumption we must have\n\n$$\nd_{ij}^2 - (R_i - R_j)^2 = 1.\n$$\n\nNote that these equations are invariant under addition of a constant number to $R_i$'s ($1 \\le i \\le n$). Therefore, we can suppose that $R_4 = 0$ and $O_4$ lies on the radical axis of $\\omega_1$ and $\\omega_2$. According to the following figure we have:\n\n$$\n\\begin{aligned} a^2 + x^2 - R_1^2 &= 1, \\\\ a^2 + y^2 - R_2^2 &= 1, \\\\ (x + y)^2 - (R_1 - R_2)^2 &= 1. \\end{aligned}\n$$\n\n% IMAGE: ![](images/2014_p35_data_4fddb3499f.png)\n\nSubtracting the sum of the first two equations from the third one implies:\n\n$$\n2xy + 2R_1R_2 + 2 - 2a^2 = 1 \\Rightarrow a = \\sqrt{\\frac{1}{2} + xy + R_1R_2}.\n$$\n\nOn the other hand, by subtraction of the first equation from the second one we have:\n\n$$\n\\begin{cases}\nx^2 - y^2 = R_1^2 - R_2^2 \\\\\nx + y = d_{12}\n\\end{cases}\n\\Rightarrow\n\\begin{aligned}\nx - y &= \\frac{R_1^2 - R_2^2}{d_{12}} \\\\\n&\\Rightarrow \\{x, y\\} = \\frac{d_{12}}{2} \\pm \\frac{R_1^2 - R_2^2}{2d_{12}} \\\\\n&\\Rightarrow xy = \\frac{d_{12}^2}{4} - \\left(\\frac{R_1^2 - R_2^2}{d_{12}}\\right)^2.\n\\end{aligned}\n$$\n\nHence\n\n$$\na = \\sqrt{\\frac{1}{2} + \\frac{d_{12}^2}{4} - \\frac{(R_1^2 - R_2^2)^2}{4d_{12}^2} + R_1 R_2}.\n$$\n\nNow, replacing $R_1$, $R_2$ and $R_3$ by $R_1 - R_3$, $R_2 - R_3$ and 0 yields:\n\n$$\nb = \\sqrt{\\frac{1}{2} + \\frac{d_{12}^2}{4} - \\frac{((R_1 - R_3)^2 - (R_2 - R_3)^2)^2}{4d_{12}^2} + (R_1 - R_3)(R_2 - R_3)}.\n$$\n\n% IMAGE: ![](images/2014_p36_data_16f30c48bc.png)\n\nThere are two possibilities.\n\n**Case 1.** $O_3$ and $O_4$ are not on the same side of $O_1O_2$. In this case we have\n\n$$\nO_3O_4^2 - R_3^2 = 1 \\Rightarrow 1 + R_3^2 = O_3O_4^2 \\geq (a+b)^2 \\geq a^2 + b^2.\n$$\n\nOn the other hand,\n\n$$\na^2 > \\frac{1}{2} + R_1 R_2,\n$$\n\n$$\nb^2 > \\frac{1}{2} + (R_1 - R_3)(R_2 - R_3),\n$$\n\nso\n\n$$\nR_3^2 > R_1 R_2 + (R_1 - R_3)(R_2 - R_3) \\Rightarrow (R_1 + R_2)R_3 > 2R_1 R_2.\n$$\n\nBut this is in contradiction with the assumption that $R_1 \\geq R_2 \\geq R_3$.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "of $O_3$ from this line is $|(1 - \\alpha)R_1 + \\alpha R_2|$ (If the number in the absolute value sign is negative, it means that $O_1$ and $O_2$ are in the two sides of that line). So\n\n$$\nR_3 = |(1 - \\alpha)R_1 + \\alpha R_2|.\n$$\n\nFurthermore, the centroid of $\\omega_1$ and $\\omega_2$ is $\\bar{\\omega} = C(\\frac{x_1+x_2}{2}, \\frac{R_1+R_2}{2})$. Therefore, putting $\\alpha = \\frac{1}{2}$ in the definition of $\\omega_3$ implies\n\n$$\n\\begin{aligned}\nd(\\omega, \\omega_1) &= d(\\omega, \\omega_2) \\\\\n&\\Rightarrow OO_1^2 - (R - R_1)^2 = OO_2^2 - (R - R_2)^2 \\\\\n&\\Rightarrow OO_1^2 - OO_2^2 = R_1^2 - R_2^2 - 2R(R_1 - R_2) \\\\\n&\\Rightarrow (x - x_1)^2 - (x - x_2)^2 = R_1^2 - R_2^2 - 2R(R_1 - R_2) \\\\\n&\\Rightarrow 2x(x_1 - x_2) - 2R(R_1 - R_2) = x_1^2 - x_2^2 - R_1^2 + R_2^2.\n\\end{aligned}\n$$\n\nWe have\n\n$$\n\\begin{aligned}\nd(\\omega, \\omega_3)^2 &= (x - x_3)^2 + y^2 - (R - R_3)^2 \\\\\n&= (x - ((1 - \\alpha)x_1 + \\alpha x_2))^2 + y^2 - (R - ((1 - \\alpha)R_1 + \\alpha R_2))^2 \\\\\n&= ((x - x_1) + \\alpha(x_1 - x_2))^2 + y^2 - ((R - R_1) + \\alpha(R_1 - R_2))^2.\n\\end{aligned}\n$$\n\nSuppose that circles $\\omega$, $\\omega_1$ and $\\omega_2$ are fixed and $\\alpha$ varies. We can write $d(\\omega, \\omega_3)^2$ as a polynomial of $\\alpha$ such as $p_2\\alpha^2 + p_1\\alpha + p_0$. We know $p_2 = (x_1 - x_2)^2 - (R_1 - R_2)^2$ is nonnegative because $d(\\omega_1, \\omega_2)$ is defined. Furthermore, the coefficient of $\\alpha$ is\n\n$$\np_1 = 2(x_1 - x_2)(x - x_1) - 2(R_1 - R_2)(R - R_1).\n$$\n\nBecause of the relation between $X$ and $R$,\n\n$$\nx_1^2 - R_1^2 - x_2^2 + R_2^2 - 2x_1(x_1 - x_2) + 2R_1(R_1 - R_2) = -(x_1 - x_2)^2 + (R_1 - R_2)^2.\n$$\n\nIf $p_1 = p_2 = 0$, $d(\\omega, \\omega_3)$ is independent of $\\alpha$. Otherwise, the minimum value of $d(\\omega, \\omega_3)$ is for $\\alpha = \\frac{1}{2}$ and the assertion is proved.\n\nc) First, note that the radical center of three circles $\\omega_1, \\omega_2$ and $\\omega_3$, as a circle with radius zero is equidistant from these circles (if this point is outside of all the circles). Therefore, we have\n\n**Lemma 1.** If two circles $C_1$ and $C_2$ are both equidistant from $\\omega_1$ and $\\omega_2$, then the direct homothetic center of $C_1$ and $C_2$ lies on the radical axis of $\\omega_1$ and $\\omega_2$. If two circles $C_1$ and $C_2$ have equal radius then the direct homothetic center of them is not defined. In this case, the line passing through the centers of $C_1$ and $C_2$ is parallel to the radical axis of $\\omega_1$ and $\\omega_2$.\n\nLet $\\omega_i = C(O_i, R_i)$ and $C_i = C(P_i, r_i)$. We can assume that $O_i = (x_i, 0)$ and $P_i = (a_i, b_i)$. If $(x, 0)$ lies on the radical axis of $\\omega_1$ and $\\omega_2$, then\n\n$$\n(x - x_1)^2 - R_1^2 = (x - x_2)^2 - R_2^2 \\Rightarrow x = \\frac{x_1^2 - x_2^2 - R_1^2 + R_2^2}{2(x_1 - x_2)}.\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_4cb2440d6153",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "**Case 2.** $O_3$ and $O_4$ are on the same side of $O_1O_2$. In this case we have\n\n$$\n\\begin{aligned}\n1 + R_3^2 &= (a-b)^2 + (x-z)^2 = (a^2+x^2) + (b^2+z^2) - 2ab - 2xz \\\\\n&= 1 + R_1^2 + 1 + (R_1 - R_3)^2 - 2ab - 2xz \\\\\n\\Rightarrow 0 &= 1 + 2R_1^2 - 2R_1R_3 - 2ab - 2xz \\\\\n\\Rightarrow 4ab + 4xz &= 2 + 4R_1(R_1 - R_3).\n\\end{aligned}\n$$\n\nSubstituting $d_{12}^2 = 1 + (R_1 - R_2)^2$ implies\n\n$$\na = \\sqrt{\\frac{1}{2} + \\frac{d_{12}^2}{4} - \\frac{(R_1^2 - R_2^2)^2}{4d_{12}^2} + R_1 R_2} = \\sqrt{\\frac{3}{4} + \\frac{(R_1 + R_2)^2}{4} - \\frac{(R_1 - R_2)^2 (R_1 + R_2)^2}{4(1 + (R_1 - R_2)^2)}}\n$$\n\nSimilarly,\n\n$$\nb = \\sqrt{\\frac{3}{4} + \\frac{(R_1 + R_2 - 2R_3)^2}{4} - \\frac{(R_1 - R_2)^2 (R_1 + R_2 - 2R_3)^2}{4(1 + (R_1 - R_2)^2)}}\n$$\n\nDefining\n\n$$\n\\begin{aligned}\nt &:= R_1 - R_2, \\\\\ns &:= R_1 + R_2 - 2R_3, \\\\\nr &:= R_1 + R_2,\n\\end{aligned}\n$$\n\nwe have\n\n$$\n\\begin{aligned}\na &= \\sqrt{\\frac{3}{4} + \\frac{r^2}{4(1+t^2)}}, \\\\\nb &= \\sqrt{\\frac{3}{4} + \\frac{s^2}{4(1+t^2)}}.\n\\end{aligned}\n$$\n\nAlso,\n\n$$\nxz = \\left(\\frac{d_{12}}{2} + \\frac{R_1^2 - R_2^2}{2d_{12}}\\right) \\left(\\frac{d_{12}}{2} + \\frac{(R_1 - R_3)^2 - (R_2 - R_3)^2}{2d_{12}}\\right) = \\frac{1+t^2}{4} + \\frac{rt}{4} + \\frac{st}{4} + \\frac{rst^2}{4(1+t^2)}.\n$$\n\nNow, we have:\n\n$$\n\\begin{aligned}\n4ab + 4xz &= 2 + 4R_1(R_1 - R_3) \\\\\n\\Rightarrow \\sqrt{\\left(3 + \\frac{r^2}{1+t^2}\\right) \\left(3 + \\frac{s^2}{1+t^2}\\right)} + 1 + t^2 + rt + st + \\frac{rst^2}{1+t^2} &= 2 + (r+t)(s+t).\n\\end{aligned}\n$$\n\nMultiplication by $1+t^2$ and some computations yields:\n\n$$\n\\sqrt{(3 + 3t^2 + r^2)(3 + 3t^2 + s^2)} = 1 + t^2 + rs,\n$$\n\nwhich is in contradiction with the Cauchy-Schwarz inequality.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2014_p36_data_16f30c48bc.png",
          "title": ""
        }
      ],
      "statement_latex": "On the other hand, by subtraction of the first equation from the second one we have:\n\n$$\n\\begin{cases}\nx^2 - y^2 = R_1^2 - R_2^2 \\\\\nx + y = d_{12}\n\\end{cases}\n\\Rightarrow\n\\begin{aligned}\nx - y &= \\frac{R_1^2 - R_2^2}{d_{12}} \\\\\n&\\Rightarrow \\{x, y\\} = \\frac{d_{12}}{2} \\pm \\frac{R_1^2 - R_2^2}{2d_{12}} \\\\\n&\\Rightarrow xy = \\frac{d_{12}^2}{4} - \\left(\\frac{R_1^2 - R_2^2}{d_{12}}\\right)^2.\n\\end{aligned}\n$$\n\nHence\n\n$$\na = \\sqrt{\\frac{1}{2} + \\frac{d_{12}^2}{4} - \\frac{(R_1^2 - R_2^2)^2}{4d_{12}^2} + R_1 R_2}.\n$$\n\nNow, replacing $R_1$, $R_2$ and $R_3$ by $R_1 - R_3$, $R_2 - R_3$ and 0 yields:\n\n$$\nb = \\sqrt{\\frac{1}{2} + \\frac{d_{12}^2}{4} - \\frac{((R_1 - R_3)^2 - (R_2 - R_3)^2)^2}{4d_{12}^2} + (R_1 - R_3)(R_2 - R_3)}.\n$$\n\n% IMAGE: ![](images/2014_p36_data_16f30c48bc.png)\n\nThere are two possibilities.\n\n**Case 1.** $O_3$ and $O_4$ are not on the same side of $O_1O_2$. In this case we have\n\n$$\nO_3O_4^2 - R_3^2 = 1 \\Rightarrow 1 + R_3^2 = O_3O_4^2 \\geq (a+b)^2 \\geq a^2 + b^2.\n$$\n\nOn the other hand,\n\n$$\na^2 > \\frac{1}{2} + R_1 R_2,\n$$\n\n$$\nb^2 > \\frac{1}{2} + (R_1 - R_3)(R_2 - R_3),\n$$\n\nso\n\n$$\nR_3^2 > R_1 R_2 + (R_1 - R_3)(R_2 - R_3) \\Rightarrow (R_1 + R_2)R_3 > 2R_1 R_2.\n$$\n\nBut this is in contradiction with the assumption that $R_1 \\geq R_2 \\geq R_3$."
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_abe677b6758c",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2014_p40_data_b8b2d019d1.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "**Lemma 1.** $C_2(x, y) \\cap [x, y] = \\{x, y\\}$.\n\n*Proof.* Assume that $z \\in C_2(x, y) \\cap ([x, y] - \\{x, y\\})$. Obviously $[x, z]$ and $[y, z]$ are both inner chords of $A_o$. Note that if $y \\in C_1(x, z)$, then $d(x, z) > d(x, y)$ which is a contradiction chord $[x, y]$ is maximal, hence $y \\notin C_1(x, z)$. Similarly, $x \\notin C_1(y, z)$. Therefore, $C_1(x, y)$, $C_1(y, z)$ and $C_1(z, x)$ form a partition of the perimeter of $A_o$. This leads to a contradiction because $A_o$ is rotund and $d(x, y)$, $d(y, z)$ and $d(z, x)$ are all less than $\\frac{p}{4}$ and consequently their sum is less than $p$. $\\square$\n\n**Lemma 2.** *The common part of $C_2(x, y)$ and edges of $A_o$ that contain $x$ lies outside the semicircle mentioned above. A similar assertion holds for $y$.*\n\n*Proof.* Assume to the contrary that $z$ is a point inside that semicircle, and it also lies on the common part of $C_2(x, y)$ and the edge containing $x$ such that $d(x, z)$ is very small. By lemma 1, we can choose $z$ such that $[y, z]$ intersects the perimeter of $A_o$ only at $y$ and $z$. Since $d(x, y) \\le \\frac{p}{4}$ and $z$ is near to $x$, $yxz = C_1(y, z)$ which is a contradiction with the maximality of $[x, y]$. $\\square$\n\n**Lemma 3.** *x and y are the only intersection points of $C_2(x, y)$ and the semicircle.*\n\n*Proof.* Assume to the contrary that the intersection set is not empty. Let $z$ be a point in this set which has the minimum distance to the segment $[x, y]$. Note that by the above lemmas we know that this minimum is positive. We claim that $[x, z]$ and $[y, z]$ are both inner chords of $A_o$, because if not, there is another point of the polygon inside triangle $xyz$, which contradicts the minimality of $z$.\n\nRest of the proof is similar to that of lemma 1. $y \\notin C_1(x, z)$ and $x \\notin C_1(y, z)$, so $C_1(x, y)$, $C_1(y, z)$ and $C_1(z, x)$ form a partition of the perimeter of $A_o$, but we know that the length of each one is at most $\\frac{p}{4}$. $\\square$\n\nUsing lemma 3, $C_2(x, y)$ does not intersect the semicircle (except at $x$ and $y$). Therefore, $C_1(x, y)$ does not intersect the semicircle because the polygon is not self-intersecting. Hence the semicircle fits completely inside $A_o$.\n\nb) Let $[x, y]$ be the maximum chord. Draw semicircles of radius 1 and centers at $x$ and $y$ such that they are on the same side of line $xy$ as $C_2(x, y)$. We claim that the common part of these two semicircles (say $S$) fits completely inside $A_o$.\n\n**Lemma 4.** $C_2(x, y) \\cap [x, y] = \\{x, y\\}$.\n\n*Proof.* The proof is the same as that one given in part a. $\\square$\n\n**Lemma 5.** *The common part of $C_2(x, y)$ and edges of $A_o$ which contain $x$ lies outside of $S$. A similar assertion holds for $y$.*\n\n*Proof.* The proof is similar to the proof of lemma 2.\n\nAssume to the contrary that $z \\in S$ is a point in the common part of $C_2(x, y)$ and the edge containing $x$ such that $d(x, z)$ is very small. By lemma 4, we can choose $z$ such that $[y, z]$ intersects the perimeter of $A_o$ exactly at $y$ and $z$. Since $d(x, y) \\le \\frac{p}{4}$ and $z$ is near $x$, $yxz = C_1(y, z)$ which contradicts the maximality of $[x, y]$. $\\square$\n\n**Lemma 6.** $C_2 \\cap S = \\{x, y\\}$.\n\n*Proof.* Assume to the contrary that there are points other than $x$ and $y$ in this intersection. Let $z$ be a point in this intersection which has the minimum distance from the segment $[x, y]$. By the above lemmas, we know that this minimum is positive. We claim that $[x, z]$ and $[y, z]$ are both inner chords of $A_o$, because if not, there exists another point of the polygon inside triangle $xyz$ which contradicts the minimality of $z$. So $[x, z]$ and $[y, z]$ are both inner chords of $A_o$. But $z$ lies in $S$, therefore the lengths of $[x, z]$ and $[y, z]$ are less than 1. This implies that $d(x, z)$ and $d(y, z)$ are both less than $\\frac{p}{4}$.\n\nRest of the proof is similar to lemma 1. $y \\notin C_1(x, z)$ and $x \\notin C_1(y, z)$, so $C_1(x, y)$, $C_1(y, z)$ and $C_1(z, x)$ form a partition of the perimeter of $A_o$, but we know that the length of each one is at most $\\frac{p}{4}$. $\\square$\n\nBy lemma 6, $C_2(x, y)$ does not intersect the region $S$ (except at $x$ and $y$). Therefore, $C_1(x, y)$ does not intersect $S$ because the polygon is not self-intersecting. Hence the region $S$ fits completely inside $A_o$. It is easy to see that a circle with radius $\\frac{1}{4}$ can be drawn entirely inside $S$.\n\nc) Suppose that there exists a rotund polygon $A$ such that no circle of radius $\\frac{1}{4}$ completely fits inside it. By the second statement, there is a triangulation of the polygon with chords of at most unit length. Let $xy$ be the chord of the triangulation that has the maximum $d(x, y)$. There are two possibilities:\n\n**Case 1.** There is no vertex of $A$ in $C_2(x, y)$ other than $x$ and $y$. Therefore, $[x, y]$ must be an edge of $A$. Hence $C_2(x, y) = [x, y]$ and the length of $C_2(x, y)$ is less than $C_1(x, y)$ because of the triangle inequality which is a contradiction.\n\n**Case 2.** There is another vertex of $A$ in $C_2(x, y)$ other than $x$ and $y$. Therefore, there is some vertex $z \\in C_2(x, y)$ such that $xyz$ forms one of the triangles of the triangulation. Note that if $y \\in C_1(x, z)$, then $d(x, z) > d(x, y)$ and this contradicts the maximality of $[x, y]$. Thus $y \\in C_2(x, z)$ and similarly $z \\in C_2(x, y)$. Therefore, $C_1(x, y)$, $C_2(x, y)$ and $C_3(x, y)$ form a partition of the perimeter of $A$. This is a contradiction because the lengths of all these parts are less than $\\frac{p}{4}$.\n\nd) If $\\epsilon$ is sufficiently small, the following polygon is a counterexample for the first statement.\n\n% IMAGE: ![](images/2014_p40_data_b8b2d019d1.png)",
          "pages": [
            "P0",
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "4. Throughout the solution the following notations will be used:\n\n$C_1(a, b)$: The smaller part of the perimeter of the polygon which lies between $a$ and $b$.\n\n$C_2(a, b)$: The other part of the perimeter of the polygon joining $a$ and $b$.\n\n$d(a, b)$: The length of $C_1(a, b)$.\n\n$[a, b]$): A chord of the polygon whose end points are $a$ and $b$.\n\na) Let $[x, y]$ be the maximum chord of $A_o$ with unit length. Our aim is to show that in this case the semicircle with diameter $[x, y]$, which is on the same side of $[x, y]$ as $C_2(x, y)$, lies entirely inside $A_o$."
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_7811a0ce15f0",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "*Proof.* Assume to the contrary that there are points other than $x$ and $y$ in this intersection. Let $z$ be a point in this intersection which has the minimum distance from the segment $[x, y]$. By the above lemmas, we know that this minimum is positive. We claim that $[x, z]$ and $[y, z]$ are both inner chords of $A_o$, because if not, there exists another point of the polygon inside triangle $xyz$ which contradicts the minimality of $z$. So $[x, z]$ and $[y, z]$ are both inner chords of $A_o$. But $z$ lies in $S$, therefore the lengths of $[x, z]$ and $[y, z]$ are less than 1. This implies that $d(x, z)$ and $d(y, z)$ are both less than \\frac{p}{4}$.\n\nRest of the proof is similar to lemma 1. $y \\notin C_1(x, z)$ and $x \\notin C_1(y, z)$, so $C_1(x, y)$, $C_1(y, z)$ and $C_1(z, x)$ form a partition of the perimeter of $A_o$, but we know that the length of each one is at most $\\frac{p}{4}$. $\\square$\n\nBy lemma 6, $C_2(x, y)$ does not intersect the region $S$ (except at $x$ and $y$). Therefore, $C_1(x, y)$ does not intersect $S$ because the polygon is not self-intersecting. Hence the region $S$ fits completely inside $A_o$. It is easy to see that a circle with radius $\\frac{1}{4}$ can be drawn entirely inside $S$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "b) Let $[x, y]$ be the maximum chord. Draw semicircles of radius 1 and centers at $x$ and $y$ such that they are on the same side of line $xy$ as $C_2(x, y)$. We claim that the common part of these two semicircles (say $S$) fits completely inside $A_o$.\n\n**Lemma 4.** $C_2(x, y) \\cap [x, y] = \\{x, y\\}$.\n\n*Proof.* The proof is the same as that one given in part a. $\\square$\n\n**Lemma 5.** *The common part of $C_2(x, y)$ and edges of $A_o$ which contain $x$ lies outside of $S$. A similar assertion holds for $y$.*\n\n*Proof.* The proof is similar to the proof of lemma 2.\n\nAssume to the contrary that $z \\in S$ is a point in the common part of $C_2(x, y)$ and the edge containing $x$ such that $d(x, z)$ is very small. By lemma 4, we can choose $z$ such that $[y, z]$ intersects the perimeter of $A_o$ exactly at $y$ and $z$. Since $d(x, y) \\le \\frac{p}{4}$ and $z$ is near $x$, $yxz = C_1(y, z)$ which contradicts the maximality of $[x, y]$. $\\square$\n\n**Lemma 6.** $C_2 \\cap S = \\{x, y\\}$."
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_22249cdf0a38",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P0"
              ],
              "path": "images/2014_p41_data_77368ffd6d.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2014_p42_data_c24938d314.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2014_p42_data_9ddfd00b15.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "6. For each directed closed broken line $\\sigma$ in the plane, let $\\kappa_{\\sigma}$ be the product of conversion factors along $\\sigma$.\n\n\\textbf{Lemma 1.} Let $\\sigma$ and $\\delta$ be two non-self-intersecting directed closed broken lines with opposite directions and $\\phi = (\\sigma \\cup \\delta) - (\\sigma \\cap \\delta)$. Obviously, $\\phi$ is a directed closed broken line with the same direction as $\\sigma$ and $\\delta$. We have $\\kappa_{\\phi} = \\kappa_{\\sigma}\\kappa_{\\delta}$.\n\n% IMAGE: ![](images/2014_p41_data_77368ffd6d.png)\n\n\\textit{Proof.} Note that each part of $\\phi$ is a part of exactly one of $\\sigma$ and $\\delta$. Furthermore, each part of $\\sigma \\cup \\delta - \\phi$ is a part of both $\\sigma$ and $\\delta$ and has opposite directions in these two directed closed broken lines. Hence the factors corresponding to the common parts of $\\sigma$ and $\\delta$ cancel each other and therefore $\\kappa_{\\phi} = \\kappa_{\\sigma}\\kappa_{\\delta}$. $\\square$\n\nUsing a stereographic projection from a vertex of the polyhedral, we can map the polyhedral on a plane. Note that the faces adjacent to the center of projection map to unbounded regions in the plane. Other faces and travel paths are sent to polygons in the plane.\n\nFor each vertex $v$ of this graph in the plane we define $c_v$ to be the product of conversion factors of its adjacent edges while traveling clockwise. We claim that for each closed broken line $\\sigma$, $\\kappa_\\sigma$ is a function of the factors that have been assigned to the vertices enclosed by $\\sigma$.\n\n\\textbf{Lemma 2.} For each directed closed broken line $\\sigma$, we have:\n\n$$\n\\kappa_{\\sigma} = \\prod_{v \\text{ inside } \\sigma} c_v \\quad \\text{If } \\sigma \\text{ is clockwise,}\n$$\n\n$$\n\\kappa_{\\sigma} = \\prod_{v \\text{ inside } \\sigma} c_v^{-1} \\quad \\text{If } \\sigma \\text{ is counterclockwise.}\n$$\n\n\\textit{Proof.} Obviously, it is sufficient to prove the lemma for the first case. If there are no vertices inside $\\sigma$, the proof is easy. For each edge of the graph, $\\sigma$ intersects that edge a same number of times from both directions and hence $\\kappa_{\\sigma} = 1$. Now, if some clockwise path $\\sigma$, that is not self-intersecting, encloses some vertices (say $v_1, v_2, \\dots, v_k$), consider small counterclockwise paths $\\sigma_i$ with $\\kappa_{\\sigma_i} = c_{v_i}^{-1}$ such that $\\sigma_i$ encloses only $v_i$. We can write $\\sigma$ as a union of $\\sigma_1, \\sigma_2, \\dots, \\sigma_k$ and some paths that do not enclose any vertices and thus by lemma 1,\n\n$$\n\\kappa_{\\sigma} = \\kappa_{\\sigma_1}^{-1} \\kappa_{\\sigma_2}^{-1} \\dots \\kappa_{\\sigma_k}^{-1} = c_{v_1} c_{v_2} \\dots c_{v_k}.\n$$\n\n% IMAGE: ![](images/2014_p42_data_c24938d314.png)\n\nNow, according to the former lemma, for each closed boken line $\\sigma$ that is not self-intersecting, $\\kappa_{\\sigma} = \\prod_{v \\in A} c_v$ or $\\kappa_{\\sigma} = \\prod_{v \\in A} c_v^{-1}$, where $A$ is a subset of the vertices (except the one that maps to infinity). The number of such subsets is $2^{v-1}$ where $v$ is the number of the vertices of the polyhedral. Note that an empty set gives the $\\kappa = 1$ in both of the equations and hence the number of mutually different amounts of money is at most $2 \\times (2^{v-1}) - 1 = 2^v - 1$.\n\nNow, we claim that for each nonempty subset $A$ of the vertices in the plane and each arbitrary direction there is a non-self-intersecting path in the form of a closed broken line with vertices of $A$ as its inner points. To prove it, draw small curves around points of $A$ with the given direction. We can combine these curves using arcs joining the points of $A$ to get the desired path.\n\n% IMAGE: ![](images/2014_p42_data_9ddfd00b15.png)\n\nWe claim that by assigning different prime numbers to different edges of the polyhedral as conversion factors, two paths with different $\\kappa$ have different inner points or different directions. Assume that for two paths $\\sigma_1$ and $\\sigma_2$, $\\kappa_{\\sigma_1} = \\kappa_{\\sigma_2}$. If they have the same direction, we may combine them to get a path with $\\kappa = \\kappa_{\\sigma_1}^2$, and if they have different directions, we first change the direction of $\\sigma_2$ to get another path $\\sigma'_2$ and then combine $\\sigma_1$ and $\\sigma'_2$ to get a path with $\\kappa = 1$. Let this new path be $\\gamma$. Note that in each case, the power of each prime number $p$ in $\\kappa_{\\gamma}$ is even $(0, 2 \\text{ or } -2)$. It means that every edge of the graph has an even number of adjacent vertices among vertices inside $\\gamma$. But this is a contradiction since there is always an edge that is adjacent to only one vertex among a given set of vertices (note that there are also some unbound edges). For this reason, the maximum number of $\\kappa$'s is $2^v - 1$. Now, our goal is to find an upper bound for $v$ in terms of $n$. Since the projected graph is planar, we have\n\n$$\nv = 2 - n + e \\leq 2 - n + 3n - 6 = 2n - 4,\n$$\n\nand equality holds when all the vertices of the polyhedral have degree 3. Obviously, a $(n-2)$-gonal prism is an example of such polyhedral. Hence we have proved that the desired number is $2^{2n-4} - 1$.",
          "pages": [
            "P0",
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "5. a) Let $a_1 \\le a_2 \\le \\dots \\le a_n$ be the stolen numbers. Since all the partial sums are positive, all the stolen numbers must be positive. Obviously $a_1$ is the smallest number among the partial sums. Suppose that numbers $a_1, a_2, \\dots, a_i$ have been determined. Omit all the partial sums of $a_1, a_2, \\dots, a_i$ from the partial sums of $a_1, a_2, \\dots, a_n$. The smallest number among the remaining numbers, must be $a_{i+1}$, so all the numbers will be determined uniquely. b) Suppose that $a_1 \\le \\dots \\le a_k < 0 \\le a_{k+1} \\le \\dots \\le a_n$ are the stolen numbers and $s_1 \\le s_2 \\le \\dots \\le s_{2^n-1}$ are the partial sums. Note that if $s_1 > 0$, the problem is already solved in part (a). Therefore, we can assume that $s_1 < 0$. We have\n\n$$\n(1 + x^{a_1})(1 + x^{a_2})\\cdots(1 + x^{a_n}) = 1 + x^{s_1} + x^{s_2} + \\cdots + x^{s_{2^n-1}}.\n$$\n\nObviously, $s_1$ is the sum of negative numbers $a_1, a_2, \\dots, a_k$. Multiplying the above equation by $x^{-s_1}$ implies\n\n$$\n(1+x^{-a_1})\\cdots(1+x^{-a_k})(1+x^{a_{k+1}})\\cdots(1+x^{a_n}) = x^{-s_1}+x^{s_1-s_1}+x^{s_2-s_1}+\\cdots+x^{s_{2^n-1}-s_1}.\n$$\n\nHence we can say that we have the partial sums of stolen numbers $|a_1|, |a_2|, \\dots, |a_n|$, and by part a, it is possible to find them uniquely.\n\nFinally, we must show that $x^{s_1}$ can be uniquely written as a product of $x^{a_i}$'s. If there were two ways to do this, we would obtain a partial sum of $a_i$'s equal to 0, which leads to a contradiction.\n\nc) The partial sums of two sets $\\{1, 2, -3\\}$ and $\\{-1, -2, 3\\}$ are the same, so adding 1389 0's to these sets will not change the partial sums."
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_43eab270494f",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P0"
              ],
              "path": "images/2014_p42_data_c24938d314.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P0"
              ],
              "path": "images/2014_p42_data_9ddfd00b15.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "*Proof.* Obviously, it is sufficient to prove the lemma for the first case. If there are no vertices inside $\\sigma$, the proof is easy. For each edge of the graph, $\\sigma$ intersects that edge a same number of times from both directions and hence $\\kappa_{\\sigma} = 1$. Now, if some clockwise path $\\sigma$, that is not self-intersecting, encloses some vertices (say $v_1, v_2, \\dots, v_k$), consider small counterclockwise paths $\\sigma_i$ with $\\kappa_{\\sigma_i} = c_{v_i}^{-1}$ such that $\\sigma_i$ encloses only $v_i$. We can write $\\sigma$ as a union of $\\sigma_1, \\sigma_2, \\dots, \\sigma_k$ and some paths that do not enclose any vertices and thus by lemma 1,\n\n$$\n\\kappa_{\\sigma} = \\kappa_{\\sigma_1}^{-1} \\kappa_{\\sigma_2}^{-1} \\dots \\kappa_{\\sigma_k}^{-1} = c_{v_1} c_{v_2} \\dots c_{v_k}.\n$$\n\n% IMAGE: ![](images/2014_p42_data_c24938d314.png)\n\nNow, according to the former lemma, for each closed boken line $\\sigma$ that is not self-intersecting, $\\kappa_{\\sigma} = \\prod_{v \\in A} c_v$ or $\\kappa_{\\sigma} = \\prod_{v \\in A} c_v^{-1}$, where $A$ is a subset of the vertices (except the one that maps to infinity). The number of such subsets is $2^{v-1}$ where $v$ is the number of the vertices of the polyhedral. Note that an empty set gives the $\\kappa = 1$ in both of the equations and hence the number of mutually different amounts of money is at most $2 \\times (2^{v-1}) - 1 = 2^v - 1$.\n\nNow, we claim that for each nonempty subset $A$ of the vertices in the plane and each arbitrary direction there is a non-self-intersecting path in the form of a closed broken line with vertices of $A$ as its inner points. To prove it, draw small curves around points of $A$ with the given direction. We can combine these curves using arcs joining the points of $A$ to get the desired path.\n\n% IMAGE: ![](images/2014_p42_data_9ddfd00b15.png)\n\nWe claim that by assigning different prime numbers to different edges of the polyhedral as conversion factors, two paths with different $\\kappa$ have different inner points or different directions. Assume that for two paths $\\sigma_1$ and $\\sigma_2$, $\\kappa_{\\sigma_1} = \\kappa_{\\sigma_2}$. If they have the same direction, we may combine them to get a path with $\\kappa = \\kappa_{\\sigma_1}^2$, and if they have different directions, we first change the direction of $\\sigma_2$ to get another path $\\sigma'_2$ and then combine $\\sigma_1$ and $\\sigma'_2$ to get a path with $\\kappa = 1$. Let this new path be $\\gamma$. Note that in each case, the power of each prime number $p$ in $\\kappa_{\\gamma}$ is even $(0, 2 \\text{ or } -2)$. It means that every edge of the graph has an even number of adjacent vertices among vertices inside $\\gamma$. But\nthis is a contradiction since there is always an edge that is adjacent to only one vertex among a given set of vertices (note that there are also some unbound edges). For this reason, the maximum number of $\\kappa$'s is $2^v - 1$. Now, our goal is to find an upper bound for $v$ in terms of $n$. Since the projected graph is planar, we have\n\n$$\nv = 2 - n + e \\leq 2 - n + 3n - 6 = 2n - 4,\n$$\n\nand equality holds when all the vertices of the polyhedral have degree 3. Obviously, a $(n-2)$-gonal prism is an example of such polyhedral. Hence we have proved that the desired number is $2^{2n-4} - 1$.",
          "pages": [
            "P0",
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "broken line $\\sigma$, $\\kappa_\\sigma$ is a function of the factors that have been assigned to the vertices enclosed by $\\sigma$.\n\n**Lemma 2.** For each directed closed broken line $\\sigma$, we have:\n\n$$\n\\kappa_{\\sigma} = \\prod_{v \\text{ inside } \\sigma} c_v \\quad \\text{If } \\sigma \\text{ is clockwise,}\n$$\n\n$$\n\\kappa_{\\sigma} = \\prod_{v \\text{ inside } \\sigma} c_v^{-1} \\quad \\text{If } \\sigma \\text{ is counterclockwise.}\n$$\n"
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_9003dcfa7bdb",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Therefore, the equation $B'(x) = D'(y)$ has infinitely many solutions in $S$. On the other hand, the degree of this equation is less than the degree of the equation $P_0(x) = Q_0(y)$. Hence $B'$ and $D'$ must be constant polynomials. It means that there exists some $c \\in \\mathbb{Z}$ such that $B'(x) = D'(y) = c$. Hence\n\n$$\nA'(x) = \\frac{NP(x) - c}{P_0(x)}, \\quad C'(y) = \\frac{NQ(y) - c}{Q_0(y)}.\n$$\n\nNow, if the equation $A'(x) = C'(y)$ is a new interesting equation, we can repeat the above steps for this new equation.\n\nContinuing this process, we see that there is some polynomial $F$ with rational coefficients such that $P(x) = F(P_0(x))$ and $Q(x) = F(Q_0(x))$. This means that the interesting equation $P(x) = Q(y)$ has resulted from the interesting equation $P(x) = Q(y)$. b) First, we prove a useful lemma.\n\n\\textbf{Lemma 1.} Let $P(x) \\in \\mathbb{Z}[x]$ be a monic polynomial and $d$ be a positive integer such that $d|\\deg P$. Show that there exist a natural number $N$ and some polynomials $T(x)$ and $R(x)$ with integer coefficients such that\n\n$$\nNP(x) = (T(x))^d + R(x),\n$$\n\nand for sufficiently large values of $x$,\n\n$$\n(T(x))^d \\leq NP(x) \\leq (T(x) + 1)^d\n$$\n\n\\textit{Proof.} Suppose that $\\deg P = dm$ for some $m \\in \\mathbb{N}$. First, we will find a polynomial $T_1(x) \\in \\mathbb{Q}[x]$ such that $\\deg (P(x) - (T_1(x))^d) < (m-1)d$. To do this, assume that\n\n$$\nP(x) = x^{md} + a_{md-1}x^{md-1} + \\dots + a_1x + a_0.\n$$\n\nWe must find rational numbers $b_0, b_1, \\dots, b_{m-1}$ such that for each natural number $m(d-1) \\le i \\le md$, the coefficient of $x^i$ in $(x^m + b_{m-1}x^{m-1} + \\dots + b_1 + b_0)^d$ be $a_i$. We can find $b_i$'s recursively as rational functions of $a_i$'s. Now, let $n$ be the least common multiple of denominators of the coefficients of $T_1$. Define $T_2(x) = nT_1(x)$, $N = n^d$ and $S_2(x) = NP(x) - (T_2(x))^d$. Obviously, $S_2(x), T_2(x) \\in \\mathbb{Z}[x]$ and $\\deg S_2 > (m-1)d$. If the leading coefficient of $S_2$ is positive, set $T(x) = T_2(x)$ and $R(x) = S_2(x)$. Otherwise, if the leading coefficient of $S_2$ is negative, set $T(x) = T_2(x) - 1$ and $S(x) = NP(x) - (T(x))^d$. It is easy to check that these polynomials have the desired properties. $\\square$\n\nSuppose that $d = (\\deg P, \\deg Q)$ for some natural number $d$. Using the lemma, there exist some natural number $N$ and polynomials $U, V, T$ and $R$ with integer coefficients such that\n\n$$\nNP(x) = (T(x))^d + R(x), \\quad NQ(y) = (U(y))^d + V(y),\n$$\n\nand for sufficiently large values of $x$ and $y$,\n\n$$\n(T(x))^d \\leq NP(x) < (T(x) + 1)^d, \\quad (U(y))^d \\leq NQ(y) < (U(y) + 1)^d.\n$$\n\nNote that if $d > 1$, the degree of the equation $T(x) = U(y)$ is less than the degree of the equation $P(x) = Q(y)$. Furthermore, from the previous inequalities we can deduce that every solution of $P(x) = Q(y)$ is a solution of $T(x) = U(y)$ and by part a these interesting equations are both resulted from a common interesting equation with a degree less than the degree of $P(x) = Q(y)$. This contradicts the assumption of $P(x) = Q(y)$ being primitive. Hence $(\\deg P, \\deg Q) = d = 1$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "7. a) First, note that for each $x \\in \\mathbb{N}$ there are at most a finite number of elements of $S$ with first coordinate $x$. Therefore, for each positive number $R$, there are at most a finite number of elements of $S$ with a first coordinate less than $R$. A same assertion is true for the second coordinate.\n\nSuppose that the set of interesting equations that $S$ satisfies in not empty. Let $P_0(x) = Q_0(y)$ be the interesting equation with minimum degree among the interesting equations that are satisfied by an infinite subset of $S$ (by the degree of the equation $P(x) = Q(y)$, we mean $\\deg(P(x) - Q(y))$ as a polynomial with two variables). Denote by $S_0$ the subset of $S$ that satisfies this equation.\n\nSuppose that $P(x) = Q(y)$ is an arbitrary equation that $S$ satisfies. Referring to the division algorithm in polynomials with rational coefficients, there exist rational polynomials $A(x), B(x), C(x)$ and $D(x)$ such that\n\n$$\nP(x) = A(x)P_0(x) + B(x), \\deg B < \\deg P_0. \\\\ Q(y) = C(y)Q_0(y) + D(y), \\deg D < \\deg Q_0.\n$$\n\nDenote by $N$ the least common multiple of the denominators of the coefficients in the polynomials of the above equations. By multiplying these equations by $N$, we get\n\n$$\nNP(x) = A'(x)P_0(x) + B'(x) \\quad (*) \\\\ NQ(y) = C'(y)Q_0(y) + D'(y)\n$$\n\nwhere $A', B', C'$ and $D'$ are polynomials with integer coefficients.\n\nIf $(x_0, y_0) \\in S_0$, there are some integers $a$ and $b$ such that $P(x_0) = Q(y_0) = a$ and $P_0(x_0) = Q_0(y_0) = b$. By subtracting the two equalities in (*) we obtain\n\n$$\n(A'(x_0) - C'(y_0))b = B'(x_0) - D'(y_0). \\quad (**)\n$$\n\nOn the other hand, we know that $\\deg B' = \\deg B < \\deg P_0$ and $\\deg D' = \\deg D < \\deg Q_0$. Therefore, there is a real number $R > 0$ such that whenever $|x|, |y| > R$,\n\n$$\n|B'(x)| < \\frac{1}{2}|P_0(x)|, \\quad |D'(y)| < \\frac{1}{2}|Q_0(y)|.\n$$\n\nUsing (**) and the triangle inequality, if $|x_0|, |y_0| > R$\n\n$$\n|A'(x_0) - C'(y_0)| |b| = |B'(x_0) - D'(y_0)| \\leq |B'(x_0)| + |D'(y_0)| < \\frac{1}{2}|b| + \\frac{1}{2}|b| = |b|.\n$$\n\nThis implies that $A'(x_0) = C'(y_0)$ and $B'(x_0) = D'(y_0)$. We know that except for a finite number of elements of $S_0$, both coordinates of the elements are greater than $R$."
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_d5a786bf4ca9",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2014_p48_data_916c07b3b4.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "*Proof.* Assume to the contrary that $a_{0,0} \\ge 2$. So row 0 contains at least two 0 entries (say $a_{0,i_1} = a_{0,i_2} = 0$). So rows $i_1$ and $i_2$ do not have any 0 entry and all their entries are positive, thus for each $1 \\le j \\le n-1$, $a_{i_1,j} \\ge 1$ and $a_{i_2,j} \\ge 1$. It means that row $j$ contains entries $i_1$ and $i_2$, so for each $0 \\le j \\le n-1$, $r_j \\ge i_1 + i_2$. Because $r_j$ is equal to the number of $j$'s in the table, $S \\ge \\sum_{j=0}^{n-1} (i_1 + i_2)j$. Hence\n\n$$\nn^2 = S \\ge \\sum_{j=0}^{n-1} (i_1 + i_2)j \\ge (1+2) \\sum_{j=0}^{n-1} j = 3 \\frac{n(n-1)}{2} \\Rightarrow n \\le 3.\n$$\n\nIf $n=2$, then number 2 cannot appear in the table (by step 3) and if $n=3$, then we must complete table 1 with entries equal to 1 or 2. So row 0 must contain at least a 1 entry, which is a contradiction. $\\square$\n\n% IMAGE: ![](images/2014_p48_data_916c07b3b4.png)\n\nTable 1\n\n*Step 6.* $a_{0,1} = 0$ and $a_{0,i} > 0$.\n\n*Proof.* If $i \\ge 3$, a method like that of step 5 leads to a contradiction (if $n=3$, we do not have $a_{0,3}$ in the table).\n\nIf $a_{0,2} = 0$, then all the entries of row 2 are positive. So each row contains at least one entry equal to 2 and so each number $0 \\le j \\le n-1$ has appeared in the table at least 2 times. Since row 2 contains at least one entry equal to 2, we deduce that $r_2 \\ge n+1$. Therefore, 2 has appeared in the table at least $n+1$ times. Hence\n\n$$\nn^2 = S \\ge 2\\left(\\sum_{j \\ne 2} j\\right) + 2(n+1) = n^2 + n - 2 \\Rightarrow n \\le 2.\n$$\n\nBut $2 \\times 2$ and $1 \\times 1$ tables do not contain entry $a_{0,2}$. So we have proved that $a_{0,2} > 0$ and $a_{0,1} = 0$. $\\square$\n\n*Step 7.* $r_1 \\ge 2n - 2$.\n\n*Proof.* By step 6, all the entries of row 1 are positive. Suppose that $a_{1,1} = t$. If $t=1$, then other entries of row 1 must be at least 2 and so $r_1 \\ge 2n-1$. If $t > 1$, then row 1 contains at least one entry equal to $t$, $t$ entries equal to 1 and other entries are at least 2, so $r_1 \\ge 1 \\times t + t \\times 1 + 2 \\times (n-t-1) = 2n-2$. $\\square$\n\n*Step 8.* $r_0 + (r_2 + \\dots + r_{n-1}) \\ge n^2 - 2n + 1$.\n\n*Proof.* $r_0$ is the number of 0's of the table. Since row zero contains exactly one entry equal to 0 and all of the entries of row 1 are positive, the number of 0's in rows 2, 3, ..., $n-1$ is equal to $r_0 - 1$ and thus $n(n-2) - (r_0 - 1)$ entries of these rows are positive. Hence\n\n$$\nr_2 + \\dots + r_{n-1} \\ge n(n-2) - (r_0 - 1) \\Rightarrow r_0 + (r_2 + \\dots + r_{n-1}) \\ge n^2 - 2n + 1.\n$$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        },
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2014_p49_data_d16c221324.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "Summing the expressions obtained in steps 7 and 8, we get\n\n$$\nn^2 = S = r_0 + r_1 + \\cdots + r_{n-1} \\ge n^2 - 1\n$$\n\n**Corollary 2.** $r_1 = 2n - 1$ or $2n - 2$.\n\n**Corollary 3.** Rows 2, 3, ..., $n-1$ do not contain any 3's and at most one of the entries of these rows can be 2. Therefore, $a_{i,j} = 0$ for each $i \\ge 3, j \\ge 2$ and $a_{2,2} + a_{2,3} + \\cdots + a_{2,n-1} \\le 1$.\n\n**Corollary 4.** By corollary 3, there are at least $n-2$ entries equal to 0 in row $j$. So $a_{0,j} = n-2$ or $n-1$.\n\n**Step 9.** $n \\le 5$.\n\n**Proof.** By corollary 4, the number of entries in row 0 equal to $n-1$ or $n-2$ is at least $n-3$, so $a_{n-2,0} + a_{n-1,0} \\ge n-3$. On the other hand, by corollary 3, at most one of $a_{n-1,0}$ and $a_{n-2,0}$ is 2. Therefore, $a_{n-2,0} + a_{n-1,0} \\le 3$, thus $n-3 \\le 3$ and so $n \\le 6$. But if $n=6$ by corollary 3, $a_{2,2} + a_{2,3} + a_{2,4} + a_{2,5} \\le 1$, hence at most one of them can be nonzero and so $a_{0,2} \\ge 3$. Therefore, row 0 does not have any 2's and so $a_{2,0} = 0$. Consequently, $a_{0,2} \\ge 4$. On the other hand, $a_{0,3}, a_{0,4}, a_{0,5} \\ge 4$. So four entries of row 0 are equal to 4 or 5, hence $a_{4,0} + a_{5,0} = 4$ which leads to a contradiction with corollary 3. Therefore, $n \\le 5$. $\\square$\n\n**Step 10.** Finding the tables!\n\n**Proof.** (i) If $n=2$, $a_{0,0} = 1$ and $a_{0,1} = 0$, so $a_{1,1} = 2$ which contradicts step 4.\n(ii) If $n=3$, $r_1 = 4$ or 5 (corollary 2), but $S=9$ and all other entries are even. So $r_1 = 5$ and $r_0 = r_2 = 2$. Since $r_1 = 5$, by the proof of step 7 we get table 2. By step 4, $a_{2,0} = a_{2,2} = 0$, contradicting the value of $a_{0,2}$.\n\n% IMAGE: ![](images/2014_p49_data_d16c221324.png)\n\nTable 2\n\n(iii) If $n=4$, then $r_1 = 6$ or 7.\n\n**Case 1.** $r_1 = 6$. Since $S=16$ is even, the number of 3's in the table must be even and so $r_3 = 2$ ($r_3 = 0$ implies $a_{0,3} = 4$ which is a contradiction!). So $r_2 = 2$ and $r_0 = 6$. On the other hand by corollary 3, there exists exactly one entry equal to 2 in the union of rows 2 and 3, so row 1 contains at most one entry equal to 2. Since $r_1 = 6$ and all of the entries of row 1 are positive, row 1 does not have any 2's. Therefore, $a_{1,0} = a_{1,2} = a_{1,3} = 1$ and $a_{1,1} = 3$. On the other hand, $\\{a_{2,3}, a_{2,2}\\} = \\{1, 0\\}$. According to the values of $c_2 = c_3 = 4$, one of $a_{0,3}$ and $a_{0,2}$ is 2 and the other one is 3. Therefore, $a_{2,0} = a_{3,0} = 1$. Now, we do not have any 2's in rows 2 and 3, so $S=15$ which is a contradiction.\n\n**Case 2.** $r_1 = 7$. Since $S=16$ is even, the number of 3's in the table must be odd, so $r_3 = 1$ ($r_3 = 0$ implies $r_2 = 0$ which is a contradiction!). On the other hand, since $r_1 = 7$, row 1 contains one entry equal to 2, one entry equal to 3 and two entries equal to 1 (if there exist 3 entries equal to 2, $a_{2,1} = 3$ which contradicts corollary 3).\n",
          "pages": [
            "P2"
          ],
          "status": "truncated"
        }
      ],
      "statement_images": [],
      "statement_latex": "The solution contains 10 steps. Furthermore, throughout the solution denote by $a_{i,j}$ ($0 \\le i, j \\le n-1$) the entry in cell $(i, j)$ of the table and by $c_i$ and $r_i$ ($0 \\le i \\le n-1$) the sum of the entries of row $i$ and column $i$ of the table, respectively.\n\nStep 1. $a_{0,0} > 0$.\n\n*Proof.* If $a_{0,0} = 0$, then the number of 0's of row zero must be zero, but $a_{0,0}$ is itself zero, which is a contradiction. $\\square$\n\nStep 2. For each $0 \\le i \\le n - 1$, $c_i \\le n$.\n\nProof.\n\n$$\nc_i = \\sum_{j=0}^{n-1} a_{j,i} = \\sum_{j=0}^{n-1} (\\text{number of } j\\text{'s of row } i) \\le n.\n$$\n\n*Corollary* 1. Let $S$ be the sum of the entries of the table. We have $S \\le n^2$.\n\nStep 3. There is no $0 \\le i, j \\le n - 1$ such that $a_{i,j} \\ge n$.\n\n*Proof.* By definition, $a_{i,j} \\le n$ for each $0 \\le i, j \\le n-1$ (Since $a_{i,j}$ is the number of $i$'s of row $j$). Assume that there exists an entry equal to $n$ (let it be $a_{i,j}$). So all of the entries of row $j$ must be $i$, Hence $a_{j,j} = i$ and $n \\ge c_j \\ge a_{i,j} + a_{j,j} = n + i$, so $i = 0$ and $a_{0,j} = n$. Since $c_j \\le n$ and $a_{1,j} = a_{2,j} = \\cdots = a_{n-1,j} = 0$, for each $1 \\le k \\le n-1$, row $k$ contains at least one 0 entry. Hence $a_{0,i} > 0$ for each $1 \\le i \\le n-1$. By step 1, $a_{0,0} > 0$ and so all the entries of row 0 are positive, which is a contradiction. $\\square$\n\nStep 4. $c_i = n$ for each $0 \\le i \\le n - 1$ and consequently, $S = n^2$.\n\n*Proof.* Since all the entries of the table are natural numbers between 0 and $n-1$, we\nhave\n\n$$\nc_i = \\sum_{j=0}^{n-1} a_{j,i} = \\sum_{j=0}^{n-1} (\\text{number of } j\\text{'s of row } i) = \\text{all the entries of row } i = n\n$$\n\nStep 5. $a_{0,0} = 1$."
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_58e38325f64b",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2014_p49_data_d16c221324.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2014_p50_data_26df44a026.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "Summing the expressions obtained in steps 7 and 8, we get\n\n$$\nn^2 = S = r_0 + r_1 + \\cdots + r_{n-1} \\ge n^2 - 1\n$$\n\n\\textbf{Corollary 2.} $r_1 = 2n - 1$ or $2n - 2$.\n\n\\textbf{Corollary 3.} Rows 2, 3, ..., $n-1$ do not contain any 3's and at most one of the entries of these rows can be 2. Therefore, $a_{i,j} = 0$ for each $i \\ge 3, j \\ge 2$ and $a_{2,2} + a_{2,3} + \\cdots + a_{2,n-1} \\le 1$.\n\n\\textbf{Corollary 4.} By corollary 3, there are at least $n-2$ entries equal to 0 in row $j$. So $a_{0,j} = n-2$ or $n-1$.\n\n\\textbf{Step 9.} $n \\le 5$.\n\n\\textbf{Proof.} By corollary 4, the number of entries in row 0 equal to $n-1$ or $n-2$ is at least $n-3$, so $a_{n-2,0} + a_{n-1,0} \\ge n-3$. On the other hand, by corollary 3, at most one of $a_{n-1,0}$ and $a_{n-2,0}$ is 2. Therefore, $a_{n-2,0} + a_{n-1,0} \\le 3$, thus $n-3 \\le 3$ and so $n \\le 6$. But if $n=6$ by corollary 3, $a_{2,2} + a_{2,3} + a_{2,4} + a_{2,5} \\le 1$, hence at most one of them can be nonzero and so $a_{0,2} \\ge 3$. Therefore, row 0 does not have any 2's and so $a_{2,0} = 0$. Consequently, $a_{0,2} \\ge 4$. On the other hand, $a_{0,3}, a_{0,4}, a_{0,5} \\ge 4$. So four entries of row 0 are equal to 4 or 5, hence $a_{4,0} + a_{5,0} = 4$ which leads to a contradiction with corollary 3. Therefore, $n \\le 5$. $\\square$\n\n\\textbf{Step 10.} Finding the tables!\n\n\\textbf{Proof.} (i) If $n=2$, $a_{0,0} = 1$ and $a_{0,1} = 0$, so $a_{1,1} = 2$ which contradicts step 4.\n(ii) If $n=3$, $r_1 = 4$ or 5 (corollary 2), but $S=9$ and all other entries are even. So $r_1 = 5$ and $r_0 = r_2 = 2$. Since $r_1 = 5$, by the proof of step 7 we get table 2. By step 4, $a_{2,0} = a_{2,2} = 0$, contradicting the value of $a_{0,2}$.\n\n% IMAGE: ![](images/2014_p49_data_d16c221324.png)\n\nTable 2\n\n(iii) If $n=4$, then $r_1 = 6$ or 7.\n\n\\textbf{Case 1.} $r_1 = 6$. Since $S=16$ is even, the number of 3's in the table must be even and so $r_3 = 2$ ($r_3 = 0$ implies $a_{0,3} = 4$ which is a contradiction!). So $r_2 = 2$ and $r_0 = 6$. On the other hand by corollary 3, there exists exactly one entry equal to 2 in the union of rows 2 and 3, so row 1 contains at most one entry equal to 2. Since $r_1 = 6$ and all of the entries of row 1 are positive, row 1 does not have any 2's. Therefore, $a_{1,0} = a_{1,2} = a_{1,3} = 1$ and $a_{1,1} = 3$. On the other hand, $\\{a_{2,3}, a_{2,2}\\} = \\{1, 0\\}$. According to the values of $c_2 = c_3 = 4$, one of $a_{0,3}$ and $a_{0,2}$ is 2 and the other one is 3. Therefore, $a_{2,0} = a_{3,0} = 1$. Now, we do not have any 2's in rows 2 and 3, so $S=15$ which is a contradiction.\n\n\\textbf{Case 2.} $r_1 = 7$. Since $S=16$ is even, the number of 3's in the table must be odd, so $r_3 = 1$ ($r_3 = 0$ implies $r_2 = 0$ which is a contradiction!). On the other hand, since $r_1 = 7$, row 1 contains one entry equal to 2, one entry equal to 3 and two entries equal to 1 (if there exist 3 entries equal to 2, $a_{2,1} = 3$ which contradicts corollary 3).\n\nTherefore, $a_{3,1} = 1$. Now, since $r_3 = 1$, we get $a_{3,0} = a_{3,2} = a_{3,3} = 0$ and consequently $a_{0,3} = 3$, contradicting the value of $a_{3,0}$.\n\n(iv) If $n = 5$, then $r_1 = 8$ or $r_1 = 9$.\n\n\\textbf{Case 1.} $r_1 = 9$. By corollary 3, rows 2, 3, 4 and 5 do not contain 2. So for each $j \\ge 2$, $a_{2,j} = 0$ ($\\star$) and thus $a_{0,2}, a_{0,3}, a_{0,4} \\ge 3$. Therefore, two of them are 3 and the others are 4. So one of $a_{3,0}$ and $a_{4,0}$ is at least 4, contradicting ($\\star$).\n\n\\textbf{Case 2.} $r_1 = 8$. By the proof of step 7 we have $a_{1,1} > 1$.\n\n(a) $a_{1,1} = 2$. In this case row 1 contains two 1's and three 2's, so $a_{2,1} = 3$, contradicting corollary 3.\n\n(b) $a_{1,1} = 3$. In this case row 1 contains three entries equal to 1, one entry equal to 2 and one entry equal to 3. So $a_{2,1} = a_{3,1} = 1$ and $a_{4,1} = 0$. Since $a_{1,4} > 0$, by corollary 3 we get $a_{4,0} = 1$ and consequently $a_{0,4} = 4$ and $a_{2,4} = a_{3,4} = 0$. On the other hand, $a_{0,3} \\ge 3$, but row 0 contains one entry 4 ($a_{0,4}$), so $a_{0,3} = 3$. Again by corollary 3, we get $a_{2,2}+a_{2,3}+a_{2,4} = 1$. Therefore, $\\{a_{1,2}, a_{2,2}\\} = \\{0, 1\\}$. Then $a_{1,2} = 2$ and $a_{1,0} = a_{1,3} = 1$. Consequently, $a_{2,3} = 1$, $a_{2,2} = 0$, $a_{0,2} = 3$ and $a_{0,3} = 2$. (See Table 3)\n\n(c) $a_{1,1} = 4$. This implies $a_{1,j} = 1$ for $j \\ne 1$, so $a_{2,1} = a_{3,1} = 0$ and $a_{4,1} = 1$. Therefore, $a_{0,3} = 4$, $a_{2,3} = 0$ and $a_{3,0} = 1$ (since $a_{1,3} = 1$). We know that $a_{4,0} \\ge 1$ and $a_{4,1} = a_{1,4} = 1$. So $a_{4,0} = 2$ and hence $a_{2,4} = 1$ and $a_{2,0} = 0$. These imply $a_{0,4} = 3$, $a_{0,2} = 4$ and $a_{2,2} = 0$. (See table 4)\n\n\\begin{tabular}{ccccc}1 & 0 & 3 & 3 & 4 \\\\ 1 & 3 & 2 & 1 & 1 \\\\ 0 & 1 & 0 & 1 & 0 \\\\ 2 & 1 & 0 & 0 & 0 \\\\ 1 & 0 & 0 & 0 & 0\\end{tabular}\n\nTable 3\n\n\\begin{tabular}{ccccc}1 & 0 & 4 & 4 & 3 \\\\ 1 & 4 & 1 & 1 & 1 \\\\ 0 & 0 & 0 & 0 & 1 \\\\ 1 & 0 & 0 & 0 & 0 \\\\ 2 & 1 & 0 & 0 & 0\\end{tabular}\n\nTable 4\n\n% IMAGE: ![](images/2014_p50_data_26df44a026.png)\n\nBy these 10 steps, we deduce that the two tables 3 and 4 are the only ones satisfying the problems condition.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2014_p48_data_916c07b3b4.png",
          "title": ""
        }
      ],
      "statement_latex": "*Proof.* Assume to the contrary that $a_{0,0} \\ge 2$. So row 0 contains at least two 0 entries (say $a_{0,i_1} = a_{0,i_2} = 0$). So rows $i_1$ and $i_2$ do not have any 0 entry and all their entries are positive, thus for each $1 \\le j \\le n-1$, $a_{i_1,j} \\ge 1$ and $a_{i_2,j} \\ge 1$. It means that row $j$ contains entries $i_1$ and $i_2$, so for each $0 \\le j \\le n-1$, $r_j \\ge i_1 + i_2$. Because $r_j$ is equal to the number of $j$'s in the table, $S \\ge \\sum_{j=0}^{n-1} (i_1 + i_2)j$. Hence\n\n$$\nn^2 = S \\ge \\sum_{j=0}^{n-1} (i_1 + i_2)j \\ge (1+2) \\sum_{j=0}^{n-1} j = 3 \\frac{n(n-1)}{2} \\Rightarrow n \\le 3.\n$$\n\nIf $n=2$, then number 2 cannot appear in the table (by step 3) and if $n=3$, then we must complete table 1 with entries equal to 1 or 2. So row 0 must contain at least a 1 entry, which is a contradiction. $\\square$\n\n% IMAGE: ![](images/2014_p48_data_916c07b3b4.png)\n\nTable 1\n\n*Step 6.* $a_{0,1} = 0$ and $a_{0,i} > 0$.\n\n*Proof.* If $i \\ge 3$, a method like that of step 5 leads to a contradiction (if $n=3$, we do not have $a_{0,3}$ in the table).\n\nIf $a_{0,2} = 0$, then all the entries of row 2 are positive. So each row contains at least one entry equal to 2 and so each number $0 \\le j \\le n-1$ has appeared in the table at least 2 times. Since row 2 contains at least one entry equal to 2, we deduce that $r_2 \\ge n+1$. Therefore, 2 has appeared in the table at least $n+1$ times. Hence\n\n$$\nn^2 = S \\ge 2\\left(\\sum_{j \\ne 2} j\\right) + 2(n+1) = n^2 + n - 2 \\Rightarrow n \\le 2.\n$$\n\nBut $2 \\times 2$ and $1 \\times 1$ tables do not contain entry $a_{0,2}$. So we have proved that $a_{0,2} > 0$ and $a_{0,1} = 0$. $\\square$\n\n*Step 7.* $r_1 \\ge 2n - 2$.\n\n*Proof.* By step 6, all the entries of row 1 are positive. Suppose that $a_{1,1} = t$. If $t=1$, then other entries of row 1 must be at least 2 and so $r_1 \\ge 2n-1$. If $t > 1$, then row 1 contains at least one entry equal to $t$, $t$ entries equal to 1 and other entries are at least 2, so $r_1 \\ge 1 \\times t + t \\times 1 + 2 \\times (n-t-1) = 2n-2$. $\\square$\n\n*Step 8.* $r_0 + (r_2 + \\dots + r_{n-1}) \\ge n^2 - 2n + 1$.\n\n*Proof.* $r_0$ is the number of 0's of the table. Since row zero contains exactly one entry equal to 0 and all of the entries of row 1 are positive, the number of 0's in rows 2, 3, ..., $n-1$ is equal to $r_0 - 1$ and thus $n(n-2) - (r_0 - 1)$ entries of these rows are positive. Hence\n\n$$\nr_2 + \\dots + r_{n-1} \\ge n(n-2) - (r_0 - 1) \\Rightarrow r_0 + (r_2 + \\dots + r_{n-1}) \\ge n^2 - 2n + 1.\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_cbbe408bfa11",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2014_p50_data_26df44a026.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "Therefore, $a_{3,1} = 1$. Now, since $r_3 = 1$, we get $a_{3,0} = a_{3,2} = a_{3,3} = 0$ and consequently $a_{0,3} = 3$, contradicting the value of $a_{3,0}$.\n\n(iv) If $n = 5$, then $r_1 = 8$ or $r_1 = 9$.\n\n**Case 1.** $r_1 = 9$. By corollary 3, rows 2, 3, 4 and 5 do not contain 2. So for each $j \\ge 2$, $a_{2,j} = 0$ ($\\star$) and thus $a_{0,2}, a_{0,3}, a_{0,4} \\ge 3$. Therefore, two of them are 3 and the others are 4. So one of $a_{3,0}$ and $a_{4,0}$ is at least 4, contradicting ($\\star$).\n\n**Case 2.** $r_1 = 8$. By the proof of step 7 we have $a_{1,1} > 1$.\n\n(a) $a_{1,1} = 2$. In this case row 1 contains two 1's and three 2's, so $a_{2,1} = 3$, contradicting corollary 3.\n\n(b) $a_{1,1} = 3$. In this case row 1 contains three entries equal to 1, one entry equal to 2 and one entry equal to 3. So $a_{2,1} = a_{3,1} = 1$ and $a_{4,1} = 0$. Since $a_{1,4} > 0$, by corollary 3 we get $a_{4,0} = 1$ and consequently $a_{0,4} = 4$ and $a_{2,4} = a_{3,4} = 0$. On the other hand, $a_{0,3} \\ge 3$, but row 0 contains one entry 4 ($a_{0,4}$), so $a_{0,3} = 3$. Again by corollary 3, we get $a_{2,2}+a_{2,3}+a_{2,4} = 1$. Therefore, $\\{a_{1,2}, a_{2,2}\\} = \\{0, 1\\}$. Then $a_{1,2} = 2$ and $a_{1,0} = a_{1,3} = 1$. Consequently, $a_{2,3} = 1$, $a_{2,2} = 0$, $a_{0,2} = 3$ and $a_{0,3} = 2$. (See Table 3)\n\n(c) $a_{1,1} = 4$. This implies $a_{1,j} = 1$ for $j \\ne 1$, so $a_{2,1} = a_{3,1} = 0$ and $a_{4,1} = 1$. Therefore, $a_{0,3} = 4$, $a_{2,3} = 0$ and $a_{3,0} = 1$ (since $a_{1,3} = 1$). We know that $a_{4,0} \\ge 1$ and $a_{4,1} = a_{1,4} = 1$. So $a_{4,0} = 2$ and hence $a_{2,4} = 1$ and $a_{2,0} = 0$. These imply $a_{0,4} = 3$, $a_{0,2} = 4$ and $a_{2,2} = 0$. (See table 4)\n\n<table><tr><td>1</td><td>0</td><td>3</td><td>3</td><td>4</td></tr><tr><td>1</td><td>3</td><td>2</td><td>1</td><td>1</td></tr><tr><td>0</td><td>1</td><td>0</td><td>1</td><td>0</td></tr><tr><td>2</td><td>1</td><td>0</td><td>0</td><td>0</td></tr><tr><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td></tr></table>\n\nTable 3\n\n<table><tr><td>1</td><td>0</td><td>4</td><td>4</td><td>3</td></tr><tr><td>1</td><td>4</td><td>1</td><td>1</td><td>1</td></tr><tr><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td></tr><tr><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>2</td><td>1</td><td>0</td><td>0</td><td>0</td></tr></table>\n\nTable 4\n\n% IMAGE: ![](images/2014_p50_data_26df44a026.png)\n\nBy these 10 steps, we deduce that the two tables 3 and 4 are the only ones satisfying the problems condition.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2014_p49_data_d16c221324.png",
          "title": ""
        }
      ],
      "statement_latex": "Summing the expressions obtained in steps 7 and 8, we get\n\n$$\nn^2 = S = r_0 + r_1 + \\cdots + r_{n-1} \\ge n^2 - 1\n$$\n\n**Corollary 2.** $r_1 = 2n - 1$ or $2n - 2$.\n\n**Corollary 3.** Rows 2, 3, ..., $n-1$ do not contain any 3's and at most one of the entries of these rows can be 2. Therefore, $a_{i,j} = 0$ for each $i \\ge 3, j \\ge 2$ and $a_{2,2} + a_{2,3} + \\cdots + a_{2,n-1} \\le 1$.\n\n**Corollary 4.** By corollary 3, there are at least $n-2$ entries equal to 0 in row $j$. So $a_{0,j} = n-2$ or $n-1$.\n\n**Step 9.** $n \\le 5$.\n\n**Proof.** By corollary 4, the number of entries in row 0 equal to $n-1$ or $n-2$ is at least $n-3$, so $a_{n-2,0} + a_{n-1,0} \\ge n-3$. On the other hand, by corollary 3, at most one of $a_{n-1,0}$ and $a_{n-2,0}$ is 2. Therefore, $a_{n-2,0} + a_{n-1,0} \\le 3$, thus $n-3 \\le 3$ and so $n \\le 6$. But if $n=6$ by corollary 3, $a_{2,2} + a_{2,3} + a_{2,4} + a_{2,5} \\le 1$, hence at most one of them can be nonzero and so $a_{0,2} \\ge 3$. Therefore, row 0 does not have any 2's and so $a_{2,0} = 0$. Consequently, $a_{0,2} \\ge 4$. On the other hand, $a_{0,3}, a_{0,4}, a_{0,5} \\ge 4$. So four entries of row 0 are equal to 4 or 5, hence $a_{4,0} + a_{5,0} = 4$ which leads to a contradiction with corollary 3. Therefore, $n \\le 5$. $\\square$\n\n**Step 10.** Finding the tables!\n\n**Proof.** (i) If $n=2$, $a_{0,0} = 1$ and $a_{0,1} = 0$, so $a_{1,1} = 2$ which contradicts step 4.\n(ii) If $n=3$, $r_1 = 4$ or 5 (corollary 2), but $S=9$ and all other entries are even. So $r_1 = 5$ and $r_0 = r_2 = 2$. Since $r_1 = 5$, by the proof of step 7 we get table 2. By step 4, $a_{2,0} = a_{2,2} = 0$, contradicting the value of $a_{0,2}$.\n\n% IMAGE: ![](images/2014_p49_data_d16c221324.png)\n\nTable 2\n\n(iii) If $n=4$, then $r_1 = 6$ or 7.\n\n**Case 1.** $r_1 = 6$. Since $S=16$ is even, the number of 3's in the table must be even and so $r_3 = 2$ ($r_3 = 0$ implies $a_{0,3} = 4$ which is a contradiction!). So $r_2 = 2$ and $r_0 = 6$. On the other hand by corollary 3, there exists exactly one entry equal to 2 in the union of rows 2 and 3, so row 1 contains at most one entry equal to 2. Since $r_1 = 6$ and all of the entries of row 1 are positive, row 1 does not have any 2's. Therefore, $a_{1,0} = a_{1,2} = a_{1,3} = 1$ and $a_{1,1} = 3$. On the other hand, $\\{a_{2,3}, a_{2,2}\\} = \\{1, 0\\}$. According to the values of $c_2 = c_3 = 4$, one of $a_{0,3}$ and $a_{0,2}$ is 2 and the other one is 3. Therefore, $a_{2,0} = a_{3,0} = 1$. Now, we do not have any 2's in rows 2 and 3, so $S=15$ which is a contradiction.\n\n**Case 2.** $r_1 = 7$. Since $S=16$ is even, the number of 3's in the table must be odd, so $r_3 = 1$ ($r_3 = 0$ implies $r_2 = 0$ which is a contradiction!). On the other hand, since $r_1 = 7$, row 1 contains one entry equal to 2, one entry equal to 3 and two entries equal to 1 (if there exist 3 entries equal to 2, $a_{2,1} = 3$ which contradicts corollary 3)."
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_0be8dd085cb7",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2014_p51_data_8ede402626.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "**Comment 1.** If we assign a directed hamiltonian path in a complete graph with 2014 vertices labeled with numbers 1, 2, ..., 2014 to each permutation, the equivalent problem is to find a partition of the complete graph with 2104 vertices to directed hamiltonian paths. So our proof implies the existence of such a partition. Consider the following path and its rotations.\n\n% IMAGE: ![](images/2014_p51_data_8ede402626.png)\n\n**Comment 2.** A similar proof will work for every even number instead of 2014.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "4. There are $2014 \\times 2013$ ordered pairs $(a, b)$ such that $1 \\le a \\ne b \\le 2014$. On the other hand, there are 2013 consecutive pairs in each permutation. Therefore, the number of such permutations is at most 2014.\n\nConsider the 2014 permutations of the form\n\n$$\n\\sigma_i = (2014 + i, 1 + i, 2013 + i, 2 + i, \\dots, 1007 + i, 1006 + i), \\quad 1 \\le i \\le 2014,\n$$\n\nwhere all the numbers are considered modulo 2014 (2014 itself being an exception). We claim that for each $a \\ne b$ there is exactly one index $i$ such that $b$ has appeared after $a$ in $\\sigma_i$. To prove it, note that the differences of consecutive terms in all these permutations are\n\n$$\n(2013, 2, 2011, 4, 2009, 6, \\dots, 2012, 1),\n$$\n\nand all the numbers are modulo 2014. So the position of $b$ and $a$ is uniquely determined by the value of $b-a$ and the index of permutation is uniquely determined by the value of $b$."
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_398027db8b33",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "(1) and (2) imply the desired assertion.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "11. Because of the problems assumption, it is enough to prove that\n\n$$\n(\\prod (x-y))^2 (\\sum x^2) \\le \\sum (x^2 - y^2)^2 (\\sum (xy)^2).\n$$\n\nBy Cauchy-Schwarz inequality we have\n\n$$\n(\\sum xy(x^2 - y^2))^2 \\le \\sum (x^2 - y^2)^2 (\\sum (xy)^2). \\quad (1)\n$$\n\nOn the other hand, an easy calculation shows that\n\n$$\n(\\prod (x-y))^2 (\\sum x)^2 = (\\sum xy(x^2 - y^2))^2.\n$$\n\nFinally, we have\n\n$$\n(\\prod (x-y))^2 (\\sum x^2) \\le (\\prod (x-y))^2 (\\sum x)^2 = (\\sum xy(x^2 - y^2))^2. \\quad (2)\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_9f1bf162b003",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Since $f(1) \\le 1$, we have\n\n$$\n\\begin{aligned}\nP(x > 1, 1) &\\Rightarrow f(1) = f\\left(\\frac{1}{f(x)}\\right) + f\\left(\\frac{x}{(x-1)f(1)}\\right) = f(x) + \\frac{x-1}{x}f(1) \\\\\n&\\Rightarrow \\frac{1}{x}f(1) = \\frac{1}{x} \\Rightarrow f(1) = 1.\n\\end{aligned}\n$$\n\nNow, for $\\frac{1}{2} \\le x < 1$, we can write\n\n$$\n\\begin{aligned}\nP(2, x) &\\Rightarrow f\\left(\\frac{x}{f(2)}\\right) + f\\left(\\frac{2}{f(x)}\\right) = f(x) \\Rightarrow f(2x) + f\\left(\\frac{2}{f(x)}\\right) = f(x) \\\\\n&\\Rightarrow \\frac{1}{2x} + \\frac{f(x)}{2} = f(x) \\Rightarrow f(x) = \\frac{1}{x}.\n\\end{aligned}\n$$\n\nIn a similar way, by using induction on $n$ one can prove that for each positive real $x$ in the interval $\\frac{1}{2^n} \\le x < \\frac{1}{2^{n-1}}$, $f(x) = \\frac{1}{x}$. Therefore, for each $x \\in \\mathbb{R}^+$, $f(x) = \\frac{1}{x}$. It's easy to verify that this solution is indeed an answer to the functional equation.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let $P(x, y)$ be the assertion $f(\\frac{y}{f(x+1)}) + f(\\frac{x+1}{xf(y)}) = f(y)$.\n\nRewriting the equation, we get $f(\\frac{y}{f(x)}) + f(\\frac{x}{(x-1)f(y)}) = f(y)$ which is valid for each $x > 1, y \\in \\mathbb{R}^+$.\n\nIf there exists $a \\in \\mathbb{R}^+$ for which $f(a) > \\frac{1}{a}$, we get\n\n$$\nP\\left(\\frac{af(a)}{af(a)-1}, a\\right) \\Rightarrow f\\left(\\frac{a}{f\\left(\\frac{af(a)}{af(a)-1}\\right)}\\right) = 0,\n$$\n\nwhich is a contradiction. Therefore, for each $x \\in \\mathbb{R}^+$, $f(x) \\le \\frac{1}{x}$.\nNow, we can write\n\n$$\nP(x > 1, y) \\Rightarrow f(y) = f\\left(\\frac{y}{f(x)}\\right) + f\\left(\\frac{x}{(x-1)f(y)}\\right) \\le \\frac{f(x)}{y} + \\left(1 - \\frac{1}{x}\\right)f(y) \\Rightarrow yf(y) \\le xf(x).\n$$\n\nSo for all $x, y > 1 \\in \\mathbb{R}^+$, $xf(x) = yf(y)$. Hence for each $x > 1 \\in \\mathbb{R}^+$, $f(x) = \\frac{C}{x}$ where $C$ is a constant number. If we choose real numbers $x, y$ greater than 1 such that $y$ is also greater than $C$, substituting these values for $x$ and $y$ in the equation shows that $C = 1$. Therefore, $\\forall x > 1 \\in \\mathbb{R}^+$, $f(x) = \\frac{1}{x}$."
    },
    {
      "_provenance": {
        "folder": "IRN_2014",
        "pages_map": {
          "P0": "page59.md",
          "P1": "page60.md",
          "P2": "page61.md"
        }
      },
      "author": "Goodarz Mehr; Hesameddin Rajabzadeh; Morteza Saghafian",
      "booklet title": "2014.pdf",
      "booklet_url": "https://drive.google.com/open?id=1At_aPUe81hGKDUtjoJPcnoWzR96jKMFd",
      "competition name": "31st Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2013-2014. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_c054773b987a",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Proof of Lemma 1. The key observation is that $\\overrightarrow{A'B'} = \\frac{1}{2}(\\overrightarrow{A_1B_1} + \\overrightarrow{A_2B_2})$ and $\\overrightarrow{B'C'} = \\frac{1}{2}(\\overrightarrow{B_1C_1} + \\overrightarrow{B_2C_2})$. Using these observations and the Thales' theorem, it is easy to check that the assertion is equivalent to the equality $\\frac{A_1B_1}{A_2B_2} = \\frac{B_1C_1}{B_2C_2}$. $\\square$\n\nProof of Lemma 2. Let $N$ be the midpoint of side $BC$. Note that $TH_c \\perp CH_c$ and $TN \\perp BC$, hence the quadrilateral $TH_cNC$ is cyclic and\n\n$$\n\\angle H_c N B = \\angle H_c T C = 90^\\circ - \\angle T C H_c = \\angle H_c C B + \\angle N T C = 90^\\circ - \\frac{\\angle B}{2}.\n$$\n\nIt means that $H_cN$ is parallel to the external bisector of $\\angle BAC$. On the other hand, $TH_b$ is also parallel to the external bisector of $\\angle ABC$ and thus $TH_b \\parallel H_cN$. Similarly, $TH_c \\parallel H_bN$. So $TH_cNH_b$ is a parallelogram and hence $T'$, the midpoint of $H_bH_c$, lies on $TN$. But $TN$ is the perpendicular bisector of side $BC$, which is what we desired to prove.",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2014_p57_data_82fe077a5e.png",
          "title": ""
        },
        {
          "alt": "",
          "pages": [
            "P1"
          ],
          "path": "images/2014_p58_data_b6ae118641.png",
          "title": ""
        }
      ],
      "statement_latex": "First, we prove two lemmas.\n\n\\textbf{Lemma 1.} Let $l_1$ and $l_2$ be two lines and A, B and C three points in the plane. Denote by $A_1$ and $A_2$ the perpendicular projections of A on $l_1$ and $l_2$, respectively. Furthermore, let $A'$ be the midpoint of $A_1A_2$. $B'$ and $C'$ are defined similarly. A, B and C are collinear if and only if $A'$, $B'$ and $C'$ are collinear.\n\n\\textbf{Lemma 2.} Let $T$ be the midpoint of arc $BAC$ of the circumcircle of triangle $ABC$. Furthermore, let $H_b$ and $H_c$ be the feet of the perpendicular lines from $T$ to the internal bisectors of $\\angle B$ and $\\angle C$, respectively. If $T'$ is the midpoint of $H_bH_c$, then $T'$ lies on the perpendicular bisector of side $BC$.\n\nWe will keep using the notations in lemma 2. We will now apply lemma 1, with $IC$, $IB$, $I_a$, $X$ and $M$ playing the roles of $l_1$, $l_2$, $A$, $B$ and $C$, respectively. Since $N$, $M$ and $T'$ are collinear, we obtain that $I_a$, $X$ and $T$ are collinear, too. Now, by an inversion with center $A$ and power $AB \\times AC$ and then a reflection with respect to the internal bisector of angle $\\angle BAC$, $B$ is sent to $C$, $C$ is sent to $B$, $I_a$ is sent to $I$ and $M$ is sent to the foot of the external bisector of $\\angle A$, say $M'$. If $X'$ is the image of $X$ under this transformation, then points $A$, $I$, $X'$ and $M'$ are on a common circle. So $\\angle IX'M' = \\angle IAM' = 90^\\circ$. On the other hand, since the line $BC$ is the image of the circumcircle of triangle ABC under this transformation, $X'$ lies on the line $BC$. This implies that $X' = D$ and thus $\\angle BAD = \\angle CAX$."
    }
  ],
  "2015": [
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_32a348de4a84",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Since $y, z \\le x$ the case $\\sqrt{x} = \\sqrt{y} - \\sqrt{z}$ is not admissibles and so we get $\\sqrt{x} = \\sqrt{y} + \\sqrt{z}$ or equivalently $x = y + z + 2\\sqrt{yz}$. After substituting this equality in the statement of the problem, we deduce\n\n$$\n\\frac{y+z+2\\sqrt{yz}+y+z}{3} \\ge \\sqrt[3]{2(y+z+2\\sqrt{yz})yz}\n$$\n\nIf $y = 0$, the assertion is trivial. Therefore, we assume $y \\ne 0$. Let we define $t = \\frac{z}{y}$. Now we must prove\n\n$$\n\\frac{2t + 2\\sqrt{t} + 2}{3} \\ge \\sqrt[3]{2(t + 1 + 2\\sqrt{t})t}\n$$\n\nWhich is a consequence of AM-GM inequality.\n\n$$\n\\frac{2t + 2\\sqrt{2t} + 2}{3} = \\frac{(\\sqrt{t} + 1) + (\\sqrt{t} + 1) + 2t}{3} \\ge \\sqrt[3]{2(t + 1 + 2\\sqrt{t})t}\n$$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "3. There is no loss of generality in assuming that $x \\ge y \\ge z$. We have\n\n$$\n\\begin{aligned}\nx^2 + y^2 + z^2 &= 2(xy + yz + zx) \\\\\n\\Rightarrow \\quad x^2 + x(-2y - 2z) + y^2 + z^2 - 2yz &= 0 \\\\\n\\Rightarrow \\quad x = (y + z) \\pm \\sqrt{(y + z)^2 - y^2 - z^2 + 2yz} = (y + z) \\pm 2\\sqrt{yz} = (\\sqrt{y} \\pm \\sqrt{z})^2 \\\\\n\\Rightarrow \\quad \\sqrt{x} = \\sqrt{y} \\pm \\sqrt{z}\n\\end{aligned}\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_a972cfc3e17a",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "*Proof.* Suppose by contradiction that there exist such elements. Now let $a$ be the least element of $S$ and $b$ the least element of $S$ which is greater than 1. By assumption, we must have $a < 1$. Now $a < 1 < b$ and so\n\n* $a^b < a^1 = 1$, but $a$ was the least element of $S$. Thus, $a^b \\notin S$.\n\n* $1 < b^a < b^1 = b$, but $b$ was the least element of $S$ greater than one. Therefore, $b^a \\notin S$.\n\nSo our assumption leads to a contradiction proving the lemma. \n\nAccording to this lemma, if $S$ is a finite powerful set, all of its elements are in $[1, \\infty)$ or in $(0, 1]$.\n\nFirstly, suppose that $S$ is a powerful set with $n > 3$ number of elements in $[1, \\infty)$ ($S = \\{1 = a_1 < a_2 < \\cdots < a_n\\}$). Note that we can assume that $a_1 = 1$, because if $1 \\notin S$, we can add it to $S$ to get a powerful set with more elements. For $i \\ge 2$, $a_n^{a_i} > a_n$ and so $a_i^{a_n}$ must be in $S$. We have\n\n$$\na_1 < a_2 < a_2^{a_n} < a_3^{a_n} < \\cdots < a_{n-1}^{a_n}\n$$\n\nSo for $2 \\le i \\le n - 1$, $a_i^{a_n} = a_{i+1}$. Now for $a_2 < a_{n-1}$ ($n > 3$) we have\n\n$$\na_2 < a_2^{a_{n-1}} < a_2^{a_n} = a_3 \\Rightarrow a_2^{a_{n-1}} \\notin S\n$$\n\n$$\na_{n-1} < a_{n-1}^{a_2} < a_{n-1}^{a_n} = a_n \\Rightarrow a_{n-1}^{a_2} \\notin S\n$$\n\nbut this contradicts, because $S$ was a powerful set.\n\nNow suppose that $S$ is a powerful set with $n > 4$ elements in $(0, 1]$. Let $S = \\{a_1 < a_2 < \\cdots < a_n = 1\\}$. Again we may assume $1 \\in S$. Similar to the previous part, for each $1 \\le i \\le n - 2$, $a_{n-1} < a_{n-1}^{a_i} < 1$. So $a_n^{a_i} \\notin S$, and consequently $a_i^{a_n} \\in S$. We have\n\n$$\na_1 < a_1^{a_{n-1}} < a_2^{a_{n-1}} < \\cdots < a_{n-2}^{a_n} < 1\n$$\n\nSo we get $a_i^{a_{n-1}} = a_{i+1}$ for each $2 \\le i \\le n - 2$. Now if we denote $a_{n-1}$ by $a$, we get\n\n$$\na_{n-2} = a^{\\frac{1}{a}}, a_{n-3} = a^{\\frac{1}{a^2}}, \\dots\n$$\n\nNow by looking at $a_{n-1}$ and $a_{n-2}$, we conclude\n\n$$\na_{n-1} = a_{n-2}^{a_{n-1}} < a_{n-1}^{a_{n-2}} < 1 \\Rightarrow a_{n-1}^{a_{n-2}} \\notin S\n$$\n\nThis implies $a_{n-2}^{a_{n-1}} \\in S$. Since $a_{n-2}^{a_{n-1}} > a_{n-2}^{a_n} = a_{n-1}$, we get $a_{n-2}^{a_{n-1}} = a_n$. So\n\n$$\na_{n-2}^{a_{n-1}} = (a^{1/a^2})^{(a^{1/a})} = a \\implies a^{(a^{1/a})-2} = a \\Rightarrow a^{\\frac{1}{a}-2} = 1\n$$\n\nBut $a \\ne 1$ and so $a = \\frac{1}{2}$. Therefore, $a_{n-1} = \\frac{1}{2}$, $a_{n-2} = \\frac{1}{4}$ and $a_{n-3} = \\frac{1}{16}$. Now since $n > 4$, $a_{n-4} = \\frac{1}{256} \\in S$ but it is easy to see none of $a_{n-3}^{a_{n-4}}$ and $a_{n-4}^{a_{n-3}}$ is not in $S$. So there is no powerful set with more than 4 elements.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "5. a) $\\{1, \\frac{1}{2}, \\frac{1}{4}, \\frac{1}{16}\\}$ is an example of a powerful set with four elements. (Part b shows that this is the unique powerful set with four elements.)\n\nb) First we prove a lemma.\n\n**Lemma 1.** A *finite powerful set* $S$ *can not have an element greater than one and an element less than one.*"
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_d2b94549dc0a",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "**Lemma 1.** If $n = \\binom{k}{2}$ for some positive integer $k$, after $\\binom{k}{2}$ weeks, there would be $k-1$ groups such that for each $1 \\le i \\le k-1$ there is a group with $i$ members.\n\n*Proof.* The proof for $n = 2, 3$ is trivial. Suppose that the assertion is true for each integer $1 \\le k \\le m$ and now we have a group with $\\binom{m+1}{2}$ members. By induction after $\\binom{m}{2}$ weeks, we have $m-1$ groups with $1, 2, \\dots, m-1$ members. In such situation, the number of members in the first group will be $\\binom{m+1}{2} - \\binom{m}{2} = m$. Therefore, the assertion is proved. $\\square$\n\nNow Suppose that we have $n = \\binom{k}{2} + t \\le \\binom{k+1}{2}$. We want to prove that after some weeks the number of members in the largest group is $k$. For this reason, we add $\\binom{k+1}{2} - \\binom{k}{2} - t$ fake members to this group to get a group with $\\binom{k+1}{2}$ members. Referring to the lemma, after some weeks, for each $1 \\le i \\le k$ there always exists a group with $i$ members. We suppose that if there is at least one real member in a group, the fake members cannot became king. So the number of real members in each group is at most $k$. This implies the assertion\n\n$$\n\\binom{k}{2} < n \\le \\binom{k+1}{2} \\Rightarrow k^2 - k + \\frac{1}{4} = (k - \\frac{1}{2})^2 < 2n \\Rightarrow k \\le \\sqrt{2n} + \\frac{1}{2} < \\sqrt{2n} + 1\n$$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "6. First of all note that if we have $k$ groups with number of members $1, 2, \\dots, k$ after a week we have again $k$ groups with $1, 2, \\dots, k$ number of members."
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_523db04d64fa",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "has the same property. It is a well-known fact that the subsets of $\\mathbb{R}$ satisfying this property are intervals. We claim that $D$ is an open interval. Because if $D$ has a maximum or minimum element, then $C$ must have a maximum or minimum element, too. But $C$ does not have any maximum or minimum element. Let $D = (a, b)$ and $x = (x_1, x_2) = f^{-1}(b)$. Since $b$ is greater than all the elements of $D$, $x$ must be greater than any element of $C$ and so $x_1 > 0$. But $(\\frac{x_1}{2}, 0) \\in B$ is greater than any element of $C$ and less than $x$. Therefore, $f^{-1}(y) \\in \\mathbb{R}$ is greater than any element of $D$, but is less than $b$, which is impossible. This contradiction shows that there is not such function $f$.\n\nd) No, there is not such function. In an ordered set $X$, we call that $y$ is the *successor* of $x$ whenever $x < y$ and there is no element between $x$ and $y$. Furthermore, we call $x$ an *end* if there is no successor for $x$ in $X$. Notice that the end elements of $A$ are\n\n$$\n\\mathbf{End}(A) = \\left\\{ (\\frac{1}{2}, \\frac{1}{2}), (\\frac{1}{4}, \\frac{1}{2}), (\\frac{1}{8}, \\frac{1}{2}), \\dots \\right\\}\n$$\n\nwhere the end elements of $B$ are\n\n$$\n\\mathbf{End}(B) = \\left\\{ (\\frac{1}{2}, \\frac{1}{2}), (\\frac{1}{4}, \\frac{1}{2}), (\\frac{1}{8}, \\frac{1}{2}), \\dots, (0, \\frac{1}{2}) \\right\\}\n$$\n\nSo $(0, \\frac{1}{2})$ is the minimum of $\\mathbf{End}(A)$. Therefore, if there is some increasing bijection $f$, $f^{-1}(0, \\frac{1}{2})$ must be the minimum of $\\mathbf{End}(A)$. But $\\mathbf{End}(A)$ has no minimum element. This leads to a contradiction and so there is not such function.\n\ne) Let $Y = \\{2^{-n} | n \\in \\mathbb{N}\\} \\cup \\{0\\}$ and define\n\n$$\nA = Y \\cup (Y + 1) \\cup (Y + 2) \\cup \\dots, \\quad B = A \\cup \\{-1\\}\n$$\n\n(Note that by $Y + m$ we mean $\\{y + m | y \\in Y\\}$.)\n\nFirstly, we define increasing surjective functions $f: A \\to B$ and $g: B \\to A$ as follows\n\n$$\nf(x) = \\begin{cases} -1 & x < 1 \\\\ x - 1 & x \\ge 1 \\end{cases}, \\quad g(x) = \\begin{cases} 0 & x = -1 \\\\ x & x \\ne -1 \\end{cases}\n$$\n\nIt is easy to check that $f$ and $g$ are both surjective and increasing. Now we want to show that there is not any increasing bijection from $A$ to $B$. Assume, to the contrary, that $h$ is such function. Since $0$ is the minimum element of $A$, $h(0)$ must be the minimum element of $B$ and so $h(0) = -1$. Note that in $B$, $0$ is the successor of $-1$. Therefore, $h^{-1}(0)$ must be the successor of $0$ in $A$. But $0$ does not have any successor in $A$. This contradiction shows that there is not such $h$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "1. a) Yes, there exists such function. Firstly, note that if $a, b, c$ and $d$ are four rational numbers the function\n\n$$\nf(x) = \\frac{d-c}{b-a}(x-a) + c\n$$\n\ndefines an increasing bijection between $(a, b)$ and $(c, d)$. Now for the main problem consider two strictly increasing sequences $\\{p_n\\}_{n \\ge 0}$ and $\\{q_n\\}_{n \\ge 0}$ such that $p_0 = q_0 = 0$, $p_n \\to \\sqrt{2}$ and $q_n \\to \\sqrt{3}$. Then we can define $f: A \\to B$ as follows.\n\n$$\nf(x) = \\begin{cases} x & x \\le 0 \\\\ \\frac{q_{i+1}-q_i}{p_{i+1}-p_i}(x-p_i) + q_i & x \\in [p_i, p_{i+1}] \\end{cases}\n$$\n\nObviously, $f$ defines an increasing bijection from $A$ to $B$.\n\nb) Yes, there exists such function. The sets $A$ and $B$ are both countable, so we can count their elements\n\n$$\nA = \\{a_1, a_2, a_3, \\dots\\}, \\quad B = \\{b_1, b_2, b_3, \\dots\\}\n$$\n\nFurthermore, note that both of sets $A$ and $B$ are dense in $\\mathbb{R}$, i.e. in every open interval there exist infinitely many elements of $A$ and infinitely many elements of $B$. Now we define $f$ inductively as follows. First we define $f(a_1) = b_1$.\n\n(i.) Now suppose that in some step, we have defined $f$ for any $x \\in \\{a_{i_1} < \\dots < a_{i_k}\\}$ such that $f$ is strictly increasing on this domain. Let $k$ be the least positive integer that $f(a_k)$ has not been defined in the previous steps. Assume that $a_k$ lies between $a_{i_r}$ and $a_{i_{r+1}}$ and so $f(a_k)$ must be in $(f(a_{i_r}), f(a_{i_{r+1}}))$. Choose an arbitrary element of $B$ in this interval say $q$, such that $q$ is not equal to $f(x)$ for $x \\in \\{a_{i_1} < \\dots < a_{i_k}\\}$ and then define $f(a_k) = q$.\n\n(ii.) Suppose that in some step, $l$ is the least natural number such that $a_l$ is not in the range of function $f$ (which is defined before this step). Let $\\{b_{i_1} < b_{i_2} < \\dots < b_{i_k}\\}$ be the range of $f$ and $b_l \\in (b_{i_r}, b_{i_{r+1}})$. Since $b_{i_r}$ and $b_{i_{r+1}}$ are in the range of $f$, there exist $a_s, a_t \\in A$ such that $f(a_s) = b_{i_r}$ and $f(a_t) = b_{i_{r+1}}$. Same as (i), we can choose $a \\in A \\cap (a_s, a_t)$ such that $a$ is not in the domain of $f$. Now we can define $f(a) = b_l$.\n\nIn each step, by using this two operations we add two numbers to the number of elements of domain and range of $f$. Furthermore, the least $k$ and $l$ which $a_k$ was not in the domain of $f$ and $b_l$ was not in the range of $f$ will be added to the domain and range, respectively. So if we repeat these two operations to infinity we get\n\n$$\n\\text{Domain of } f = A \\text{ and Range of } f = B\n$$\n\nand so $f$ is surjective. Moreover, since $f$ is strictly increasing in each step, we get an increasing bijection as desired.\n\nc) No, there is not such function. Suppose by contradiction that $f$ is such function. Consider the subset $C = \\{0\\} \\times \\mathbb{R} \\subseteq B$ and define $D = f^{-1}(C) \\in \\mathbb{R}$. If $x, y \\in C$ and $x < z < y$, then $z \\in C$. Since $f$ is assumed to be an increasing bijection, $D$"
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_404dad87215a",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "cannot tend to zero. If this sequence tends to zero, we deduce that the polyhedron has been rolled around some edge connecting to a single vertex (after some step), infinitely many times.\n\n**Lemma 1.** We can roll the polyhedron around one of its vertices at most *n* times, where *n* is the number of edges connecting to that vertex.\n\n*Proof.* Look at the trace of the line (on the ground) on the polyhedron. If we open the polyhedron, the trace became a straight line. Since a line in the plane intersect each convex polygon at most once, we deduce that during the motions around each vertex each face containing that vertex touches the ground at most once. \n\nReffering to the lemma, we infer that $d_n - d_{n-1}$ cannot tend to zero and so we will get our destination point. This shows that if there is no canyon we can get everywhere in the plane.\n\nNow for the case that we have a bridge, we can connect the initial point and the center of cavity by a broken line. So using above method we can roll the polyhedron on this path to drop into the cavity.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "2. We claim that it is possible to roll the polyhedron in each direction, as far as we want.\n\nFirstly, we draw a line from a point inside the face of polyhedron touching the ground to the destination point. Since the polyhedron is convex, this line intersects one of edges of that face. We can roll the polyhedron around this edge. After this motion, the distance from the destination point and the intersection of polygon and the ground became smaller. We can continue the same process to get the destination point. To this end, we should prove that there is some positive number $\\epsilon$ such that after each motion our distance will be decrease at least by $\\epsilon$. In the other words, if we denote our distance after $n$-th step by $d_n$, the sequence $d_n - d_{n-1}$ has a lower bound or equivalently"
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_86a3729923f8",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Now, if $M = 3^n$ and $d_i \\ge 3$ for all $i$, this number is at least\n\n$$\n3^n\\left(1 - \\frac{1}{3}\\right)^n - 2^n = 0.\n$$\n\nAnd so in this case the number of solutions of inequalities is not zero. For the case $d_1 = 2$, parity of $x$ is determined by the parity of $r_1$. Thus, we can use one of substitutions $x = 2y$ or $x = 2y - 1$. This substitution changes the other inequalities to some new ones in terms of $y$\n\n$$\ny \\stackrel{d_2}{\\not\\equiv} s_2, \\dots, y \\stackrel{d_n}{\\not\\equiv} s_n\n$$\n\nSince $3 \\le d_2 < \\dots < d_n$, these inequalities have a solution $y_0 \\le 3^{n-1}$. Hence, we can find a solution for the main inequalities $(x)$ not greater than $2 \\times 3^{n-1} < 3^n$. So the proof is complete.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "3. a) Without loss of generality, we may suppose that $1 < d_1 < \\dots < d_n$. First, suppose that $d_1 > 2$. For each subset $I = \\{i_1 < \\dots < i_k\\} \\subseteq \\{1, 2, \\dots, n\\}$, we define $d_I$ to be equal to the product $d_{i_1} d_{i_2} \\dots d_{i_k}$. By the *Chinese Reminder Theorem*, we know that the modular equalities\n\n$$\nx \\stackrel{d_{i_1}}{\\equiv} r_{i_1}, \\dots, x \\stackrel{d_{i_k}}{\\equiv} r_{i_k} \\quad (*)\n$$\n\nhave a unique solution modulo $d_I$. Let $r_I$ be one of its solutions (If $I = \\emptyset$ there is no equation and so all integers are solutions. In this case, we set $r_I = 1$). So $x \\equiv r_I (\\text{mod } d_I)$ is equivalent to the system $(*)$.\n\nNow suppose that $M$ is an arbitrary integer. According to the *Inclusion-Exclusion Principle*, the number of solutions of modular inequalities\n\n$$\nx \\stackrel{d_1}{\\not\\equiv} r_1, \\dots, x \\stackrel{d_n}{\\not\\equiv} r_n\n$$\n\nwhich are greater than $M$ is\n\n$$\n\\sum_{I \\subseteq \\{1, \\dots, n\\}} (-1)^{|I|} |\\{1 \\le x \\le M \\mid x \\stackrel{d_I}{\\equiv} r_I\\}|.\n$$\n\nIt is easy to see that the number of solutions of each modular equality like $x \\stackrel{d}{\\equiv} r$ in $[1, M]$ is $\\lfloor \\frac{M}{d} \\rfloor$ or $\\lceil \\frac{M}{d} \\rceil$. In each case, the difference of the number of solutions and $\\frac{M}{d}$ is at most one, so the number of solutions is greater than\n\n$$\n\\left( \\sum_{I \\subseteq \\{1, \\dots, n\\}} (-1)^{|I|} \\frac{M}{d_I} \\right) - 2^n = M \\left( 1 - \\frac{1}{d_1} - \\dots - \\frac{1}{d_n} + \\frac{1}{d_1 d_2} + \\dots \\right) - 2^n \\\\ = M \\left(1 - \\frac{1}{d_1}\\right) \\dots \\left(1 - \\frac{1}{d_n}\\right) - 2^n.\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_efa095762d6f",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2015_p34_data_0e60f4a5ac.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2015_p34_data_d67de98e47.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "b) This is not correct. Just look at the following rhombination.\n\n% IMAGE: ![](images/2015_p34_data_0e60f4a5ac.png)\n\nc) We will prove the assertion by induction on $n$. The base case $n = 2$ is trivial. Now suppose that the assertion is true for $2(n-1)$-gons. Let $e_1, e_2, \\dots, e_{2n}$ be the sides of $P$. We call a rhombination *Standard*, whenever the path connecting $e_1$ to $e_{n+1}$ is adjacent to the sides $e_2, \\dots, e_n$. You can see an standard rhombination in the following shape.\n\n% IMAGE: ![](images/2015_p34_data_d67de98e47.png)\n\nWe claim that by applying the step mentioned in the problem statement, we can change each arbitrary rhombination to an standard one. For this end, suppose that we have an arbitrary rhombination of $P$ and let $C$ be the path connecting $e_1$ to $e_{n+1}$ in this. Assume that $C$ is adjacnet to $e_1, \\dots, e_{i-1}$ and $e_{j+1}$ but not to $e_i, e_{i+1}, \\dots, e_j$ ($2 \\le i \\le j \\le n$). Note that if $C$ is adjacent to all $e_1, \\dots, e_n$ there is nothing to prove. Otherwise, there is a rhombinated $2(j-i+1)$-gon $Q$ bounded by $C$ and sides $e_i, \\dots, e_j$ ($Q$ may not be convex). Denote the other sides of $Q$ by $e'_i, \\dots, e'_j$ ($e_i$ and $e'_i$ have common vertex). It suffices to show that one of vertices of $Q$ between $e'_i, \\dots, e'_j$ is adjacent to only one rhombus in $Q$. Therefore, this vertex is adjacent to exactly 3 rhombi in $P$ and if we apply the step on this vertex, the number of rhombi in the right of $C$ became smaller. So we will get an standard rhombination by several use of this trick.\n\nSince the path containing each $e_k$ intersects $C$ ($i \\le k \\le j$), we deduce that each of $e'_i, \\dots, e'_j$ has length and direction same as one of $e_i, \\dots, e_j$. Let $M_k$ be the rhombus containing $e'_k$ in $Q$. Suppose that $e'_k$ is parallel to $e_{g_k}$ and the other side of $M_k$ is parallel to $e_{f_k}$. Note that $f_k \\ne g_k$ (for each $k$). Our goal is to find some $k$ such that $f_k = g_{k+1}$. Suppose that there is not such $k$. We must have $f_i < g_i$, because if not $M_i$ will intersect $e_i$ or lies out of $Q$. Now suppose that $f_k < g_k$ (induction on $k \\ge i$). Since $e'_{k+1}$ is out of $M_k$, we infer $g_{k+1} \\ge f_k$ and because of our assumption $g_{k+1} > f_k$. On the other hand, $f_{k+1} < g_{k+1}$ because if not $M_{k+1}$ is out of $Q$ or may intersects $M_k$ (here we use $f_k \\ne g_{k+1}$, because we may have $M_k = M_{k+1}$ and then the conclusion became false). Now the induction is finished and so we have $f_k < g_k$ and $f_k < g_{k+1}$.\n\nConsider the side $e_{g_{k+1}}$ is parallel to $e_i$. Thus, $g_{k+1} = i$. But we have $f_k \\ge i$ and this leads to a contradiction by $g_{k+1} > f_k$.\n\nFinally, we can change each two different rhombinations to an standard one. Then by removing the path connecting $e_1$ to $e_{n+1}$, we get two rhombinations in a convex $(2n - 2)$-gon $P'$. Now by induction we deduce that we can transfer two these two rhombinations to a similar one. Therefore, we can transfer each rhombination to another by applying the step several number of times.\n\nd) According to the part (a), the path connecting $e_1$ to $e_{n+1}$ has $n-1$ rhombi, each one is the intersection of this path and another path connecting two other parallel sides. We have $n-1$ ways for choosing the second direction of the bottom rhombus. $n-2$ ways for choosing the second direction of the next rhombus,...\n\nAfter removing this path and translating two remaining parts, we get a rhombination in a 2(n  1)-gon. So if we denote the number of rhombinations of an 2n-gon by f(n), we have\n\n\\[\nf(n) \\le (n-1)!f(n-1) \\Rightarrow f(n) \\le (n-1)! \\times (n-2)! \\times \\cdots \\times 2! \\times 1! = \\prod_{k=1}^{n-1} k^{n-k}\n\\]\n\nNow for the lower bound we define a semipath. By a *semipath* we mean a collection of sides of rhombi connecting to parallel sides of the polygon such that for each direction it has exactly one edge of that direction. Cutting a rhombinated 2(*n*  1)-gon from one of its semipaths, then translating one of parts by a vector with length equal to the side of polygon and direction different from sides of 2(*n*  1)-gon, and finally, filling the the space between two parts using some rhombi, we get a rhombination for a 2*n*-gon. So\n\n\\[\n\\left( \\text{Semipaths in a } 2(n-1)\\text{-gon} \\right) \\times f(n-1) \\le f(n) \\quad (*)\n\\]\n\nAnd by induction it is easy to show\n\n\\[\nk + \\left( \\text{Semipaths in a } 2(k-1)\\text{-gon} \\right) \\le \\left( \\text{Semipaths in a } 2k\\text{-gon} \\right)\n\\]\n\nTherefore, the number of semipaths in a 2k-gon is at least $1 + \\binom{k}{2}$. This and * imply the desired lower bound.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2015_p33_data_e8c5c64653.png",
          "title": ""
        },
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2015_p33_data_4c12334f9d.png",
          "title": ""
        }
      ],
      "statement_latex": "We will solve the same problem for any convex $2n$-gon $P = A_1A_2 \\cdots A_{2n}$ such that $A_1A_2 = A_2A_3 = \\cdots = A_{2n}A_1$ and $A_iA_{i+1} \\parallel A_{n+i}A_{n+i+1}$ for each $i$. This generalization is important for our induction in part (c).\n\na) Consider an arbitrary rhombination of $P$ and an arbitrary rhombus of this rhombination. Suppose that two parallel sides of this rhomus are parallel to the $x$ axis. In this case, we can extend this rhombus from up and down, using rhombi having two sides parallel to this. Continuing in this fashion, we will get two sides of $P$ from up and down. Since there is no internal point of sides of $P$ in our rhombination, we infer that each edge in this rhombination has length equal to the sides of $P$.\n\n% IMAGE: ![](images/2015_p33_data_e8c5c64653.png)\n\nNow consider two parallel sides of $P$, say $a$ and $a'$. By similar arguments, we can construct some paths consisting of rhombi with at least one side parallel to these two, connecting these sides. On the other hand, since each path of rhombi can be extended by a unique rhombus in one direction, we conclude that the path connecting $a$ and $a'$ is unique.\n\nThus, each rhombus is the intersection of two paths of rhombi. We know that the number of such paths is $n$ and so there are $\\binom{n}{2}$ rhombi in our rhombination.\n\n% IMAGE: ![](images/2015_p33_data_4c12334f9d.png)\n\nCounting the number of sides of rhombi in two ways determines the number of edges in this rhombination. The number of sides of rhombi is $4\\binom{n}{2}$ in one hand. On the other hand, this number is equal to $2n + 2E$, where $E$ is the number of internal edges. So\n\n\\[\n\\text{The Number of All Edges} = E + 2n = n + 2\\binom{n}{2} = n + (n^2 - n) = n^2\n\\]\n\nFor the number of vertices (which we denote by $V$), according to the Euler formula for planar graphs we have\n\n\\[\n\\left(\\binom{n}{2} + 1\\right) - n^2 + V = 2 \\Rightarrow V = \\binom{n+1}{2} + 1\n\\]"
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_69d0dabf1b1a",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "So $p: \\mathcal{R}(f) \\to \\mathcal{R}(f)$ is indeed a function. Let $y \\in \\mathcal{R}(f)$ be an arbitrary element. Thus, there is some $x_0 \\in \\mathbb{R}$ such that $f(x_0) = y$. Note that since $p$ has odd degree there is $z \\in \\mathbb{R}$ such that $p(z) = x_0$ and therefore,\n\n$$\ny = f(x_0) = f(p(z)) = p(f(z))\n$$\n\nIt means that $y$ is the image of $f(z) \\in \\mathcal{R}(f)$ under $p$ and so $p: \\mathcal{R}(f) \\to \\mathcal{R}(f)$ is surjective.\n\na) Assume to the contrary that $\\mathcal{R}(f)$ is not finite. Since $\\deg(P)$ is odd we can find $N > 0$ such that\n\n$$\nx > N \\Rightarrow p(x) > x, \\quad x < -N \\Rightarrow p(x) < x\n$$\n\nIf $\\mathcal{R}(f)$ contains infinitely many positive and infinitely many negative elements, we can choose $x_0, y_0 \\in \\mathcal{R}(f)$ such that $y_0 < -N < N < x_0$. Note that an element $b \\in p^{-1}(a)$, where $a \\in \\mathcal{R}(f) \\cap [y_0, x_0]$ must be in $\\mathcal{R}(f) \\cap [y_0, x_0]$. Because if $b < y_0$, then $p(b) = a < b < y_0$ and if $x_0 < b$, then $p(b) = a > b > x_0$ which are not possible. On the other hand, $f(x_0) > x_0$ and $f(y_0) < y_0$. Now since $\\mathcal{R}(f) \\cap [y_0, x_0]$ is a finite set (all its elements are integers), there must be some element which is not covered by elements of $\\mathcal{R}(f)$ under $p$ and this contradicts because $p: \\mathcal{R}(f) \\to \\mathcal{R}(f)$ was surjective. The argument in the case which $\\mathcal{R}(f)$ contains only finitely many positive or negative integers are similar.\n\nb) Since $\\deg(p(x)) > 1$ is an odd number, $p(x) - x$ has odd degree. Therefore, it has at least one real root $x_0$. Suppose that this polynomial has no real root other than $x_0$. Thus, $p(x) > x$ for $x > x_0$ and $p(x) < x$ for $x < x_0$.\n\nOn the other hand, we have $p(f(x_0)) = f(p(x_0)) = f(x_0)$ and since $x_0$ was the unique solution of $p(x_0) = x_0$, we get $f(x_0) = x_0$. Suppose that $\\mathcal{R}(f) = \\{x_{-m} < \\cdots < x_{-1} < x_0 < x_1 < \\cdots < x_n\\}$. If $n > 0$, $p(x_n) > x_n$ and this contradicts because $p(\\mathcal{R}(f)) \\subseteq \\mathcal{R}(f)$. So $n = 0$. Similarly, $m = 0$ and therefore, $|\\mathcal{R}(f)| = 1$. But we assumed that $|\\mathcal{R}(f)| \\ge 2$.\n\nc) Suppose that $z, y_1, \\dots, y_m$ are $n = m+1$ arbitrary distinct integers. Using Lagrange Interpolation, we can find a polynomial $p(x) \\in \\mathbb{R}[x]$ such that\n\n$$\np(z) = z, \\quad p(y_1) = y_2, \\quad p(y_2) = y_3, \\quad \\dots, \\quad p(y_m) = y_1\n$$\n\nIf it is necessary by changing $x^k(x-z)(x-y_1)\\cdots(x-y_m) + p(x)$ with $p(x)$ ($k \\in \\mathbb{N}$), we can assume that $p$ is a monic polynomial of odd degree. Now we define function $f$ as follows. If there is some integer $k \\ge 0$ and $1 \\le i \\le m$ such that $p^k(x) = y_i$, set $f(x) = y_{i-k}$ (Indices are assumed to be modulo $m$). Note that if $p^{k_1}(x) = y_i$ and $p^{k_2}(x) = y_j$, $y_{i-k_1} = y_{j-k_2}$. Thus, there is no ambiguity in the definition. Otherwise, define $f(x) = z$. We claim that this definition satisfies problem statement.\n\n* If $f(x) = y_i$, there is some integer $k$ such that $p^k(x) = y_{i+k}$. Now $p^k(p(x)) = p(y_{i+k}) = y_{i+k+1}$ and so $f(p(x)) = y_{i+k+1-k} = y_{i+1} = p(y_i) = p(f(x))$.\n* If $f(x) = z$, then obviously $f(p(x)) = z$ and so $f(p(x)) = z = p(z) = p(f(x))$.\n\nTherefore, the proof is complete.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "6. First we claim that $p : \\mathcal{R}(f) \\to \\mathcal{R}(f)$ is a surjective function, where by $\\mathcal{R}(f)$ we mean the range of the function $f$.\n\n$$\ny \\in \\mathcal{R}(f) \\Rightarrow \\exists x_0 \\in \\mathbb{R}; f(x_0) = y \\Rightarrow p(y) = p(f(x_0)) = f(p(x_0)) \\Rightarrow p(y) \\in \\mathcal{R}(f)\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_2f66b6c87618",
      "language": "und",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Proof. The proof is easy. \\square",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Lemma 1. In each triangle ABC with altitude AH and circumradius R, we have $AC.AB = 2R.AH$."
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_328fabd52e89",
      "language": "und",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Proof. Since $CI_c$ and $CI_b$ are internal and external angle bisectors of $\\angle C$, we have $\\angle I_cCI_b = 90^\\circ$. Similarly, $\\angle I_bBI_c = 90^\\circ$, and so quadrilateral $I_cBCI_b$ is cyclic. Now we have\n\n$$\n\\angle NI_cB = \\angle AI_cB = 180^\\circ - \\angle I_cAB - \\angle I_cBA = 90^\\circ - \\frac{\\angle C}{2}\n$$\n\nNow since $\\angle I_cNB = \\angle ANB = \\angle C$, we conclude that triangle $I_cNB$ is isosceles and so N lies on perpendicular bisector of $I_cB$. By similar arguments, N lies on the perpendicular bisector of $I_bC$, too. Therefore, N is the center of this circle. \\square",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Lemma 2. In triangle ABC, let N be the second intersection point of $I_bI_c$ and $\\omega$ (other than A), where $I_b$ and $I_c$ are excenters of ABC and $\\omega$ is its circumcircle. Then, the points $I_b, I_c, C$ and B lie on a common circle with center N."
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_957fb7aa4318",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Lemma 1. Let $a$ be a positive integer which is not a perfect square. There exist infinitely many primes $p \\equiv 3 \\pmod 4$ such that $a$ is quadratic non-residue modulo them.\n\nProof. Let $p_1p_2\\cdots p_s$ be square free part of integer $a$, where $p_i$'s are distinct primes. Now choose the quadratic non-residue $r_1$ modulo $p_1$ and set $r_2, \\dots, r_s$ as quadratic residues modulo $p_2, \\dots, p_s$, respectively. Now by Chinese Remainder Theorem and Dirichlet's Theorem one can find infinitely many prime $p$ satisfying\n\n$$\np \\equiv r_i \\pmod{p_i} \\quad \\text{for } i = 1, 2, \\dots, s\n$$\n\nNote that if one of primes name $p_1$ being equal to 2, then omit the first congruence and just add the criterion $p \\equiv 3 \\pmod 8$ and we are done. $\\square$\n\nNow set $m = 2M + 1$ and consider the sequence $k^2 + M^2, k^2 + M^2 + 1, \\dots, k^2 + M^2 + 2M + 1$. In this sequence the first and the last term is represented as sum of two squares. We will prove that there are infinitely many integers $k$ such that only this two terms could be representable as sum of two squares. According to the lemma, there exist primes $p_1, p_2, \\dots, p_{2M} \\equiv 3 \\pmod 4$ such that for each $j$, $M^2 + j$ is quadratic non-residue modulo $p_j$. Now we establish the following lemma\n\nLemma 2. Let $r$ be a quadratic residue modulo prime $P$ and $(x, P) = 1$. Then there is integer $x$ such that $0 < x < 2P$, $x^2 \\equiv r \\pmod{P}$ and $x^2 \\not\\equiv r \\pmod{p^2}$.\n\nProof. Let us note that $(x + P)^2 - x^2 = P^2 + 2xP \\not\\equiv 0 \\pmod{P^2}$. Then one of $x$ and $x + P$ satisfies the desired conditions. $\\square$\n\nNow by this lemma there exist positive integers $n_1, n_2, \\dots, n_{2M}$ such that $0 < n_j < 2p_j$ ($1 \\le j \\le 2M$) and we have\n\n$$\nn_j^2 \\equiv -(M^2 + j) \\pmod{p_j}, \\quad x^2 \\not\\equiv -(M^2 + j) \\pmod{p_j^2}\n$$\n\nNext, let $k \\equiv n_j \\pmod{p_j^2}$ for $1 \\le j \\le 2M$. Then, the numbers $k^2 + M^2 + j$ are all divisible by $p_j$ and not $p_j^2$. Now, since $p_j \\equiv 3 \\pmod 4$, $k^2 + M^2 + j$ cannot be written as sum of two squares. So we are done.",
          "pages": [
            "P0",
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "3. We prove that for any odd integer $m > 0$, there are infinitely many positive integers $n$, such that $b_{n+1} - b_n = m$. For sake of this reason we will use that following lemma"
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_3ebbba54aa99",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Proof. Consider the following integers\n\n$$\nS_i = \\frac{1}{2}(a_1 + a_2 + \\dots + a_i) \\quad 1 \\le i \\le n\n$$\n\nIf there is some $i$ such that $n|S_i$, we are done. So we assume that $n$ divides none of $S_i$'s and since there are $n$ numbers there exist $i < j$ such that $S_i \\equiv S_j \\pmod n$. This implies\n\n$$\nn|\\frac{1}{2}(a_{i+1} + \\dots + a_j) \\Rightarrow 2n|a_{i+1} + \\dots + a_j\n$$\n\nand the proof is complete. $\\square$\n\nNow for the main problem, we have two cases.\n\n* $n$ is an odd number. The answer is $k = 2n$. Firstly, note that for $k < 2n$ if we set $a_1 = a_2 = \\dots = a_k = 1$, we cannot choose an even number of $a_i$'s with sum divisible by $n$. On the other hand, if $a_1, a_2, \\dots, a_{2n}$ are $2n$ integers, then we define $S_i = a_1 + \\dots + a_{2i}$ for $i = 1, 2, \\dots, n$. By arguments same as the proof of the lemma, there is some $i$ such that $n|S_i$ or there exists $i < j$ such that $n|S_j - S_i$. In both cases we have found an even number of $a_i$'s having sum divisible by $n$.\n\n* $n = 2m$ is an even number. We claim that $k = n + 1 = 2m + 1$ is the answer. Note that for $k \\le 2m$, if we set $a_1 = a_2 = \\dots = a_{k-1} = 1$ and $a_k = 0$, it is not possible to select an even number of $a_i$'s having a sum divisible by $2m$. On the other hand, suppose that $a_1, a_2, \\dots, a_{2m+1}$ are $2m+1$ arbitrary integers. Assume that $b_1, b_2, \\dots, b_s$ are the even numbers among $a_i$'s and $c_1, c_2, \\dots, c_r$ are the odd numbers. Since $r+s = 2m+1$, exactly one of $r$ of $s$ is odd and the other is even. We suppose that $r$ is odd and $s$ is even (the other case is similar). Now look at the $m$ numbers $a_1+a_2, a_3+a_4, \\dots, a_{r-2}+a_{r-1}, b_1+b_2, \\dots, b_{s-1}+b_s$. Note that all these sums are even, so referring to the lemma, we can select some of them with sum divisible by $2m = n$. Since each of these numbers is sum of two member of $a_i$'s we have find an even number of $a_i$'s having a sum divisible by $n$, as desired.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "4. We start with a lemma.\n\nLemma 1. Let $a_1, a_2, \\dots, a_n$ be $n$ even integers. Then is a subsequence $i_1 < i_2 < \\dots < i_k$ of $1, 2, \\dots, n$ such that $a_{i_1} + \\dots + a_{i_k}$ is divisible by $2n$."
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_b05ef75ee828",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2015_p47_data_22913d6e96.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2015_p47_data_f98afe1dd8.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2015_p47_data_5f0a600294.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2015_p48_data_854415573e.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2015_p48_data_c831017119.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "% IMAGE: ![](images/2015_p47_data_22913d6e96.png)\n\n\\textbf{Lemma 2.} Let $K$ be a strictly convex shape in the plane. For any real number $r > 0$ and any direction in the plane, there are at most two slices of $K$ with length $r$ parallel to the given direction. (We mean by a slice of $K$, intersection of a line in the plane with $K$. Obvoiusly each slice is a line segment.)\n\n\\textit{Proof.} Assume to the contrary there are three slices of length $r$ parallel to the given direction, say $AA'$, $BB'$ and $CC'$. Suppose that $\\overrightarrow{AA'} = \\overrightarrow{BB'} = \\overrightarrow{CC'}$ and $BB'$ lies between two others.\n\nIf $B$ or $B'$ is outside the parallelogram $AA'C'C$, then the other point lies in the interior of $K$ and therefore the intersection of line containing $BB'$ has length greater than $r$.\n\n% IMAGE: ![](images/2015_p47_data_f98afe1dd8.png)\n\nIf $B$ lies on $AC$ and $B'$ lies on $A'C'$, then since $K$ is strictly convex there must be a\npoint of $K$ between lines $AA'$ and $CC'$ outside the parallelogram, contradicts with the\nlength $r$ of slice containing $BB'$.\n\n% IMAGE: ![](images/2015_p47_data_5f0a600294.png)\n\n\\textbf{Lemma 3.} There are no four horizontal or four vertical rectangles satisfying the conditions.\n\n\\textit{Proof.} Assume that there are at least 4 horizontal rectangles. By a horizontal scaling with factor $\\frac{1}{2}$ we go to the case that there are 4 unit squares with sides parallel to the axes, such that mutually intersecting at rectangles of area $\\frac{1}{2}$.\n\nEvery unit square determined uniquely by its center. It is easy to see that two unit squares with centers $(x, y)$ and $(x', y')$ intersect at a rectangle of area $\\frac{1}{2}$ iff\n\n\\[\n(1 - |x - x'|)(1 - |y - y'|) = \\frac{1}{2} \\quad (*)\n\\]\n\nLocus of points $(x', y')$ satisfying (*) (for fixed $(x, y)$) is boundary of a strictly convex shape in the plane (Look at the shape below). We call such shape an oval with center $(x, y)$.\n\n% IMAGE: ![](images/2015_p48_data_854415573e.png)\n\nSuppose that $A = (x_A, y_A)$, $B = (x_B, y_B)$, $C = (x_C, y_C)$ and $D = (x_D, y_D)$ are the centers of these 4 squares such that $y_A \\le y_B \\le y_C \\le y_D$. Note that oval of $B$ is a translation of oval of $A$ with vector $\\vec{AB}$. By lemma 2 these two ovals intersect in at most two points (Note that these ovals are strictly convex because they are intersection of 4 strictly convex shapes). These two points must be $C$ and $D$. Since $A$ is center of symmetry of oval of $A$, by lemma 1, these two intersection points are symmetric with respect to the midpoint of $AB$. Note that $y_B > y_A$, because if $y_A = y_B$, $y_C$ or $y_D$ become less than $y_A = y_B$ contradicts with the minimality of $y_A$. Now we have\n\n\\[\ny_C \\le \\frac{y_C + y_D}{2} = \\frac{y_A + y_B}{2} < y_B\n\\]\n\nContradicts with $y_B \\le y_C$.\n\n% IMAGE: ![](images/2015_p48_data_c831017119.png)\n\n\\textbf{Lemma 4.} Every horizontal rectangle intersects every vertical rectangle in a $1 \\times 1$ square.\n\n\\textit{Proof.} Intersection of such rectangles is a rectangle with sides at most 1. As intersection of every two rectangles has a unit area, both sides must be unit. \\Box\n\nUsing lemma 3, we get that 3 rectangles are vertical (V) and other 3 are horizontal (H). Consider three horizontal rectangles with their centers sorted by x. Fix the middle one and call it $R_m$. Call left and right rectangles $R_l$ and $R_r$ respectively. Without loss of generality, we can assume that $R_r$ is not upper than $R_l$. As in the figure below $R_m$, $R_r$ intersect in a rectangle with length $\\beta$ and $R_m$, $R_l$ intersect in a rectangle with length $\\alpha$. Left side of $R_r$, right side of $R_l$, top side of $R_l$ and bottom side of $R_m$ construct a rectangle named $R_H$. Width of $R_H$ is $w_H$ and height of it is $h_H$. These variables are based on rectangles in (H), we can define the same variables in (V) named $R_V$, $w_V$ and $h_V$.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2015_p46_data_e6655e1f36.png",
          "title": ""
        }
      ],
      "statement_latex": "The answer is 5. The picture below shows five $1 \\times 2$ rectangles mutually intersecting at rectangles with unit area.\n\n% IMAGE: ![](images/2015_p46_data_e6655e1f36.png)\n\nIt is enough to show that there are no six $1 \\times 2$ horizontal or vertical rectangles with such a property. Assume that there are 6 such rectangles.\n\nNote that it is obvious that the intersection of two rectangles with parallel sides is again a rectangle. In solution first we show that there are at most three vertical and three horizontal rectangles. At the end we show that there are not three horizontal and three vertical rectangles satisfying the intersection property. For these we prove some lemmas.\n\n\\textbf{Lemma 1.} \\textit{Composition of a reflection with respect to a point and a translation in the plane, is a reflection, too.}\n\n\\textit{Proof.} Let $O$ be the center of the reflection, and $\\vec{v}$ be the vector of the translation. Then by Thales' Theorem it is easy to see the composition is a reflection with respect to point $O'$ such that $OO' = \\frac{1}{2}\\vec{v}$."
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_acb40d57e3bd",
      "language": "und",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P0"
              ],
              "path": "images/2015_p47_data_f98afe1dd8.png",
              "title": null
            },
            {
              "alt": "",
              "pages": [
                "P0"
              ],
              "path": "images/2015_p47_data_5f0a600294.png",
              "title": null
            }
          ],
          "label": null,
          "latex": "Assume to the contrary there are three slices of length $r$ parallel to the given direction, say $AA'$, $BB'$ and $CC'$. Suppose that $\\overrightarrow{AA'} = \\overrightarrow{BB'} = \\overrightarrow{CC'}$ and $BB'$ lies between two others.\n\nIf $B$ or $B'$ is outside the parallelogram $AA'C'C$, then the other point lies in the interior of $K$ and therefore the intersection of line containing $BB'$ has length greater than $r$.\n\n% IMAGE: ![](images/2015_p47_data_f98afe1dd8.png)\n\nIf $B$ lies on $AC$ and $B'$ lies on $A'C'$, then since $K$ is strictly convex there must be a point of $K$ between lines $AA'$ and $CC'$ outside the parallelogram, contradicts with the length $r$ of slice containing $BB'$.\n\n% IMAGE: ![](images/2015_p47_data_5f0a600294.png)",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2015_p47_data_22913d6e96.png",
          "title": null
        }
      ],
      "statement_latex": "Lemma 2. Let $K$ be a strictly convex shape in the plane. For any real number $r > 0$ and any direction in the plane, there are at most two slices of $K$ with length $r$ parallel to the given direction. (We mean by a slice of $K$, intersection of a line in the plane with $K$. Obvoiusly each slice is a line segment.)"
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_63f7bd4f7e10",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P0"
              ],
              "path": "images/2015_p48_data_854415573e.png",
              "title": null
            },
            {
              "alt": "",
              "pages": [
                "P0"
              ],
              "path": "images/2015_p48_data_c831017119.png",
              "title": null
            }
          ],
          "label": null,
          "latex": "Assume that there are at least 4 horizontal rectangles. By a horizontal scaling with factor $\\frac{1}{2}$ we go to the case that there are 4 unit squares with sides parallel to the axes, such that mutually intersecting at rectangles of area $\\frac{1}{2}$.\n\nEvery unit square determined uniquely by its center. It is easy to see that two unit squares with centers $(x, y)$ and $(x', y')$ intersect at a rectangle of area $\\frac{1}{2}$ iff\n\n$$\n(1 - |x - x'|)(1 - |y - y'|) = \\frac{1}{2} \\quad (*)\n$$\n\nLocus of points $(x', y')$ satisfying (*) (for fixed $(x, y)$) is boundary of a strictly convex shape in the plane (Look at the shape below). We call such shape an oval with center $(x, y)$.\n\n% IMAGE: ![](images/2015_p48_data_854415573e.png)\n\nSuppose that $A = (x_A, y_A)$, $B = (x_B, y_B)$, $C = (x_C, y_C)$ and $D = (x_D, y_D)$ are the centers of these 4 squares such that $y_A \\le y_B \\le y_C \\le y_D$. Note that oval of $B$ is a translation of oval of $A$ with vector $\\vec{AB}$. By lemma 2 these two ovals intersect in at most two points (Note that these ovals are strictly convex because they are intersection of 4 strictly convex shapes). These two points must be $C$ and $D$. Since $A$ is center of symmetry of oval of $A$, by lemma 1, these two intersection points are symmetric with respect to the midpoint of $AB$. Note that $y_B > y_A$, because if $y_A = y_B$, $y_C$ or $y_D$ become less than $y_A = y_B$ contradicts with the minimality of $y_A$. Now we have\n\n$$\ny_C \\le \\frac{y_C + y_D}{2} = \\frac{y_A + y_B}{2} < y_B\n$$\n\nContradicts with $y_B \\le y_C$.\n\n% IMAGE: ![](images/2015_p48_data_c831017119.png)",
          "pages": [
            "P0",
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Lemma 3. There are no four horizontal or four vertical rectangles satisfying the conditions."
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_7eeb9cc83772",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2015_p49_data_e87e575855.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "% IMAGE: ![](images/2015_p49_data_e87e575855.png)\n\nReferring to the lemma 4, every two rectangles, one in (V) and one in (H) intersect in a unit square. So every rectangle in (V) must have a horizontal side in $R_H$ this means $h_V \\le w_H$. Similarly we can show that $h_H \\le w_V$. Without loss of generality, assume that $w_V \\le w_H$. This yields:\n\n$$\nh_H \\le w_H\n$$\n\nNow we can calculate all variables in terms of $\\alpha, \\beta$ (note that $1 \\le \\alpha \\le \\beta \\le 2$). Intersection of $R_l, R_r$ is a rectangle with sides $\\alpha + \\beta - 2, 1 - \\frac{1}{\\beta} + \\frac{1}{\\alpha}$ so:\n\n$$\n(\\alpha + \\beta - 2) \\times \\left(1 - \\frac{1}{\\beta} + \\frac{1}{\\alpha}\\right) = 1(1)\n$$\n\nWe had $h_H \\le w_H$. $h_H = 2 - \\frac{1}{\\alpha}$ and $w_H = \\alpha + \\beta - 2$ so:\n\n$$\n2 - \\frac{1}{\\alpha} \\le \\alpha + \\beta - 2(2)\n$$\n\nNow we change our variables to have simpler results. Assume that:\n\n$$\n\\alpha = a + 1 \\quad (0 \\le a \\le 1)\n$$\n\n$$\n\\beta = b + 1 \\quad (0 \\le b \\le 1)\n$$\n\nFrom (1) we have:\n\n$$\n\\begin{align*} & (b+a)\\left(1 - \\frac{1}{b+1} + \\frac{1}{a+1}\\right) = 1 \\\\ \\Rightarrow \\quad & b - \\frac{b}{b+1} + \\frac{b}{a+1} + a - \\frac{a}{b+1} + \\frac{a}{a+1} = 1 \\\\ \\Rightarrow \\quad & b^2 + b - b + \\frac{b(b+1)}{a+1} + ab + a - a + \\frac{ba}{a+1} + \\frac{a}{a+1} = b + 1 \\\\ \\Rightarrow \\quad & Q(b) = b^2\\left(1 + \\frac{1}{1+a}\\right) + ba - \\frac{1}{a+1} = 0 \\end{align*}\n$$\n\nFrom (2) we conclude that the above quadratic polynomial must have a root in the interval $[0, 1]$ satisfying the following condition:\n\n$$\n2 - \\frac{1}{a+1} \\le a + b \\Leftrightarrow \\underbrace{1 - \\frac{a^2}{a+1}}_{k} = 2 - a - \\frac{1}{a+1} \\le b\n$$\n\n$a \\in [0, 1]$ so $k \\in [0, 1]$. Coefficients of $Q$ are positive so $Q$ is ascending so to prove that $b$ cannot be a root of $Q$, it's enough to show that $Q(k) > 0$. $Q(k) \\ge k^2 + ka - \\frac{1}{a+1}$ so we prove that $k^2 + ka - \\frac{1}{a+1} \\ge 0$.\n\n$$\n\\begin{align*} & k^2 + ka - \\frac{1}{a+1} \\ge 0 \\\\ \\Leftrightarrow \\quad & (1 - \\frac{a^2}{a+1})^2 + (1 - \\frac{a^2}{a+1})a - \\frac{1}{a+1} \\ge 0 \\\\ \\Leftrightarrow \\quad & (a + 1 - a^2)^2 + a(a + 1)(a + 1 - a^2) \\ge a + 1 \\\\ \\Leftrightarrow \\quad & (a + 1 - a^2)(2a + 1) \\ge a + 1 \\end{align*}\n$$\n\nEquivalently,\n\n$$\n2a(a+1) - a^2(2a+1) = -2a^3 + a^2 + 2a = -a(2a^2 - a - 2) \\geq 0\n$$\n\n$a \\in [0, 1]$ so the last inequality is obvious because $2a^2 - a - 2 = (a^2 - a) + (a^2 - 1) - 1$. Thus we showed that there is no $a$ with those algebraic properties. This means there is no $\\alpha$ with that geometric properties and this is a big contradiction because $\\alpha$ was a length in our figure. Now we can say there are no six $1 \\times 2$ rectangles mutually intersecting at rectangles with unit area. This yields there are no $n > 5$ such rectangles.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2015_p48_data_854415573e.png",
          "title": ""
        },
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2015_p48_data_c831017119.png",
          "title": ""
        }
      ],
      "statement_latex": "Every unit square determined uniquely by its center. It is easy to see that two unit squares with centers $(x, y)$ and $(x', y')$ intersect at a rectangle of area $\\frac{1}{2}$ iff\n\n$$\n(1 - |x - x'|)(1 - |y - y'|) = \\frac{1}{2} \\quad (*)\n$$\n\nLocus of points $(x', y')$ satisfying (*) (for fixed $(x, y)$) is boundary of a strictly convex shape in the plane (Look at the shape below). We call such shape an oval with center $(x, y)$.\n\n% IMAGE: ![](images/2015_p48_data_854415573e.png)\n\nSuppose that $A = (x_A, y_A)$, $B = (x_B, y_B)$, $C = (x_C, y_C)$ and $D = (x_D, y_D)$ are the centers of these 4 squares such that $y_A \\le y_B \\le y_C \\le y_D$. Note that oval of $B$ is a translation of oval of $A$ with vector $\\vec{AB}$. By lemma 2 these two ovals intersect in at most two points (Note that these ovals are strictly convex because they are intersection of 4 strictly convex shapes). These two points must be $C$ and $D$. Since $A$ is center of symmetry of oval of $A$, by lemma 1, these two intersection points are symmetric with respect to the midpoint of $AB$. Note that $y_B > y_A$, because if $y_A = y_B$, $y_C$ or $y_D$ become less than $y_A = y_B$ contradicts with the minimality of $y_A$. Now we have\n\n$$\ny_C \\le \\frac{y_C + y_D}{2} = \\frac{y_A + y_B}{2} < y_B\n$$\n\nContradicts with $y_B \\le y_C$.\n\n% IMAGE: ![](images/2015_p48_data_c831017119.png)\n\n**Lemma 4.** Every horizontal rectangle intersects every vertical rectangle in a $1 \\times 1$ square.\n\n*Proof.* Intersection of such rectangles is a rectangle with sides at most 1. As intersection of every two rectangles has a unit area, both sides must be unit. \n\nUsing lemma 3, we get that 3 rectangles are vertical (V) and other 3 are horizontal (H). Consider three horizontal rectangles with their centers sorted by x. Fix the middle one and call it $R_m$. Call left and right rectangles $R_l$ and $R_r$ respectively. Without loss of generality, we can assume that $R_r$ is not upper than $R_l$. As in the figure below $R_m$, $R_r$ intersect in a rectangle with length $\\beta$ and $R_m$, $R_l$ intersect in a rectangle with length $\\alpha$. Left side of $R_r$, right side of $R_l$, top side of $R_l$ and bottom side of $R_m$ construct a rectangle named $R_H$. Width of $R_H$ is $w_H$ and height of it is $h_H$. These variables are based on rectangles in (H), we can define the same variables in (V) named $R_V$, $w_V$ and $h_V$."
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_b2125109e7e2",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Equivalently,\n\n$$\n2a(a+1) - a^2(2a+1) = -2a^3 + a^2 + 2a = -a(2a^2 - a - 2) \\geq 0\n$$\n\n$a \\in [0, 1]$ so the last inequality is obvious because $2a^2 - a - 2 = (a^2 - a) + (a^2 - 1) - 1$. Thus we showed that there is no $a$ with those algebraic properties. This means there is no $\\alpha$ with that geometric properties and this is a big contradiction because $\\alpha$ was a length in our figure. Now we can say there are no six $1 \\times 2$ rectangles mutually intersecting at rectangles with unit area. This yields there are no $n > 5$ such rectangles.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2015_p49_data_e87e575855.png",
          "title": null
        }
      ],
      "statement_latex": "Referring to the lemma 4, every two rectangles, one in (V) and one in (H) intersect in a unit square. So every rectangle in (V) must have a horizontal side in $R_H$ this means $h_V \\le w_H$. Similarly we can show that $h_H \\le w_V$. Without loss of generality, assume that $w_V \\le w_H$. This yields:\n\n$$\nh_H \\le w_H\n$$\n\nNow we can calculate all variables in terms of $\\alpha, \\beta$ (note that $1 \\le \\alpha \\le \\beta \\le 2$). Intersection of $R_l, R_r$ is a rectangle with sides $\\alpha + \\beta - 2, 1 - \\frac{1}{\\beta} + \\frac{1}{\\alpha}$ so:\n\n$$\n(\\alpha + \\beta - 2) \\times \\left(1 - \\frac{1}{\\beta} + \\frac{1}{\\alpha}\\right) = 1(1)\n$$\n\nWe had $h_H \\le w_H$. $h_H = 2 - \\frac{1}{\\alpha}$ and $w_H = \\alpha + \\beta - 2$ so:\n\n$$\n2 - \\frac{1}{\\alpha} \\le \\alpha + \\beta - 2(2)\n$$\n\nNow we change our variables to have simpler results. Assume that:\n\n$$\n\\alpha = a + 1 \\quad (0 \\le a \\le 1)\n$$\n\n$$\n\\beta = b + 1 \\quad (0 \\le b \\le 1)\n$$\n\nFrom (1) we have:\n\n$$\n\\begin{align*} & (b+a)\\left(1 - \\frac{1}{b+1} + \\frac{1}{a+1}\\right) = 1 \\\\ \\Rightarrow \\quad & b - \\frac{b}{b+1} + \\frac{b}{a+1} + a - \\frac{a}{b+1} + \\frac{a}{a+1} = 1 \\\\ \\Rightarrow \\quad & b^2 + b - b + \\frac{b(b+1)}{a+1} + ab + a - a + \\frac{ba}{a+1} + \\frac{a}{a+1} = b + 1 \\\\ \\Rightarrow \\quad & Q(b) = b^2\\left(1 + \\frac{1}{1+a}\\right) + ba - \\frac{1}{a+1} = 0 \\end{align*}\n$$\n\nFrom (2) we conclude that the above quadratic polynomial must have a root in the interval $[0, 1]$ satisfying the following condition:\n\n$$\n2 - \\frac{1}{a+1} \\le a + b \\Leftrightarrow \\underbrace{1 - \\frac{a^2}{a+1}}_{k} = 2 - a - \\frac{1}{a+1} \\le b\n$$\n\n$a \\in [0, 1]$ so $k \\in [0, 1]$. Coefficients of $Q$ are positive so $Q$ is ascending so to prove that $b$ cannot be a root of $Q$, it's enough to show that $Q(k) > 0$. $Q(k) \\ge k^2 + ka - \\frac{1}{a+1}$ so we prove that $k^2 + ka - \\frac{1}{a+1} \\ge 0$.\n\n$$\n\\begin{align*} & k^2 + ka - \\frac{1}{a+1} \\ge 0 \\\\ \\Leftrightarrow \\quad & (1 - \\frac{a^2}{a+1})^2 + (1 - \\frac{a^2}{a+1})a - \\frac{1}{a+1} \\ge 0 \\\\ \\Leftrightarrow \\quad & (a + 1 - a^2)^2 + a(a + 1)(a + 1 - a^2) \\ge a + 1 \\\\ \\Leftrightarrow \\quad & (a + 1 - a^2)(2a + 1) \\ge a + 1 \\end{align*}\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_e4f1b0867e8e",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2015_p53_data_c6f00b7921.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "By Thales's Theorem K is the midpoint of AU. On the other hand, $\\angle ATS = \\angle AST$. Thus, triangles AUT and ATS are similar. Since TK and SX are medians of these triangles, we infer that $\\angle XSA = \\angle STK$. Hence, L lies on $\\omega$ and also AXLK is a cyclic quadrilateral. Now we have\n\n$$\nRT \\parallel PK \\Rightarrow \\angle RTK = \\angle QKL\n$$\n\nOn the other hand, since XR is tangent to $\\omega$, we have $\\angle XRL = \\angle RTK$. Therefore, $\\angle XRL = \\angle QKL$ and so four points K, R, L and Q lie on a common circle.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "13. If we consider $A$ and $X$ as circles with radius zero, then $K$ is the radical center of $A$, $X$ and $\\omega$. Therefore, $K$ lies on the perpendicular bisector of $AX$, and so $\\angle STA = \\angle KXA = \\angle KAT$. Let $U$ be the intersection point of $AK$ and $TS$."
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_da1256f62faf",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2015_p53_data_3c2ded6711.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "$$\n\\begin{align*} \nc_n = c_{n-1} - 1 &\\Leftrightarrow \\frac{a_{n+1}}{[a_{n-1}, a_{n-2}]} = \\frac{a_n}{[a_{n-2}, a_{n-3}]} - 1 \\\\ \n&\\Leftrightarrow \\frac{[a_n, a_{n-1}]}{[a_{n-1}, a_{n-2}]} = \\frac{[a_{n-1}, a_{n-2}]}{[a_{n-2}, a_{n-3}]} - 1 \\\\ \n&\\Leftrightarrow \\frac{[a_n, a_{n-1}]}{[a_{n-1}, a_{n-2}]} = \\frac{a_{n+1}}{[a_{n-2}, a_{n-3}]} \\\\ \n&\\Leftrightarrow \\frac{(a_n, a_{n-1})}{a_{n-1}} = \\frac{(a_n, a_{n+1})}{[a_{n-1}, a_{n-2}]} \n\\end{align*}\n$$\n\nOn the other hand,\n\n$$\n\\begin{align*} \n(a_{n+1}, a_n) &= ([a_n, a_{n-1}] - [a_{n-1}, a_{n-2}], a_n) = ([a_{n-1}, a_{n-2}], a_n) = ([a_{n-1}, a_{n-2}], [a_{n-2}, a_{n-3}]) \\\\ \n(a_n, a_{n-1}) &= ([a_{n-1}, a_{n-2}] - [a_{n-2}, a_{n-3}], a_{n-1}) = ([a_{n-2}, a_{n-3}], a_{n-1}) \n\\end{align*}\n$$\n\nSo we must prove that\n\n$$\n\\frac{([a_{n-2}, a_{n-3}], a_{n-1})}{a_{n-1}} = \\frac{([a_{n-1}, a_{n-2}], [a_{n-2}, a_{n-3}])}{[a_{n-1}, a_{n-2}]}\n$$\n\nBy dividing both sides by $[a_{n-2}, a_{n-3}]$, we get that the assertion is equivalent to\n\n$$\n[[a_{n-2}, a_{n-3}], a_{n-1}] = [[a_{n-1}, a_{n-2}], [a_{n-2}, a_{n-3}]]\n$$\n\nWhich is true. So we are done.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "14. We start with a lemma.\n\n**Lemma 1.** For any $n \\ge 4$, we have $a_{n-2}|a_n$.\n\n*Proof.*\n\n$$\na_{n-2} \\mid [a_{n-1}, a_{n-2}], a_{n-2} \\mid [a_{n-2}, a_{n-3}]\n$$\n\nSo $a_{n-2}$ divides $a_n = [a_{n-1}, a_{n-2}] - [a_{n-1}, a_{n-2}]$.\n\nAccording to the lemma 1, we know that $a_{n-2}|[a_n, a_{n-1}]$ and so $a_{n+1}$ is divisible by $a_{n-2}$. We define\n\n$$\nc_n = \\frac{a_{n+1}}{[a_{n-1}, a_{n-2}]} \\in \\mathbb{Z}\n$$\n\nIf there is some $n$, such that $a_n \\le 0$, we are done. Therefore, we may suppose that for all positive integers $n$, $a_n \\in \\mathbb{N}$. We claim that $c_n = c_{n-1} - 1$, for any $n \\ge 5$. If we prove the claim, we get $c_n = c_4 - (n-4)$ and so $c_{c_4+5} = 0$, which implies $a_{c_4+5} = 0$. Note that\n\n$$\nc_4 + 1 = \\frac{a_5}{[a_3, a_2]} + 1 = \\frac{[a_4, a_3]}{[a_3, a_2]} \\le \\frac{a_4 a_3}{[a_3, a_2]} = a_3 \\left( \\frac{a_4}{[a_3, a_2]} \\right) \\le a_3\n$$\n\nTherefore, $c_4 + 5 \\le a_3 + 4$. So proving the claim completes our solution."
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_f7bce03daf9a",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "$$\n\\begin{align*} \nc_n = c_{n-1} - 1 &\\Leftrightarrow \\frac{a_{n+1}}{[a_{n-1}, a_{n-2}]} = \\frac{a_n}{[a_{n-2}, a_{n-3}]} - 1 \\\\ \n&\\Leftrightarrow \\frac{[a_n, a_{n-1}]}{[a_{n-1}, a_{n-2}]} = \\frac{[a_{n-1}, a_{n-2}]}{[a_{n-2}, a_{n-3}]} - 1 \\\\ \n&\\Leftrightarrow \\frac{[a_n, a_{n-1}]}{[a_{n-1}, a_{n-2}]} = \\frac{a_{n+1}}{[a_{n-2}, a_{n-3}]} \\\\ \n&\\Leftrightarrow \\frac{(a_n, a_{n-1})}{a_{n-1}} = \\frac{(a_n, a_{n+1})}{[a_{n-1}, a_{n-2}]} \n\\end{align*}\n$$\n\nOn the other hand,\n\n$$\n\\begin{align*} \n(a_{n+1}, a_n) &= ([a_n, a_{n-1}] - [a_{n-1}, a_{n-2}], a_n) = ([a_{n-1}, a_{n-2}], a_n) = ([a_{n-1}, a_{n-2}], [a_{n-2}, a_{n-3}]) \\\\ \n(a_n, a_{n-1}) &= ([a_{n-1}, a_{n-2}] - [a_{n-2}, a_{n-3}], a_{n-1}) = ([a_{n-2}, a_{n-3}], a_{n-1}) \n\\end{align*}\n$$\n\nSo we must prove that\n\n$$\n\\frac{([a_{n-2}, a_{n-3}], a_{n-1})}{a_{n-1}} = \\frac{([a_{n-1}, a_{n-2}], [a_{n-2}, a_{n-3}])}{[a_{n-1}, a_{n-2}]}\n$$\n\nBy dividing both sides by $[a_{n-2}, a_{n-3}]$, we get that the assertion is equivalent to\n\n$$\n[[a_{n-2}, a_{n-3}], a_{n-1}] = [[a_{n-1}, a_{n-2}], [a_{n-2}, a_{n-3}]]\n$$\n\nWhich is true. So we are done.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2015_p53_data_3c2ded6711.png",
          "title": ""
        }
      ],
      "statement_latex": "14. We start with a lemma.\n\n\\textbf{Lemma 1.} For any $n \\ge 4$, we have $a_{n-2}|a_n$.\n\n*Proof.*\n\n$$\na_{n-2} \\mid [a_{n-1}, a_{n-2}], a_{n-2} \\mid [a_{n-2}, a_{n-3}]\n$$\n\nSo $a_{n-2}$ divides $a_n = [a_{n-1}, a_{n-2}] - [a_{n-1}, a_{n-2}]$.\n\n% IMAGE: ![](images/2015_p53_data_3c2ded6711.png)\n\nAccording to the lemma 1, we know that $a_{n-2}|[a_n, a_{n-1}]$ and so $a_{n+1}$ is divisible by $a_{n-2}$. We define\n\n$$\nc_n = \\frac{a_{n+1}}{[a_{n-1}, a_{n-2}]} \\in \\mathbb{Z}\n$$\n\nIf there is some $n$, such that $a_n \\le 0$, we are done. Therefore, we may suppose that for all positive integers $n$, $a_n \\in \\mathbb{N}$. We claim that $c_n = c_{n-1} - 1$, for any $n \\ge 5$. If we prove the claim, we get $c_n = c_4 - (n-4)$ and so $c_{c_4+5} = 0$, which implies $a_{c_4+5} = 0$. Note that\n\n$$\nc_4 + 1 = \\frac{a_5}{[a_3, a_2]} + 1 = \\frac{[a_4, a_3]}{[a_3, a_2]} \\le \\frac{a_4 a_3}{[a_3, a_2]} = a_3 \\left( \\frac{a_4}{[a_3, a_2]} \\right) \\le a_3\n$$\n\nTherefore, $c_4 + 5 \\le a_3 + 4$. So proving the claim completes our solution."
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_795c0e717ea1",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Note that since $b_i$'s are increasing we have\n\n$$\ni \\sum_{j=i+1}^{m} b_j > (m-i) \\sum_{j=0}^{i} b_j \\Rightarrow i \\sum_{j=0}^{m} b_j > m \\sum_{j=0}^{i} b_j\n$$\n\nThis implies that the right hand side of $(*)$ is less than $\\frac{i}{m}$. Similar arguments show that the left hand side of $(*)$ is greater than $\\frac{i}{m}$ (note that $a_i$'s assumed to be decreasing). This contradiction established the lemma. \\u25a1\n\nFor the main problem suppose that we have divided both $a_i$'s and $b_i$'s into two sets having equal sums.\n\n* $\\sum_{i=1}^{k} a_i = \\sum_{i=k+1}^{n} a_i$ such that $a_k \\le a_{k-1} \\le \\dots \\le a_2 \\le a_1, a_n \\le a_{n-1} \\le \\dots \\le a_{k+1}$, where $a_1 \\ge a_{k+1}$.\n\n* $\\sum_{i=1}^{s} b_i = \\sum_{i=s+1}^{n} b_i$ such that $b_s \\ge b_{s-1} \\ge \\dots \\ge b_2 \\ge b_1, b_n \\ge b_{n-1} \\ge \\dots \\ge b_{s+1}$, where $b_1 \\le b_{s+1}$.\n\nThere is no loss of generality in assuming that $k \\le \\frac{n}{2} \\le s$. We will use the following algorithm for constructing the polygon.\n\n* We start from the origin ($C_0$ is the origin).\n\n* For $1 \\le i \\le s$, at the $i$-th step, we start from $C_{2(i-1)}$, then we go up in a segment of length $a_i$ to get $C_{2i-1}$ and then right in a segment of length $b_i$ to get $C_{2i}$.\n\n* For $s < i \\le k$, at the $i$-th step, we start from $C_{2(i-1)}$, then we go down in a segment of length $a_i$ to get $C_{2i-1}$ and then left in a segment of length $b_i$ to get $C_{2i}$.\n\nNote that since the lengths of $a_i$'s and $b_i$'s are assumed to be monotone, according to the lemma, first $2s$ sides of polygon lie in the top of the segment $C_0C_{2s}$ and the next $2(k-s)$ sides lie in the bottom of $C_{2s}C_{2k}$.\n\n* For $k < i \\le n$, at the $i$-th step, we start from $C_{2(i-1)}$, then we go down in a segment of length $a_i$ to get $C_{2i-1}$ and then left in a segment of length $b_i$ to get $C_{2i}$.\n\nAgain because of the lemma, all these sides lie in the bottom of the segment $C_{2k}C_{2n}$.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "15. We start with a lemma.\n\n\\textbf{Lemma 1.} Suppose that are given two sequences $a_1 > a_2 > \\dots > a_m$ and $b_1 < b_2 < \\dots < b_m$ of positive real numbers as lengths of segments. We start from the origin and at the step $i$ ($1 \\le i \\le m$), we go up with a segment of length $a_i$ and then we go right with a segment of length $b_i$. Suppose that $l$ is the line connecting origin to the endpoint of the last segment. Show that all segments lie in the top of line $l$.\n\n*Proof.* Assume to the contrary that there is a first segment which intersects $l$, say $l'$. Obviously, $l'$ is a horizontal segment because if it was vertical, it could not be the first segment intersecting $l$. Suppose that $l' = b_i$. We denote by $O$ and $X$ the origin and the endpoint of the segment $b_i$, respectively. Since $X$ lies below the line $l$, we get that the slope of $OX$ is less than the slope of $l$.\n\n$$\n\\frac{\\sum_{j=0}^{i} a_j}{\\sum_{j=0}^{i} b_j} = \\text{Slope of } OX < \\text{Slope of } l = \\frac{\\sum_{j=0}^{m} a_j}{\\sum_{j=0}^{m} b_j}\n$$\n\nor equivalently\n\n$$\n\\frac{\\sum_{j=0}^{i} a_j}{\\sum_{j=0}^{m} a_j} < \\frac{\\sum_{j=0}^{i} b_j}{\\sum_{j=0}^{m} b_j} \\quad (*)\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2015",
        "pages_map": {
          "P0": "page60.md",
          "P1": "page61.md",
          "P2": "page62.md"
        }
      },
      "author": "Yeganeh Alimohammadi; Goodarz Mehr; Hesameddin Rajabzadeh",
      "booklet title": "2015.pdf",
      "booklet_url": "https://drive.google.com/open?id=1m7SloD9RxiFs4C66fReCTwkWlll3I0G1",
      "competition name": "32nd Iranian Mathematical Olympiad",
      "copyright_info": "Copyright Young Scholars Club 2014-2015. All rights reserved. Ministry of education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_c8de8a859ab0",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2015_p59_data_87912e9f14.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "Let $R$ be the foot of the perpendicular line from $A$ to $XM$. Thus, $ARH'M$ is a parallelogram. Now since $AM \\perp PQ$ and $RH' \\parallel AM$, we infer $PH' \\perp PQ$ (1). On the other hand, since $\\angle ARX = \\angle APX = \\angle AQX$, $R$ lies on the circumcircle of $APQ$ and so $\\angle PRQ = \\angle A$. Therefore, $RH' = AM = 2r \\cos(\\angle A) = 2r \\cos(\\angle PRQ)$ (2), where $r$ is the radius of circle passing through $A, R, P$ and $Q$. From (1) and (2), we deduce that $H'$ is the orthocenter of triangle $PRQ$. This implies that $\\angle PH'Q = 180^\\circ - \\angle A$ and this completes the proof.\n\n% IMAGE: ![](images/2015_p59_data_87912e9f14.png)",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "18. Let $P$, $Q$ and $M$ be the feet of perpendicular lines from $X$ to $AB$, $AC$ and $BC$, respectively. Obviously, $M$ is the midpoint of $BC$. We have\n\n$$\n\\angle ZXY = \\angle ZXH' + \\angle H'XY = \\angle AQH' + \\angle APH' = \\angle PH'Q - \\angle A\n$$\n\nSince we know $\\angle BXC = 180^\\circ - \\angle 2A$, it suffices to prove $\\angle PH'Q = 180^\\circ - \\angle A$. Note that $\\angle APM = \\angle BXM = 90^\\circ - \\angle A$ and so $PM \\perp AQ$. Similarly, $QM \\perp AP$. So $M$ is the orthocenter of triangle $APQ$, and as a consequence $AM \\perp PQ$."
    }
  ],
  "2016": [
    {
      "_provenance": {
        "folder": "IRN_2016",
        "pages_map": {
          "P0": "page44.md",
          "P1": "page45.md",
          "P2": "page46.md"
        }
      },
      "author": "Goodarz Mehr; Mohammad Pour Mohammadi; Hesameddin Rajabzadeh; Yeganeh Alimohammadi; Sepideh Azhdari; Mohsen Jamaali; Erfan Salavati; Mojtaba Zare",
      "booklet title": "2016.pdf",
      "booklet_url": "https://drive.google.com/open?id=15N_uiPkjXEctmHES_rqSTO1x-c7AWQ4X",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2015-2016. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_cdca43615e92",
      "language": "und",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "The winning strategy in this case depends on the total weight of pieces $p_3$ and $p_4$.\n\nIf the total weight is less than half the weight of the whole cake, Arash can win by taking $p_5$, which means Bahram can at best take $p_3$ and $p_4$, which have a total weight less than half the weight of the whole cake.\n\nIf the total weight is more than half the weight of the whole cake, Arash can win by taking the piece (from $p_3$ or $p_4$) which is not adjacent to $p_5$, and then in his upcoming turn, by taking either $p_5$ or the other piece (from $p_3$ or $p_4$).\n\nBy employing the strategy described above, Arash can win regardless of the cakes arrangement and Bahram's moves.",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2016_p17_data_1703d3ff5d.png",
          "title": null
        }
      ],
      "statement_latex": " $p_5$ and exactly one of the pieces $p_3$ or $p_4$ are adjacent.\n\n% IMAGE: ![](images/2016_p17_data_1703d3ff5d.png)\n\nThe winning strategy in this case depends on the total weight of pieces $p_3$ and $p_4$.\n\nIf the total weight is less than half the weight of the whole cake, Arash can win by taking $p_5$, which means Bahram can at best take $p_3$ and $p_4$, which have a total weight less than half the weight of the whole cake.\n\nIf the total weight is more than half the weight of the whole cake, Arash can win by taking the piece (from $p_3$ or $p_4$) which is not adjacent to $p_5$, and then in his upcoming turn, by taking either $p_5$ or the other piece (from $p_3$ or $p_4$).\n\nBy employing the strategy described above, Arash can win regardless of the cakes arrangement and Bahram's moves."
    },
    {
      "_provenance": {
        "folder": "IRN_2016",
        "pages_map": {
          "P0": "page44.md",
          "P1": "page45.md",
          "P2": "page46.md"
        }
      },
      "author": "Goodarz Mehr; Mohammad Pour Mohammadi; Hesameddin Rajabzadeh; Yeganeh Alimohammadi; Sepideh Azhdari; Mohsen Jamaali; Erfan Salavati; Mojtaba Zare",
      "booklet title": "2016.pdf",
      "booklet_url": "https://drive.google.com/open?id=15N_uiPkjXEctmHES_rqSTO1x-c7AWQ4X",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2015-2016. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_46d7d277c1c8",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "$$\n\\left.\n\\begin{array}{l}\nx^{2k-3}, x^{2k-1} \\in S \\quad \\Rightarrow \\quad \\frac{1}{x^{2k-3}+x^{2k-1}} \\in S \\\\\nx^{2k-1} \\in S \\quad \\Rightarrow \\quad \\frac{1}{x^{2k-1}} \\in S \\\\\n\\frac{1}{x^{2k-1}} - \\frac{1}{x^{2k-3}+x^{2k-1}} \\in S,\n\\end{array}\n\\right\\} \\Rightarrow \\\\\n\\frac{1}{x^{2k-1}} - \\frac{1}{x^{2k-3}+x^{2k-1}} \\equiv \\frac{1}{x^{2k-1}+x^{2k+1}} \\in S.\n$$\n\nThis means that $x^{2k-1} + x^{2k+1} \\in S$ and since $x^{2k-1} \\in S$, it is concluded that $x^{2k+1} \\in S$. This completes the induction process, proving that $x^n \\in S$ for all odd natural numbers $n$.\n\n\\textbf{Remark.} It can be proved that $S$ is the set of all odd rational expressions in $x$ with rational coefficients.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "2. For simplicity, $S$ is used to denote the set of all algebraic expressions that can be stored in the computer's memory. It is claimed that $x^n \\in S$ if and only if $n$ is odd.\n\nTo prove one part of the assertion made above, it is claimed that all of the expressions in $S$ are odd, i.e. $f(-x) = -f(x)$ for all expressions $f \\in S$. Since $x$ is an odd expression; and since $f \\pm g$ and $\\frac{1}{f}$ are all odd expressions if $f$ and $g$ are odd, it can be concluded that every expression in $S$ is odd. Using this claim and by noting that for even natural number $n$, $x^n$ is even, it can be concluded that $x^n \\notin S$ for all even natural numbers $n$.\n\nFor the other part, it will be shown by induction on $k$ that for every integer $k \\ge -1$, $x^{2k+1} \\in S$.\n\nThe base cases $k = -1, 0$ are trivial ($\\frac{1}{x}, x \\in S$). Suppose that $x^{2k-3}, x^{2k-1} \\in S$. The goal is to show that $x^{2k+1} \\in S$."
    },
    {
      "_provenance": {
        "folder": "IRN_2016",
        "pages_map": {
          "P0": "page44.md",
          "P1": "page45.md",
          "P2": "page46.md"
        }
      },
      "author": "Goodarz Mehr; Mohammad Pour Mohammadi; Hesameddin Rajabzadeh; Yeganeh Alimohammadi; Sepideh Azhdari; Mohsen Jamaali; Erfan Salavati; Mojtaba Zare",
      "booklet title": "2016.pdf",
      "booklet_url": "https://drive.google.com/open?id=15N_uiPkjXEctmHES_rqSTO1x-c7AWQ4X",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2015-2016. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_b30d7aa18318",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P0"
              ],
              "path": "images/2016_p19_data_a8fda4cd9c.png",
              "title": null
            }
          ],
          "label": null,
          "latex": "% IMAGE: ![](images/2016_p19_data_a8fda4cd9c.png)\n\nTo prove this, the law of sines can be used in triangles $PDC$ and $ABD$. It is sufficient to prove that\n\n$$\n\\frac{\\sin(\\angle ADB)}{\\sin(\\angle ABD)} = \\frac{\\sin(\\angle CDP)}{\\sin(\\angle DCP)}.\n$$\n\nBut $\\angle ABD = \\angle DCP$ and $\\angle ADB = 180^\\circ - \\angle CDP$, which means the equation above holds, and this completes the proof.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        },
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2016_p19_data_a8fda4cd9c.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "To prove this, the law of sines can be used in triangles $PDC$ and $ABD$. It is sufficient to prove that\n\n$$\n\\frac{\\sin(\\angle ADB)}{\\sin(\\angle ABD)} = \\frac{\\sin(\\angle CDP)}{\\sin(\\angle DCP)}.\n$$\n\nBut $\\angle ABD = \\angle DCP$ and $\\angle ADB = 180^\\circ - \\angle CDP$, which means the equation above holds, and this completes the proof.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2016_p18_data_258789bd99.png",
          "title": null
        },
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2016_p18_data_258789bd99.png",
          "title": ""
        }
      ],
      "statement_latex": "3. Let $K$ and $T$ be the reflections of $P$ with respect to $M$ and $H$, respectively. According to Thales' Theorem, triangles $AKT$ and $MNH$ are similar. On the other hand, for triangles $ABD$ and $AEC$, $\\angle EBD = \\angle ECD$ and $\\angle BAC$ appears in both triangles; therefore, these two triangles are similar. Now it suffices to prove that triangles $AKT$ and $ABD$ are similar, i.e. it must be shown that $\\angle BAD = \\angle KAT$ and $\\frac{AB}{AD} = \\frac{AK}{AT}$.\n\n% IMAGE: ![](images/2016_p18_data_258789bd99.png)\n\nNote that these relations are equivalent to the similarity of triangles $ADT$ and $ABK$. But $T$ is the reflection of $P$ with respect to line $AC$, so triangles $ADT$ and $ADP$ are congruent and it suffices to show that triangles $APD$ and $ABK$ are similar.\n\nSince diameters of quadrilateral $BPCK$ bisect each other, it is a parallelogram. Thus $BK \\parallel CP$. This implies that\n\n$$\n\\angle ABK = \\angle AEC = 180^\\circ - \\angle BEC = 180^\\circ - \\angle BDC = \\angle ADB.\n$$\n\nFurthermore, since $BPCK$ is a parallelogram, $BK = CP$.\n\nIn order to complete the proof it has to be shown that\n\n$$\n\\frac{AD}{DP} = \\frac{AB}{BK} = \\frac{AB}{CP}.\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2016",
        "pages_map": {
          "P0": "page44.md",
          "P1": "page45.md",
          "P2": "page46.md"
        }
      },
      "author": "Goodarz Mehr; Mohammad Pour Mohammadi; Hesameddin Rajabzadeh; Yeganeh Alimohammadi; Sepideh Azhdari; Mohsen Jamaali; Erfan Salavati; Mojtaba Zare",
      "booklet title": "2016.pdf",
      "booklet_url": "https://drive.google.com/open?id=15N_uiPkjXEctmHES_rqSTO1x-c7AWQ4X",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2015-2016. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_e3f37f2b3455",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Assume to the contrary that no interval is inside another one, and define function $f$ as follows,\n\n$$\nf : \\{2, \\dots, n\\} \\to \\left( \\{0, 1, \\dots, 2n-1\\} - \\{a_{n+1}, a_{n+1} + 1, \\dots, b_{n+1}\\} \\right).\n$$\n\n* If $a_j < a_{n+1}$, define $f(j) := a_j$.\n* If $a_j \\ge a_{n+1}$, define $f(j) := b_j$.\n\nSince no interval is completely inside $I_{n+1}$, for each $2 \\le j \\le n$, if $a_j \\ge a_{n+1}$, then $b_{n+1} < b_j$. Therefore, function $f$ is well-defined. $f$ is injective, because if $f(i) = f(j)$ for some $i < j$, $I_i$ and $I_j$ have a common endpoint, so $I_i \\subseteq I_j$ which contradicts the assumption.\n\nNote that the number of elements in $\\{0, 1, \\dots, 2n-1\\} - \\{a_{n+1}, a_{n+1} + 1, \\dots, b_{n+1}\\}$ is $2n-(n+2) = n-2$, so there are no injective functions from $\\{2, \\dots, n\\}$ to this set, which is a contradiction and proves the assertion.",
          "pages": [
            "P2",
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "5. Consider the interval with length 1. If this interval is inside another one the assertion is proved. Therefore, assume that no other interval contains it. Removing this interval from the circle (i.e. cutting the circle and transforming it into a line) changes the problem to this:\n\n\"*n* intervals $I_2 = [a_2, b_2], \\dots, I_{n+1} = [a_{n+1}, b_{n+1}]$ are inside the interval $[0, 2n-1]$ such that their endpoints are all integers and the length of $I_j$ is *j*. Prove that there exist *i* \\neq *j* such that $I_i \\subseteq I_j$.\""
    },
    {
      "_provenance": {
        "folder": "IRN_2016",
        "pages_map": {
          "P0": "page44.md",
          "P1": "page45.md",
          "P2": "page46.md"
        }
      },
      "author": "Goodarz Mehr; Mohammad Pour Mohammadi; Hesameddin Rajabzadeh; Yeganeh Alimohammadi; Sepideh Azhdari; Mohsen Jamaali; Erfan Salavati; Mojtaba Zare",
      "booklet title": "2016.pdf",
      "booklet_url": "https://drive.google.com/open?id=15N_uiPkjXEctmHES_rqSTO1x-c7AWQ4X",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2015-2016. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_424f28b451b4",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Using a similar argument, it is easy to see that in both cases $a \\subseteq m$ and $b \\subseteq m$.\n\nFinally, if $j = -1$, then $m + 2|n + 1$. Since $m^2 \\le n \\le m^2 + 2m$, then $n + 1 = (m - 1)(m + 2) = m^2 + m - 2$ or $n + 1 = m(m + 2)$.\n\nIn the first case, since $m - 3 < m$,\n\n$$\nn = \\underbrace{m^2}_{a} + \\underbrace{m-3}_{b},\n$$\n\nis a desired decomposition. In the second case,\n\n$$\nn = (m+1)^2 - 2 = (m-2)(m+4) + 7 = \\underbrace{2(m-2)\\left(\\frac{m+4}{2}\\right)}_{a} + \\underbrace{7}_{b}.\n$$\n\nSince $m \\ge 7$, $\\frac{m+4}{2} \\le m$, so $a \\subseteq m$ and $b \\subseteq m$.\n\nThis argument shows that a natural number $n \\ge 50$ can be written as the sum of two natural numbers with prime factors not exceeding $\\sqrt{n}$. **Remark.** All integers $n \\ge 8$, except for 23, have such a decomposition.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "6. The notation $x \\sqsubseteq y$ is used to show that none of prime factors of $x$ exceed $y$. Obviously if $r \\le m$, $r \\sqsubseteq m$; and if $r \\sqsubseteq m$ and $s \\sqsubseteq m$, then $rs \\sqsubseteq m$.\n\nSuppose that $[\\sqrt{n}] = m$. Therefore, $n = m^2 + r$, where $0 \\le r \\le 2m$ ($n \\ge 50$ so $m \\ge 7$). Two cases are possible depending on the parity of $m$.\n\n* $m$ is odd, which means $m+1$ is even. For every number $t \\le m+1$, $t \\sqsubseteq m$ ($*$), because if $1 \\le t \\le m$, obviously $t \\sqsubseteq m$; and if $t = m+1 = 2(\\frac{m+1}{2})$, again $t \\sqsubseteq m$ ($2, \\frac{m+1}{2} \\le m$).\nLet $1 \\le j \\le m+1$ be such that $j \\stackrel{m+1}{\\equiv} n$. It is claimed that\n\n$$\nn = \\underbrace{(n-j)}_{a} + \\underbrace{j}_{b}\n$$\n\nis a desired decomposition. By ($*$), it can be concluded that $b = j \\sqsubseteq m$. On the other hand, $n - j = (m+1)(\\frac{n-j}{m+1})$, where $\\frac{n-j}{m+1} < m+1$. Since $m+1 \\sqsubseteq m$ and $\\frac{n-j}{m+1} \\sqsubseteq m$, $a = n - j \\sqsubseteq m$.\n\n* $m$ is even. Like the previous case, let $-1 \\le j \\le m$ be such that $n \\stackrel{m+2}{\\equiv} j$. If $1 \\le j \\le m$,\n\n$$\nn = \\underbrace{(n-j)}_{a} + \\underbrace{j}_{b};\n$$\n\nand if $j = 0$,\n\n$$\nn = \\underbrace{\\frac{1}{2}n}_{a} + \\underbrace{\\frac{1}{2}n}_{b}.\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2016",
        "pages_map": {
          "P0": "page44.md",
          "P1": "page45.md",
          "P2": "page46.md"
        }
      },
      "author": "Goodarz Mehr; Mohammad Pour Mohammadi; Hesameddin Rajabzadeh; Yeganeh Alimohammadi; Sepideh Azhdari; Mohsen Jamaali; Erfan Salavati; Mojtaba Zare",
      "booklet title": "2016.pdf",
      "booklet_url": "https://drive.google.com/open?id=15N_uiPkjXEctmHES_rqSTO1x-c7AWQ4X",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2015-2016. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_5f8761616180",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "<table><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td>a<sub>1</sub></td><td>a<sub>3</sub></td><td>a<sub>6</sub></td><td>a<sub>10</sub></td><td>...</td></tr><tr><td>a<sub>2</sub></td><td>a<sub>5</sub></td><td>a<sub>9</sub></td><td></td><td>...</td></tr><tr><td>a<sub>4</sub></td><td>a<sub>8</sub></td><td></td><td></td><td>...</td></tr><tr><td>a<sub>7</sub></td><td></td><td></td><td></td><td>...</td></tr><tr><td>...</td><td></td><td></td><td></td><td>...</td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr></table>",
              "title": null
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "<table><tr><td>a<sub>1</sub></td><td>a<sub>3</sub></td><td>a<sub>6</sub></td><td>a<sub>10</sub></td><td>...</td></tr><tr><td>a<sub>2</sub></td><td>a<sub>5</sub></td><td>a<sub>9</sub></td><td>a<sub>14</sub></td><td>...</td></tr><tr><td>a<sub>4</sub></td><td>a<sub>8</sub></td><td>a<sub>13</sub></td><td></td><td>...</td></tr><tr><td>a<sub>7</sub></td><td>a<sub>12</sub></td><td></td><td></td><td>...</td></tr><tr><td>a<sub>11</sub></td><td></td><td></td><td></td><td>...</td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr></table>",
              "title": null
            }
          ],
          "label": null,
          "latex": "In each step of the algorithm, some cells of the table are filled in a way that after the $j^{th}$ step $a_j$ is filled. Suppose that $a_j$ is at the intersection of the $k^{th}$ row and the $l^{th}$ column.\n\ni. If $a_j$ was empty before the $j^{th}$ step, the smallest natural number that has not yet appeared in the table is written in $a_j$ at that step.\n\nii. The number in $a_j$ should be equal to the number of repetitions of $l$ in the $(k-1)^{th}$ row of the table $(*)$. For this reason, enough $l$'s should be put in the first empty cells of the $(k-1)^{th}$ row so that the number of $l$'s becomes equal to the number written in $a_j$. Using this algorithm, if $l > T$, before this step no $l$ exists in the $(k-1)^{th}$ row; and if $l \\le T$, at most one such $l$ exists (the one in the first column). The reason is that every number that has been written in the $(k-1)^{th}$ row before this step, except the first number, is written when the algorithm was used for the first $l-1$ cells of the row, and in those steps only numbers less than $l$ were written. Since the number in $a_j$ is positive, it was not less than the number of $l$'s in the $(k-1)^{th}$ row (before this step), so a sufficient number of $l$'s (maybe zero) can always be added to satisfy $(*)$.\n\niii. If $a_j$ is in the second row, after the previous step the numbers in the first row should be copied into the cells of the last row.\n\nUsing this algorithm, all of the cells of the table are filled with natural numbers, and if $f_i(j)$ is defined to be the number in the $j^{th}$ cell of the $i^{th}$ row, $f_i$'s satisfy all of the problem's conditions.\n\nb) Yes! To construct such functions an approach similar to the previous part is used, utilizing a table which is infinite from right and below. Like part (a), $j$ is written in the $j^{th}$ cell of the first column and the cells of the table, except those of the first row, are labeled by $a_1, a_2, \\dots$ like the following table.\n\nThe table can be filled using the algorithm of part (a) (since no bottom row exists in this table, part iii of the algorithm is not necessary). Like before, it can be showed that $a_j$ is filled at the $j^{th}$ step and if $a_j$ is the intersection of the $k^{th}$ row and the $l^{th}$ column, the number in $a_j$ is not less than the number of $l$'s in the $(k-1)^{th}$ row.\n\nAgain, if $f_i(j)$ is defined as the number in the intersection of the $i^{th}$ row and the $j^{th}$ column, $f_i$'s satisfy all of the problem's conditions; and since the numbers in the first column are all distinct, functions $f_i$ are mutually unequal.",
          "pages": [
            "P0",
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P1"
          ],
          "path": "<table><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td>a<sub>1</sub></td><td>a<sub>3</sub></td><td>a<sub>6</sub></td><td>a<sub>10</sub></td><td>...</td></tr><tr><td>a<sub>2</sub></td><td>a<sub>5</sub></td><td>a<sub>9</sub></td><td></td><td>...</td></tr><tr><td>a<sub>4</sub></td><td>a<sub>8</sub></td><td></td><td></td><td>...</td></tr><tr><td>a<sub>7</sub></td><td></td><td></td><td></td><td>...</td></tr><tr><td>...</td><td></td><td></td><td></td><td>...</td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr></table>",
          "title": null
        },
        {
          "alt": "",
          "pages": [
            "P2"
          ],
          "path": "<table><tr><td>a<sub>1</sub></td><td>a<sub>3</sub></td><td>a<sub>6</sub></td><td>a<sub>10</sub></td><td>...</td></tr><tr><td>a<sub>2</sub></td><td>a<sub>5</sub></td><td>a<sub>9</sub></td><td>a<sub>14</sub></td><td>...</td></tr><tr><td>a<sub>4</sub></td><td>a<sub>8</sub></td><td>a<sub>13</sub></td><td></td><td>...</td></tr><tr><td>a<sub>7</sub></td><td>a<sub>12</sub></td><td></td><td></td><td>...</td></tr><tr><td>a<sub>11</sub></td><td></td><td></td><td></td><td>...</td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr></table>",
          "title": null
        }
      ],
      "statement_latex": "2. a) Consider a table with $T+1$ rows and an infinite number of columns (towards right) such that the first column is filled by numbers $1, 2, \\dots, T$ and $1$. An algorithm is introduced for filling the cells of the table, then $f_i(j)$ is defined as the value of the intersection cell of the $i^{th}$ row and the $j^{th}$ column of the table.\n\n\\begin{tabular}{|c|c|c|c|}\n\\hline\n1 &  &  & ... \\\\\n\\hline\n2 &  &  & ... \\\\\n\\hline\n3 &  &  & ... \\\\\n\\hline\n... &  &  & ... \\\\\n\\hline\nT-1 &  &  & ... \\\\\n\\hline\nT &  &  & ... \\\\\n\\hline\n1 &  &  & ... \\\\\n\\hline\n\\end{tabular}\n\nLabel the cells of the table, except those of the first row, by $a_1, a_2, a_3, \\dots$, like the following table.\n% IMAGE: <table><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td>a<sub>1</sub></td><td>a<sub>3</sub></td><td>a<sub>6</sub></td><td>a<sub>10</sub></td><td>...</td></tr><tr><td>a<sub>2</sub></td><td>a<sub>5</sub></td><td>a<sub>9</sub></td><td></td><td>...</td></tr><tr><td>a<sub>4</sub></td><td>a<sub>8</sub></td><td></td><td></td><td>...</td></tr><tr><td>a<sub>7</sub></td><td></td><td></td><td></td><td>...</td></tr><tr><td>...</td><td></td><td></td><td></td><td>...</td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr></table>\n\nIn each step of the algorithm, some cells of the table are filled in a way that after the $j^{th}$ step $a_j$ is filled. Suppose that $a_j$ is at the intersection of the $k^{th}$ row and the $l^{th}$ column.\n\ni. If $a_j$ was empty before the $j^{th}$ step, the smallest natural number that has not yet appeared in the table is written in $a_j$ at that step.\n\nii. The number in $a_j$ should be equal to the number of repetitions of $l$ in the $(k-1)^{th}$ row of the table $(*)$. For this reason, enough $l$'s should be put in the first empty cells of the $(k-1)^{th}$ row so that the number of $l$'s becomes equal to the number written in $a_j$. Using this algorithm, if $l > T$, before this step no $l$ exists in the $(k-1)^{th}$ row; and if $l \\le T$, at most one such $l$ exists (the one in the first column). The reason is that every number that has been written in the $(k-1)^{th}$ row before this step, except the first number, is written when the algorithm was used for the first $l-1$ cells of the row, and in those steps only numbers less than $l$ were written. Since the number in $a_j$ is positive, it was not less than the number of $l$'s in the $(k-1)^{th}$ row (before this step), so a sufficient number of $l$'s (maybe zero) can always be added to satisfy $(*)$.\n\niii. If $a_j$ is in the second row, after the previous step the numbers in the first row should be copied into the cells of the last row.\n\nUsing this algorithm, all of the cells of the table are filled with natural numbers, and if $f_i(j)$ is defined to be the number in the $j^{th}$ cell of the $i^{th}$ row, $f_i$'s satisfy all of the problem's conditions.\n\nb) Yes! To construct such functions an approach similar to the previous part is used, utilizing a table which is infinite from right and below. Like part (a), $j$ is written in the $j^{th}$ cell of the first column and the cells of the table, except those of the first row, are labeled by $a_1, a_2, \\dots$ like the following table.\n% IMAGE: <table><tr><td>a<sub>1</sub></td><td>a<sub>3</sub></td><td>a<sub>6</sub></td><td>a<sub>10</sub></td><td>...</td></tr><tr><td>a<sub>2</sub></td><td>a<sub>5</sub></td><td>a<sub>9</sub></td><td>a<sub>14</sub></td><td>...</td></tr><tr><td>a<sub>4</sub></td><td>a<sub>8</sub></td><td>a<sub>13</sub></td><td></td><td>...</td></tr><tr><td>a<sub>7</sub></td><td>a<sub>12</sub></td><td></td><td></td><td>...</td></tr><tr><td>a<sub>11</sub></td><td></td><td></td><td></td><td>...</td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr></table>\n\n\\begin{tabular}{|c|c|c|c|c|}\n\\hline\n1 &  &  &  & ... \\\\\n\\hline\n2 &  &  &  & ... \\\\\n\\hline\n3 &  &  &  & ... \\\\\n\\hline\n4 &  &  &  & ... \\\\\n\\hline\n5 &  &  &  & ... \\\\\n\\hline\n6 &  &  &  & ... \\\\\n\\hline\n\\vdots & \\vdots & \\vdots & \\vdots & \\vdots \\\\\n\\hline\n\\end{tabular}\n\nThe table can be filled using the algorithm of part (a) (since no bottom row exists in this table, part iii of the algorithm is not necessary). Like before, it can be showed that $a_j$ is filled at the $j^{th}$ step and if $a_j$ is the intersection of the $k^{th}$ row and the $l^{th}$ column, the number in $a_j$ is not less than the number of $l$'s in the $(k-1)^{th}$ row.\n\nAgain, if $f_i(j)$ is defined as the number in the intersection of the $i^{th}$ row and the $j^{th}$ column, $f_i$'s satisfy all of the problem's conditions; and since the numbers in the first column are all distinct, functions $f_i$ are mutually unequal."
    },
    {
      "_provenance": {
        "folder": "IRN_2016",
        "pages_map": {
          "P0": "page44.md",
          "P1": "page45.md",
          "P2": "page46.md"
        }
      },
      "author": "Goodarz Mehr; Mohammad Pour Mohammadi; Hesameddin Rajabzadeh; Yeganeh Alimohammadi; Sepideh Azhdari; Mohsen Jamaali; Erfan Salavati; Mojtaba Zare",
      "booklet title": "2016.pdf",
      "booklet_url": "https://drive.google.com/open?id=15N_uiPkjXEctmHES_rqSTO1x-c7AWQ4X",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2015-2016. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_97b12dce8900",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "The table can be filled using the algorithm of part (a) (since no bottom row exists in this table, part iii of the algorithm is not necessary). Like before, it can be showed that $a_j$ is filled at the $j^{th}$ step and if $a_j$ is the intersection of the $k^{th}$ row and the $l^{th}$ column, the number in $a_j$ is not less than the number of $l$'s in the $(k-1)^{th}$ row.\n\nAgain, if $f_i(j)$ is defined as the number in the intersection of the $i^{th}$ row and the $j^{th}$ column, $f_i$'s satisfy all of the problem's conditions; and since the numbers in the first column are all distinct, functions $f_i$ are mutually unequal.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "In each step of the algorithm, some cells of the table are filled in a way that after the $j^{th}$ step $a_j$ is filled. Suppose that $a_j$ is at the intersection of the $k^{th}$ row and the $l^{th}$ column.\n\ni. If $a_j$ was empty before the $j^{th}$ step, the smallest natural number that has not yet appeared in the table is written in $a_j$ at that step.\n\nii. The number in $a_j$ should be equal to the number of repetitions of $l$ in the $(k-1)^{th}$ row of the table $(*)$. For this reason, enough $l$'s should be put in the first empty cells of the $(k-1)^{th}$ row so that the number of $l$'s becomes equal to the number written in $a_j$. Using this algorithm, if $l > T$, before this step no $l$ exists in the $(k-1)^{th}$ row; and if $l \\le T$, at most one such $l$ exists (the one in the first column). The reason is that every number that has been written in the $(k-1)^{th}$ row before this step, except the first number, is written when the algorithm was used for the first $l-1$ cells of the row, and in those steps only numbers less than $l$ were written. Since the number in $a_j$ is positive, it was not less than the number of $l$'s in the $(k-1)^{th}$ row (before this step), so a sufficient number of $l$'s (maybe zero) can always be added to satisfy $(*)$.\n\niii. If $a_j$ is in the second row, after the previous step the numbers in the first row should be copied into the cells of the last row.\n\nUsing this algorithm, all of the cells of the table are filled with natural numbers, and if $f_i(j)$ is defined to be the number in the $j^{th}$ cell of the $i^{th}$ row, $f_i$'s satisfy all of the problem's conditions.\n\nb) Yes! To construct such functions an approach similar to the previous part is used, utilizing a table which is infinite from right and below. Like part (a), $j$ is written in the $j^{th}$ cell of the first column and the cells of the table, except those of the first row, are labeled by $a_1, a_2, \\dots$ like the following table."
    },
    {
      "_provenance": {
        "folder": "IRN_2016",
        "pages_map": {
          "P0": "page44.md",
          "P1": "page45.md",
          "P2": "page46.md"
        }
      },
      "author": "Goodarz Mehr; Mohammad Pour Mohammadi; Hesameddin Rajabzadeh; Yeganeh Alimohammadi; Sepideh Azhdari; Mohsen Jamaali; Erfan Salavati; Mojtaba Zare",
      "booklet title": "2016.pdf",
      "booklet_url": "https://drive.google.com/open?id=15N_uiPkjXEctmHES_rqSTO1x-c7AWQ4X",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2015-2016. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_77fcc40779d5",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "triangles must be in the same plane. On the other hand, the vertices of triangle YZT are on the perpendicular lines from X to AB, AC and AD, which is a contradiction to the fact that YZT is on the same plane as BCD.\n\nNext, it is claimed that the third case is possible for at most two vertices of *XYZT*. Assume that those edges of *ABCD* perpendicular to the edges connected to X in *XYZT* form an open path. It is obvious that there exist exactly two faces of *ABCD* (say $P_{1X}$ and $P_{2X}$) such that each one contains exactly two edges of this path.\n\n\\textbf{Lemma.} \\textit{Tetrahedron ABCD and vertex X must be on different sides of P, for i = 1 and 2.}\n\n\\textit{Proof.} Assume to the contrary that *ABCD* is on the same side of $P_{iX}$ as *X*, for *i* = 1 or 2. Let *f* be the face of *ABCD* contained in $P_{iX}$. Two vertices of *XYZT* lie on the extensions of perpendiculars from *X* to edges of *f* and so lie on the opposite side of *X*. On the other hand, these vertices create an edge that must be perpendicular to an edge of *ABCD*. This is impossible, however, since they lie on opposite sides, and proves the lemma.\n\nUsing the lemma it can be concluded that *X* is in the smaller region between $P_{1X}$ and $P_{2X}$ and outside *ABCD*. This lemma can be applied to any other vertex, say *Y*, for which the edges connected to it are perpendicular to an open path. It is claimed that there can be at most two such vertices. To prove it, assume to the contrary that there are more than two such vertices. Then using the pigeonhole principle, two vertices, say *X* and *Y*, have a common associated plane, i.e. $P_{iX} = P_{jY}$. So according to the lemma, *X* and *Y* must be on the same side of this plane and apart from *ABCD*. This is impossible, however, because *XY* must intersects an edge of *ABCD*.\n\nIt can be concluded that the third case is possible for at most two vertices of *XYZT*, so the first case is possible for at least two vertices of that tetrahedron. Using the following lemma, the place of these two vertices can be uniquely determined by *ABCD*. Now, perpendicular lines from these two vertices to three edges of *ABCD* determine the lines on which 5 edges of *XYZT* are located, so all of the vertices of *XYZT* are uniquely determined.\n\n\\textbf{Lemma.} \\textit{Consider an equilateral triangle ABC and a point D outside of the plane of ABC such that the angle between mutual perpendicular lines from D to the sides of ABC is 60\\degree. Prove that $B_1, C_1$ and $A_1$ (feet of perpendicular lines from D to sides AC, AB and BC, respectively) are the midpoints of sides AC, AB and BC, respectively.}",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P1"
          ],
          "path": "images/2016_p25_data_5030c1cb45.png",
          "title": ""
        }
      ],
      "statement_latex": "3. a) The following figure of a cube ABCDEFGH shows that the two regular tetrahedra ACHF and BDEG are perpendicular.\n\n% IMAGE: ![](images/2016_p25_data_5030c1cb45.png)\n\nb) Consider two perpendicular tetrahedra *ABCD* and *XYZT*. One of the following cases involves those three edges of *ABCD* that are perpendicular to edges *XY*, *XZ* and *XT* of *XYZT*:\n\n* These edges form a triangle in *ABCD*.\n* They have a common vertex.\n* They form an open path.\n\nIt will be shown that the second case is not possible. Assume to the contrary that the edges connected to *X* in *XYZT* are perpendicular to the edges connected to (for instance) *A* in *ABCD*, so the edges of triangles *BCD* and *YZT* should be perpendicular. Therefore, these two"
    },
    {
      "_provenance": {
        "folder": "IRN_2016",
        "pages_map": {
          "P0": "page44.md",
          "P1": "page45.md",
          "P2": "page46.md"
        }
      },
      "author": "Goodarz Mehr; Mohammad Pour Mohammadi; Hesameddin Rajabzadeh; Yeganeh Alimohammadi; Sepideh Azhdari; Mohsen Jamaali; Erfan Salavati; Mojtaba Zare",
      "booklet title": "2016.pdf",
      "booklet_url": "https://drive.google.com/open?id=15N_uiPkjXEctmHES_rqSTO1x-c7AWQ4X",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2015-2016. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_edbc2bb4edda",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2016_p27_data_e13926f5c8.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "Proof. Form the net of ABCD like the following pictures, where $AB' = AC' = AD$, $BA' = BC' = BD$ and $CA' = CB' = CD$.\n\n% IMAGE: ![](images/2016_p27_data_e13926f5c8.png)\n\nPoint $E$ is located on the plane such that $EC_1 = C'C_1$ and $EB_1 = B'B_1$. First, suppose that $E \\neq A$. Then two triangles $EB_1C_1$ and $DB_1C_1$ are obviously congruent, so $\\angle C_1EB_1 = \\angle C_1DB_1 = 60^\\circ$. Therefore, quadrilateral $EAB_1C_1$ is cyclic. Using Pythagoras' Theorem for segments $AC'$ and $AB'$ results in\n\n\\[\nAC_1^2 + EC_1^2 = AC_1^2 + C'C_1^2 = AC'^2 = AB'^2 = AB_1^2 + B'B_1^2 = AB_1^2 + EB_1^2.\n\\]\n\nOn the other hand, using the Cosine Theorem for side $AE$ in triangles $AEC_1$ and $AEB_1$ results in\n\n\\[\nAB_1^2 + EB_1^2 - 2AB_1.EB_1 \\cos \\alpha = AC_1^2 + EC_1^2 - 2AC_1.EC_1 \\cos \\alpha.\n\\]\n\nSince $\\cos \\alpha \\neq 0$ ($E \\neq A$), $AC_1.EC_1 = AB_1.EB_1$. This implies that the area of triangles $AEC_1$ and $AEB_1$ is equal, so $AE \\parallel B_1C_1$. Now, using the fact that $EAB_1C_1$ is a cyclic quadrilateral, it can be concluded that $AB_1 = EC_1 = C'C_1$ and $AC_1 = EB_1 = B'B_1$.\n\nBy defining points $F$ and $G$ similar to $E$ and following the argument above, it can be concluded that $A'A_1 = AB_1 = AC_1$, which implies that $E = A$.\n\nNow, assuming that $E = A$, $AC_1 = C'C_1$ and $AB_1 = B'B_1$. Since $AC' = AB'$ and $AB_1 = AC_1 = \\frac{\\sqrt{2}}{2}AC'$, it can be concluded that $CB_1 = BC_1$. Therefore, $B'C = C'B$ which results in $BA' = C'B = B'C = CA'$. This implies that $A_1$ is the midpoint of $BC$. Continuing this argument by using points $F$ and $G$, it is easy to show that $B_1$ is the midpoint of $AC$ and $C_1$ is the midpoint of $AB$, as desired.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Lemma. Consider an equilateral triangle ABC and a point D outside of the plane of ABC such that the angle between mutual perpendicular lines from D to the sides of ABC is $60^\\circ$. Prove that $B_1, C_1$ and $A_1$ (feet of perpendicular lines from D to sides AC, AB and BC, respectively) are the midpoints of sides AC, AB and BC, respectively."
    },
    {
      "_provenance": {
        "folder": "IRN_2016",
        "pages_map": {
          "P0": "page44.md",
          "P1": "page45.md",
          "P2": "page46.md"
        }
      },
      "author": "Goodarz Mehr; Mohammad Pour Mohammadi; Hesameddin Rajabzadeh; Yeganeh Alimohammadi; Sepideh Azhdari; Mohsen Jamaali; Erfan Salavati; Mojtaba Zare",
      "booklet title": "2016.pdf",
      "booklet_url": "https://drive.google.com/open?id=15N_uiPkjXEctmHES_rqSTO1x-c7AWQ4X",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2015-2016. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_640767f6292d",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "*   **Starting State:** $(s_X, s_B)$.\n*   **Transition Function:** When $r$ is entered, the state of the Machine changes from $(x, y)$ to $(x', y')$, where $y'$ is the state of $B$ after entering $r$ when it is in state $y$. Now, if $(a, b)$ is the output of $y'$, $x'$ will be the state of $X$ after entering $a$ when it is in state $x$.\n\nTo compute $c_n = a_{2n}$, first define a Machine $C$ similar to $B$ for the purpose of multiplication by 2. Then use $C$ instead of $B$ in the definition of $Y$ above to get the desired result. The Machine $C$ is described as follows:\n\n*   **Inputs:** Set $\\{0, 1, \\dots, k-1\\}$.\n*   **States:** A state exists for each pair $(a, b)$ of integers, where $0 \\le a < k$ and $b \\in \\{0, 1\\}$.\n*   **Outputs:** The output of state $(a, b)$ is $(a, b)$ itself.\n*   **Starting State:** $(0, 0)$.\n*   **Transition Function:** When $r$ is entered, the state of the Machine changes from $(a, b)$ to $(a', b')$, where $a'$ and $b'$ are the quotient and remainder of $2r + b$ when divided by $k$, respectively.\n\nc) No! Assume to the contrary that $X$ is a Machine that computes $(a_n)$ in base 3. Let $N$ be the number of states of $X$. Note that for a sufficiently large natural number $m$, the number of $m$-digit perfect square numbers in base 3 is more than $N$. So there are two perfect squares $a$ and $b$ such that after entering digits of these two numbers to $X$ (from right) the same state is reached. Therefore, entering numbers of the form $a + 3^m n$ and $b + 3^m n$ results in the same output. Hence if $(a_n)$ is 3-Computable, then for each natural number $n$, $a + 3^m n$ is a perfect square if and only if $b + 3^m n$ is a perfect square. But this is impossible, because the difference of these numbers is $b - a$ (which is constant), whereas the difference of consecutive perfect square numbers approaches infinity.\n\nd) Suppose that $X$ is a Machine with inputs from the set $\\{0, 1, \\dots, k-1\\}$. It will be shown that each $k$-Computable sequence is $k$-Left Computable, the converse can be proved similarly. To do this, it suffices to introduce a Machine $Y$ with the same input set as $X$ such that the output of $Y$ after entering digits of a number from left to right equals to the output of $X$ after entering digits of that same number from right to left. Suppose that $\\{s_1, s_2, \\dots, s_m\\}$ is the state set of $X$, $s_1$ its Starting State and $x_i$ the output of state $s_i$. The following Machine will perform the desired operation:\n\n* **Inputs:** Set $\\{0, 1, \\dots, k-1\\}$.\n* **States:** All $m$-tuples $(A_1, A_2, \\dots, A_m)$ of partitions of the set $\\{s_1, s_2, \\dots, s_m\\}$.\n* **Outputs:** The output of state $(A_1, A_2, \\dots, A_m)$ will be $A_i$, where $s_1 \\in A_i$.\n* **Starting State:** $(\\{s_1\\}, \\{s_2\\}, \\dots, \\{s_m\\})$.\n* **Transition Function:** When $r$ is entered, the state of the Machine changes from $(A_1, A_2, \\dots, A_m)$ to $(B_1, B_2, \\dots, B_m)$, where $B_i$ is the set of all those states of $X$ that change to a state in $A_i$ after entering $r$ in $X$.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "when divided by *m*. The following describes a Machine for computing\nthe remainder of a given number modulo *m* in base *k*:\n\n* **Inputs:** Set $\\{0, 1, \\dots, k-1\\}$.\n* **States:** A state exists for each pair $(i, j)$ of $\\{0, 1, \\dots, m-1\\}$.\n* **Outputs:** The output of state $(i, j)$ is $j$.\n* **Starting State:** $(1, 0)$.\n\n* **Transition Function:** When *r* is entered, the state of the Machine changes from (*i*, *j*) to (*i'*, *j'*), where *i'* and *j'* are the remainders of *ki* and *j* + *ri* when divided by *m*, respectively.\n\nb) Let $X$ be the Machine that computes $(a_n)$ in base $k$. To introduce a Machine that computes $(b_n)$, where $b_n = a_{n+1}$, in base $k$, first a Machine is designed that takes an $r$-digit number $n$ as input and gives $(a, b)$ as output, where $a$ and $b$ are the $r^{th}$ and $(r+1)^{th}$ digits of $n+1$ in base $k$ (from right). Note that $n+1$ has at most $r+1$ digits, and if it has only $r$ digits, then $b$ will be zero. The following Machine will perform this operation:\n\n* **Inputs:** Set $\\{0, 1, \\dots, k-1\\}$.\n* **States:** A state exists for each pair $(a, b)$ of integers, where $0 \\le a < k$ and $b \\in \\{0, 1\\}$.\n* **Outputs:** The output of state $(a, b)$ is $(a, b)$ itself.\n* **Starting State:** $(1, 0)$.\n\n* **Transition Function:** When *r* is entered, the state of the Machine changes from (*a*, *b*) to (*a'*, *b*'), where *a'* is the remainder of *r* + *b* when divided by *m*, and *b'* is 0 for *r* + *b* < *k* and 1 elsewhere.\n\nCall this Machine *B*. Now, make Machine *Y* from *B* and *X* to compute (*b*<sub>*n*</sub>). Denote the set of states and the Starting State of *X* by *S*<sub>*X*</sub> and *S*<sub>*B*</sub>, respectively. *S*<sub>*B*</sub> and *S*<sub>*B*</sub> are defined similarly. The following Machine will perform the desired operation:\n\n* **Inputs:** Set $\\{0, 1, \\dots, k-1\\}$.\n* **States:** $S_X \\times S_B$.\n\n* **Outputs:** The output of state $(x, y)$, where $x \\in S_X$ and $y \\in S_B$, is defined as follows: Let $(a, b)$ be the output of state $y$ in $B$. Now, if $b = 0$, define the output of $(x, y)$ (in $Y$) to be equal to the output of $x$ (in $X$); and if $b \\neq 0$, define it to be the output of $X$ after entering $b$ when $X$ is in state $x$."
    },
    {
      "_provenance": {
        "folder": "IRN_2016",
        "pages_map": {
          "P0": "page44.md",
          "P1": "page45.md",
          "P2": "page46.md"
        }
      },
      "author": "Goodarz Mehr; Mohammad Pour Mohammadi; Hesameddin Rajabzadeh; Yeganeh Alimohammadi; Sepideh Azhdari; Mohsen Jamaali; Erfan Salavati; Mojtaba Zare",
      "booklet title": "2016.pdf",
      "booklet_url": "https://drive.google.com/open?id=15N_uiPkjXEctmHES_rqSTO1x-c7AWQ4X",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2015-2016. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_6f1f7fc3b112",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2016_p33_data_4ffaf7c89b.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2016_p34_data_7fcd3f7175.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "Apollonius circle (note that circles in this new metric are Euclidean squares with diagonals parallel to the coordinate axes). This intersection is a segment which is denoted by *ML* (as can be seen in the following figure). The intersection of similar circles for *D* (instead of *C*) determines another part of the Apollonius circle and is denoted by *ON* (as can be seen in the following figure). In what that follows, without loss of generality assume that *m* > 1.\n\nAn easy calculation reveals that the slope of segment *LN* is $\\frac{m-1}{m+1}$. For an arbitrary point *Z* on this segment,\n\n$$d(A, Z) = d(A, N) - \\left| x_Z - x_N \\right| - \\left| y_Z - y_N \\right|,$$\n$$d(B, Z) = d(B, N) - \\left| x_Z - x_N \\right| + \\left| y_Z - y_N \\right|.$$\n\nSince $\\frac{|y_Z - y_N|}{|x_Z - x_N|} = \\frac{m-1}{m+1}$ and $d(A, N) = md(B, N)$, it can be deduced that $d(A, Z) = md(B, Z)$. Therefore, all of the points of segment *LN* are on the Apollonius circle. A similar argument will show that all of the points of segment *OM* are on the Apollonius circle, too. For an arbitrary point *P* of the plane not on the boundary of *OMLN*, the quotient $\\frac{d(A,P)}{d(B,P)}$ is greater or less than *m*. Therefore, the Apollonius circle of points *A* and *B* in this new metric comprises points on the boundary of quadrilateral *OMLN*.\n\n% IMAGE: ![](images/2016_p33_data_4ffaf7c89b.png)\n\nc) The goal is to find the parabola created by point $F = (0, 0)$ and line $l$ with equation $y = mx + c$. For an arbitrary point $P$ in the plane, draw two lines from $P$ parallel to the coordinate axes. These two lines intersect $l$ at two points, say $X$ and $Y$. It can be seen that $\\min(PX, PY)$ is the distance from $P$ to $l$.\n\nWithout loss of generality, assume that $m \\ge 1$ and $c > 0$. Therefore, the distance from a point $(x, y)$ in the plane to $l$ is equal to $|x - \\frac{y-c}{m}|$ (length of the horizontal segment from $(x, y)$ to $l$). So for finding the\n\npoints of the parabola the following equation must be solved,\n\n$$\n|x| + |y| = \\left|x - \\frac{y-c}{m}\\right| + \\left|y - c\\right| = \\left|x - \\frac{y-c}{m}\\right|,\n$$\n\nor equivalently,\n\n$$\nm|x| + m|y| = |mx + c - y|.\n$$\n\nFor an arbitrary point $(x, y)$ in the plane above line $l$ ($y > mx + c$),\n\n$$\nm|x| + m|y| \\geq m|x| + |y| \\geq -mx + y > y - mx - c = |y - mx - c|.\n$$\n\nTherefore, all of the points of the parabola lie below $l$ ($y < mx + c$). Evaluating cases resulting from the sign of $x$ and $y$, it can be seen that the parabola is the union of the following four segments (Similar to the following figure):\n\n$$\n\\begin{cases} y = \\frac{c}{m+1}, & \\text{for } x > 0, y > 0 \\\\ y = \\frac{c}{1-m}, & \\text{for } x > 0, y < 0 \\\\ 2mx - (m+1)y + c = 0, & \\text{for } x < 0, y > 0 \\\\ 2mx + (m-1)y + c = 0, & \\text{for } x < 0, y < 0 \\end{cases}\n$$\n\n% IMAGE: ![](images/2016_p34_data_7fcd3f7175.png)\n\nd) Yes. To prove it, a lemma is needed.\n\n**Lemma.** Let $A'$, $B'$ and $C'$ be three points on sides BC, AC and AB of triangle ABC, respectively, such that\n\n$$\n\\frac{d(B, A')}{d(C, A')} \\frac{d(C, B')}{d(A, B')} \\frac{d(A, C')}{d(B, C')} = 1.\n$$\n\nThen lines $AA'$, $BB'$ and $CC'$ are concurrent.\n\n*Proof.* According to the assumption and the lemma in part (b),\n\n$$\n\\frac{BA' CB' AC'}{CA' AB' BC'} = 1.\n$$\n\nTherefore, due to Ceva's Theorem in Euclidean geometry these lines are concurrent.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2016_p32_data_216634a473.png",
          "title": ""
        },
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2016_p32_data_048fa77838.png",
          "title": ""
        },
        {
          "alt": "",
          "pages": [
            "P1"
          ],
          "path": "images/2016_p33_data_4ffaf7c89b.png",
          "title": ""
        },
        {
          "alt": "",
          "pages": [
            "P2"
          ],
          "path": "images/2016_p34_data_7fcd3f7175.png",
          "title": ""
        }
      ],
      "statement_latex": "$(x, y)$ satisfying\n\n$$\n|x - x_b| + |y - y_b| = |x - x_a| + |y - y_a|.\n$$\n\nDraw two lines from each of the points $A$ and $B$ parallel to the coordinate axes to create a rectangle $ACBD$. Based on the slope of $AB$ two cases are possible:\n\n* The slope of $AB$ is $1$ or $-1$. In this case the perpendicular bisector of $A$ and $B$ is the union of segment $CD$ and the hatched parts in the figure below (The figure is drawn for the case where the slope is $1$. The other case is similar):\n\n% IMAGE: ![](images/2016_p32_data_216634a473.png)\n\n* The slope of $AB$ is not $\\pm 1$. Assume that this slope is positive and greater than one. The following figure shows the perpendicular bisector of $A$ and $B$ in this case. Other cases are similar.\n\n% IMAGE: ![](images/2016_p32_data_048fa77838.png)\n\nb) First, a lemma is presented.\n\n**Lemma.** For every point $Z$ on line $XY$, $\\frac{d(X,Z)}{d(Y,Z)} = \\frac{XZ}{YZ}$.\n\n*Proof.* It can be derived from Thales' Theorem easily.\n\nConsider points $C$ and $D$ on line $AB$ such that $C$ is inside segment $AB$, $D$ is outside of it and $\\frac{AC}{CB} = \\frac{AD}{DB} = m$. Obviously, points satisfying these properties are unique and according to the lemma, $\\frac{d(A,C)}{d(C,B)} = \\frac{d(A,D)}{d(D,B)} = m$.\n\nBy definition, the intersection of the circle with center $A$ and radius $d(A, C)$ and the circle with center $B$ and radius $d(B, C)$ lies on the"
    },
    {
      "_provenance": {
        "folder": "IRN_2016",
        "pages_map": {
          "P0": "page44.md",
          "P1": "page45.md",
          "P2": "page46.md"
        }
      },
      "author": "Goodarz Mehr; Mohammad Pour Mohammadi; Hesameddin Rajabzadeh; Yeganeh Alimohammadi; Sepideh Azhdari; Mohsen Jamaali; Erfan Salavati; Mojtaba Zare",
      "booklet title": "2016.pdf",
      "booklet_url": "https://drive.google.com/open?id=15N_uiPkjXEctmHES_rqSTO1x-c7AWQ4X",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2015-2016. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_578334f78cf8",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Let $p = \\frac{1}{2}(d(A, B) + d(B, C) + d(C, A))$. So $d(B, X_a) + d(A, B) = d(C, X_a) + d(A, C) = p$. Therefore, $d(B, X_a) = p - d(A, B)$ and $d(C, X_a) = p - d(A, C)$. Similar equalities for $X_b$ and $X_c$ imply\n\n\\[\n\\frac{d(B, X_a)}{d(C, X_a)} \\frac{d(C, X_b)}{d(A, X_b)} \\frac{d(A, X_c)}{d(B, X_c)} = 1.\n\\]\n\nNow according to the lemma, it is easy to see that these lines are concurrent.\n\ne) No. Assume to the contrary that $S$ is an infinite set of points in the plane such that the mutual distances of its point are all perfect squares.\n\n\\textbf{Lemma.} \\textit{There is no infinite subset $\\{P_1 = (x_1, y_1), P_2 = (x_2, y_2), \\dots\\}$ of $S$ for which the two sequences $\\{x_i\\}$ and $\\{y_i\\}$ are both monotone.}\n\n\\textit{Proof.} Assume to the contrary that there exists an infinite set of points $P_i = (x_i, y_i)$ in $S$ such that both sequences $\\{x_i\\}$ and $\\{y_i\\}$ are increasing sequences (other cases can be proven similarly). For each natural number $j > 2$, let $a_j = \\sqrt{d(P_1, P_j)} \\in \\mathbb{N}$ and $b_j = \\sqrt{d(P_2, P_j)} \\in \\mathbb{N}$. As both sequences $\\{x_j\\}$ and $\\{y_j\\}$ are increasing, for every natural number $j > 2$,\n\n\\[\na_j^2 = d(P_1, P_j) = d(P_1, P_2) + d(P_2, P_j) = d(P_1, P_2) + b_j^2.\n\\]\n\nSince sequences $a_j$ and $b_j$ are increasing, $d(P_1, P_2)$ can be written in infinitely many ways as the difference of two perfect squares $(d(P_1, P_2) = a_j^2 - b_j^2)$. This is impossible, however, and proves that $S$ cannot exist.\n\nBy a translation it can be assumed that $S$ contains the origin of the coordinate. It is claimed that the number of points of $S$ in the first coordinate quadrant is finite and because of symmetry, the number of points in each quadrant is finite. Therefore, $S$ is a finite set.\n\nIf set $\\{y \\ge 0 | \\exists x \\ge 0; (x, y) \\in S\\}$ is unbounded, then an infinite subset $\\{P_1 = (x_1, y_1), P_2 = (x_2, y_2), \\dots\\}$ of $S$ can be found such that $y_1 < y_2 < \\dots$. Therefore, a subsequence $\\{P_{n_i}\\}_{i}$ of $P_n$ can be founded such that the sequence $x_{n_i}$ is monotone, which is impossible according to the lemma. This means that the second coordinate of points of $S$ in the first coordinate quadrant is bounded. Similarly, it can be concluded that the first coordinate of such points is bounded. Therefore, there exists $M > 0$ such that all points of $S$ in the first coordinate quadrant lie in the square $[0, M] \\times [0, M]$. Since each two points of $S$ have a distance of at least 1, only a finite number of points of $S$ can be in this square, which means that overall, $S$ is finite.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2016_p34_data_7fcd3f7175.png",
          "title": ""
        }
      ],
      "statement_latex": "points of the parabola the following equation must be solved,\n\n\\[\n|x| + |y| = \\left|x - \\frac{y-c}{m}\\right| + \\left|y - c\\right| = \\left|x - \\frac{y-c}{m}\\right|,\n\\]\n\nor equivalently,\n\n\\[\nm|x| + m|y| = |mx + c - y|.\n\\]\n\nFor an arbitrary point $(x, y)$ in the plane above line $l$ ($y > mx + c$),\n\n\\[\nm|x| + m|y| \\geq m|x| + |y| \\geq -mx + y > y - mx - c = |y - mx - c|.\n\\]\n\nTherefore, all of the points of the parabola lie below $l$ ($y < mx + c$). Evaluating cases resulting from the sign of $x$ and $y$, it can be seen that the parabola is the union of the following four segments (Similar to the following figure):\n\n\\[\n\\begin{cases} y = \\frac{c}{m+1}, & \\text{for } x > 0, y > 0 \\\\ y = \\frac{c}{1-m}, & \\text{for } x > 0, y < 0 \\\\ 2mx - (m+1)y + c = 0, & \\text{for } x < 0, y > 0 \\\\ 2mx + (m-1)y + c = 0, & \\text{for } x < 0, y < 0 \\end{cases}\n\\]\n\n% IMAGE: ![](images/2016_p34_data_7fcd3f7175.png)\n\nd) Yes. To prove it, a lemma is needed.\n\n\\textbf{Lemma.} Let $A'$, $B'$ and $C'$ be three points on sides BC, AC and AB of triangle ABC, respectively, such that\n\n\\[\n\\frac{d(B, A')}{d(C, A')} \\frac{d(C, B')}{d(A, B')} \\frac{d(A, C')}{d(B, C')} = 1.\n\\]\n\nThen lines $AA'$, $BB'$ and $CC'$ are concurrent.\n\n\\textit{Proof.} According to the assumption and the lemma in part (b),\n\n\\[\n\\frac{BA' CB' AC'}{CA' AB' BC'} = 1.\n\\]\n\nTherefore, due to Ceva's Theorem in Euclidean geometry these lines are concurrent."
    },
    {
      "_provenance": {
        "folder": "IRN_2016",
        "pages_map": {
          "P0": "page44.md",
          "P1": "page45.md",
          "P2": "page46.md"
        }
      },
      "author": "Goodarz Mehr; Mohammad Pour Mohammadi; Hesameddin Rajabzadeh; Yeganeh Alimohammadi; Sepideh Azhdari; Mohsen Jamaali; Erfan Salavati; Mojtaba Zare",
      "booklet title": "2016.pdf",
      "booklet_url": "https://drive.google.com/open?id=15N_uiPkjXEctmHES_rqSTO1x-c7AWQ4X",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2015-2016. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_169d08bc01b5",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2016_p37_data_d87d813da0.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2016_p37_data_18a44461f2.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/2016_p37_data_1165175818.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2016_p37_data_d87d813da0.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2016_p37_data_18a44461f2.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2016_p37_data_1165175818.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "*Proof*. First, suppose that *XY* is not perpendicular to *AB*. If line *XY* separates *A* from *B*, a large square with *X* and *Y* both on one of its sides works.\n\n% IMAGE: ![](images/2016_p37_data_d87d813da0.png)\n\nOn the other hand, if both points *A* and *B* lie on one side of line *XY*, depending on the distance from *A* and *B* to *XY* and the position of the feet of perpendicular lines from these two points to line *XY*, a suitable square as depicted in the following figures can be found.\n\n% IMAGE: ![](images/2016_p37_data_18a44461f2.png)\n\nIf $XY \\perp AB$, the argument must be changed only when the intersection point of $AB$ and $XY$ lies outside of both segments. In this case, a suitable square can be found like the following figure.\n\n% IMAGE: ![](images/2016_p37_data_1165175818.png)\n\nSince points $R_1, R_2, B_1$ and $B_2$ are not collinear, points $X$ on $R_1R_2$ and $Y$ on $B_1B_2$ exist such that line $XY$ does not contain any point from $R_1R_2$ and $B_1B_2$ other than $X$ and $Y$ and also, $G_1G_2$ is not parallel to $XY$. According to the lemma, a square passing through $X$ and $Y$ (and no other point on $R_1R_2$ and $B_1B_2$) and separating $G_1$ from $G_2$ exist, which completes the proof.",
          "pages": [
            "P2",
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "8. a) No! As a counterexample, consider three small equal circles on the circumference of a sphere. Each of these circles divides the circumference of the sphere into two parts. Call the smaller part for each circle its inner domain, and assume that the inner domains of these circles are mutually disjoint. Now, if there exists a circle that passes through all three of these circles, it must intersect the sphere in at least three points (it must intersect each inner domain at one point) which is impossible, since any circle that is not on the circumference of a sphere meets it in at most two points.\n\nb) Yes. Consider three circles $C_R, C_B$ and $C_G$ in the space such that no two of them are co-planar. Denote the plane containing $C_i$ by $\\pi_i$ (for $i \\in \\{R, B, G\\}$). For each circle $C_i$, let $X_i$ be a point in the plane $\\pi_i$ lying inside $C_i$, and choose them so that these three points are not collinear, so they form a plane, say $\\pi$. Due to our assumption plane $\\pi$ meets each circle at exactly two points. Denote these intersection points by $\\{G_1, G_2\\}$, $\\{B_1, B_2\\}$ and $\\{R_1, R_2\\}$, respectively. Now, the goal is to find a square in $\\pi$ that intersects each of the three segments $G_1G_2$, $B_1B_2$ and $R_1R_2$ at exactly one inner point (not an endpoint). Obviously, since this square separates each pair of points, it must pass through all three circles and hence is the desired square. To show its existence, first a lemma is proved.\n\n**Lemma.** For points X, Y, A and B in the plane where XY is not parallel to AB, a square exists that passes through points X and Y and separates A from B."
    },
    {
      "_provenance": {
        "folder": "IRN_2016",
        "pages_map": {
          "P0": "page44.md",
          "P1": "page45.md",
          "P2": "page46.md"
        }
      },
      "author": "Goodarz Mehr; Mohammad Pour Mohammadi; Hesameddin Rajabzadeh; Yeganeh Alimohammadi; Sepideh Azhdari; Mohsen Jamaali; Erfan Salavati; Mojtaba Zare",
      "booklet title": "2016.pdf",
      "booklet_url": "https://drive.google.com/open?id=15N_uiPkjXEctmHES_rqSTO1x-c7AWQ4X",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2015-2016. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_507d24de87b0",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "<table><thead><tr><th>Members of <i>F</i> that have at most two elements</th><th>w<sub>1</sub></th><th>w<sub>2</sub></th><th>w<sub>3</sub></th><th>w<sub>4</sub></th><th>w<sub>5</sub></th></tr></thead><tbody><tr><td>No such member</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td></tr><tr><td>{1,2}, {1,3} and {2,3}</td><td>3</td><td>4</td><td>5</td><td>0</td><td>0</td></tr><tr><td>{1,2}</td><td>2</td><td>2</td><td>1</td><td>1</td><td>1</td></tr><tr><td>{1,2} and {1,3}</td><td>3</td><td>2</td><td>2</td><td>1</td><td>1</td></tr><tr><td>{1,2}, {1,3} and {1,4}</td><td>5</td><td>2</td><td>2</td><td>2</td><td>0</td></tr><tr><td>{1,2}, {1,3}, {1,4} and {1,5}</td><td>5</td><td>2</td><td>2</td><td>2</td><td>2</td></tr><tr><td>{1}, {1,2}, {1,3}, {1,4} and {1,5}</td><td>5</td><td>1</td><td>1</td><td>1</td><td>1</td></tr></tbody></table>",
              "title": ""
            }
          ],
          "label": null,
          "latex": "In order to prove this new assertion, note that according to condition (ii), those members of $\\mathcal{F}$ that have at most two elements determine $\\mathcal{F}$ uniquely. By using complements, it can be deduced from condition (i) that,\n\n$i'$. If $B \\notin \\mathcal{F}$ and $A \\subseteq B$, then $A \\notin \\mathcal{F}$.\n\nObviously, $\\emptyset \\notin \\mathcal{F}$, because if $\\emptyset \\in \\mathcal{F}$, $X \\notin \\mathcal{F}$ (according to (i)), so $\\emptyset \\notin \\mathcal{F}$ (according to (i')), which is a contradiction.\n\nAssume that $A, B \\in \\mathcal{F}$. If $A \\cap B = \\emptyset$, then $A \\in B^c$. Since $B \\in \\mathcal{F}$, $B^c \\notin \\mathcal{F}$, so $A \\notin \\mathcal{F}$ (according to (i')) which is a contradiction. This shows that any two members of $\\mathcal{F}$ have a non-empty intersection, which evidently implies that $\\mathcal{F}$ has at most one single-element member. By considering different cases it can be seen that, up to permutations of $\\{1, 2, 3, 4, 5\\}$, for single-element and two-element members of $\\mathcal{F}$ only the following cases are possible:\n\n* No member of $\\mathcal{F}$ has at most two elements.\n  In this case, assuming $w_1 = w_2 = \\dots = w_5 = 1$ satisfies the two conditions.\n* Members of $\\mathcal{F}$ that have at most two elements are $\\{1, 2\\}, \\{1, 3\\}$ and $\\{2, 3\\}$.\n  $w_4$ and $w_5$ can be set to zero. Next, note that inequalities $w_1+w_2 > w_3$, $w_2+w_3 > w_1$ and $w_3+w_1 > w_2$ must hold for $w_1, w_2$ and $w_3$. Therefore, $w_1, w_2$ and $w_3$ are sides of a triangle. For instance, setting $w_1 = 3$, $w_2 = 4$ and $w_3 = 5$ satisfies the two conditions.\n* The only member of $\\mathcal{F}$ that has at most two elements is $\\{1, 2\\}$.\n  Due to symmetry, set $w_1 = w_2 = a$ and $w_3 = w_4 = w_5 = b$. $a$ and $b$ should satisfy $2a > 3b$, $a > 0$ and $b > 0$. Obviously, setting $a = 2$ and $b = 1$ satisfies this condition.\n* Members of $\\mathcal{F}$ that have at most two elements are $\\{1, 2\\}$ and $\\{1, 3\\}$.\n  A similar argument shows that, for instance, $(w_1, w_2, w_3, w_4, w_5) = (3, 2, 2, 1, 1)$ works.\n* Members of $\\mathcal{F}$ that have at most two elements are $\\{1, 2\\}, \\{1, 3\\}$ and $\\{1, 4\\}$.\n  In this case, setting $(w_1, w_2, w_3, w_4, w_5) = (5, 2, 2, 2, 0)$ works.\n* Members of $\\mathcal{F}$ that have at most two elements are $\\{1,2\\}, \\{1,3\\}, \\{1,4\\}$ and $\\{1,5\\}$.\n  In this case, setting $(w_1,w_2,w_3,w_4,w_5) = (5,2,2,2,2)$ works.\n\n* Members of $\\mathcal{F}$ that have at most two elements are $\\{1\\}, \\{1,2\\}, \\{1,3\\}, \\{1,4\\}$ and $\\{1,5\\}$.\n  In this case, setting $(w_1,w_2,w_3,w_4,w_5) = (5,1,1,1,1)$ works.\n\n**Upshot.**\n\n% IMAGE: <table><thead><tr><th>Members of <i>F</i> that have at most two elements</th><th>w<sub>1</sub></th><th>w<sub>2</sub></th><th>w<sub>3</sub></th><th>w<sub>4</sub></th><th>w<sub>5</sub></th></tr></thead><tbody><tr><td>No such member</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td></tr><tr><td>{1,2}, {1,3} and {2,3}</td><td>3</td><td>4</td><td>5</td><td>0</td><td>0</td></tr><tr><td>{1,2}</td><td>2</td><td>2</td><td>1</td><td>1</td><td>1</td></tr><tr><td>{1,2} and {1,3}</td><td>3</td><td>2</td><td>2</td><td>1</td><td>1</td></tr><tr><td>{1,2}, {1,3} and {1,4}</td><td>5</td><td>2</td><td>2</td><td>2</td><td>0</td></tr><tr><td>{1,2}, {1,3}, {1,4} and {1,5}</td><td>5</td><td>2</td><td>2</td><td>2</td><td>2</td></tr><tr><td>{1}, {1,2}, {1,3}, {1,4} and {1,5}</td><td>5</td><td>1</td><td>1</td><td>1</td><td>1</td></tr></tbody></table>",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P2"
          ],
          "path": "<table><thead><tr><th>Members of <i>F</i> that have at most two elements</th><th>w<sub>1</sub></th><th>w<sub>2</sub></th><th>w<sub>3</sub></th><th>w<sub>4</sub></th><th>w<sub>5</sub></th></tr></thead><tbody><tr><td>No such member</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td></tr><tr><td>{1,2}, {1,3} and {2,3}</td><td>3</td><td>4</td><td>5</td><td>0</td><td>0</td></tr><tr><td>{1,2}</td><td>2</td><td>2</td><td>1</td><td>1</td><td>1</td></tr><tr><td>{1,2} and {1,3}</td><td>3</td><td>2</td><td>2</td><td>1</td><td>1</td></tr><tr><td>{1,2}, {1,3} and {1,4}</td><td>5</td><td>2</td><td>2</td><td>2</td><td>0</td></tr><tr><td>{1,2}, {1,3}, {1,4} and {1,5}</td><td>5</td><td>2</td><td>2</td><td>2</td><td>2</td></tr><tr><td>{1}, {1,2}, {1,3}, {1,4} and {1,5}</td><td>5</td><td>1</td><td>1</td><td>1</td><td>1</td></tr></tbody></table>",
          "title": ""
        }
      ],
      "statement_latex": "Call a family $\\mathcal{F}$ that comprises subsets of $X = \\{1, 2, 3, 4, 5\\}$ a decision family if the following properties are satisfied:\n\ni. If $A \\in \\mathcal{F}$ and $A \\subseteq B$, then $B \\in \\mathcal{F}$.\n\nii. $A \\in \\mathcal{F}$ if and only if $A^c \\notin \\mathcal{F}$ ($A^c = X - A$).\n\nNow, the problem can be paraphrased using families of subsets as follows: **New Statement.** For every decision family $\\mathcal{F}$ of $\\{1, 2, 3, 4, 5\\}$, nonnegative weights $w_1, w_2, \\dots, w_5$ exist such that\n\n\\[\nA \\in \\mathcal{F} \\iff \\sum_{i \\in A} w_i > \\sum_{i \\in A^c} w_i.\n\\]\n\nIn order to prove this new assertion, note that according to condition (ii), those members of $\\mathcal{F}$ that have at most two elements determine $\\mathcal{F}$ uniquely. By using complements, it can be deduced from condition (i) that,\n\n$i'$. If $B \\notin \\mathcal{F}$ and $A \\subseteq B$, then $A \\notin \\mathcal{F}$.\n\nObviously, $\\emptyset \\notin \\mathcal{F}$, because if $\\emptyset \\in \\mathcal{F}$, $X \\notin \\mathcal{F}$ (according to (i)), so $\\emptyset \\notin \\mathcal{F}$ (according to (i')), which is a contradiction.\n\nAssume that $A, B \\in \\mathcal{F}$. If $A \\cap B = \\emptyset$, then $A \\in B^c$. Since $B \\in \\mathcal{F}$, $B^c \\notin \\mathcal{F}$, so $A \\notin \\mathcal{F}$ (according to (i')) which is a contradiction. This shows that any two members of $\\mathcal{F}$ have a non-empty intersection, which evidently implies that $\\mathcal{F}$ has at most one single-element member. By considering different cases it can be seen that, up to permutations of $\\{1, 2, 3, 4, 5\\}$, for single-element and two-element members of $\\mathcal{F}$ only the following cases are possible:\n\n* No member of $\\mathcal{F}$ has at most two elements.\n  In this case, assuming $w_1 = w_2 = \\dots = w_5 = 1$ satisfies the two conditions.\n* Members of $\\mathcal{F}$ that have at most two elements are $\\{1, 2\\}, \\{1, 3\\}$ and $\\{2, 3\\}$.\n  $w_4$ and $w_5$ can be set to zero. Next, note that inequalities $w_1+w_2 > w_3$, $w_2+w_3 > w_1$ and $w_3+w_1 > w_2$ must hold for $w_1, w_2$ and $w_3$. Therefore, $w_1, w_2$ and $w_3$ are sides of a triangle. For instance, setting $w_1 = 3$, $w_2 = 4$ and $w_3 = 5$ satisfies the two conditions.\n* The only member of $\\mathcal{F}$ that has at most two elements is $\\{1, 2\\}$.\n  Due to symmetry, set $w_1 = w_2 = a$ and $w_3 = w_4 = w_5 = b$. $a$ and $b$ should satisfy $2a > 3b$, $a > 0$ and $b > 0$. Obviously, setting $a = 2$ and $b = 1$ satisfies this condition.\n* Members of $\\mathcal{F}$ that have at most two elements are $\\{1, 2\\}$ and $\\{1, 3\\}$.\n  A similar argument shows that, for instance, $(w_1, w_2, w_3, w_4, w_5) = (3, 2, 2, 1, 1)$ works.\n* Members of $\\mathcal{F}$ that have at most two elements are $\\{1, 2\\}, \\{1, 3\\}$ and $\\{1, 4\\}$.\n  In this case, setting $(w_1, w_2, w_3, w_4, w_5) = (5, 2, 2, 2, 0)$ works.\n* Members of $\\mathcal{F}$ that have at most two elements are $\\{1,2\\}, \\{1,3\\}, \\{1,4\\}$ and $\\{1,5\\}$.\n  In this case, setting $(w_1,w_2,w_3,w_4,w_5) = (5,2,2,2,2)$ works.\n\n* Members of $\\mathcal{F}$ that have at most two elements are $\\{1\\}, \\{1,2\\}, \\{1,3\\}, \\{1,4\\}$ and $\\{1,5\\}$.\n  In this case, setting $(w_1,w_2,w_3,w_4,w_5) = (5,1,1,1,1)$ works.\n\n**Upshot.**\n\n% IMAGE: <table><thead><tr><th>Members of <i>F</i> that have at most two elements</th><th>w<sub>1</sub></th><th>w<sub>2</sub></th><th>w<sub>3</sub></th><th>w<sub>4</sub></th><th>w<sub>5</sub></th></tr></thead><tbody><tr><td>No such member</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td></tr><tr><td>{1,2}, {1,3} and {2,3}</td><td>3</td><td>4</td><td>5</td><td>0</td><td>0</td></tr><tr><td>{1,2}</td><td>2</td><td>2</td><td>1</td><td>1</td><td>1</td></tr><tr><td>{1,2} and {1,3}</td><td>3</td><td>2</td><td>2</td><td>1</td><td>1</td></tr><tr><td>{1,2}, {1,3} and {1,4}</td><td>5</td><td>2</td><td>2</td><td>2</td><td>0</td></tr><tr><td>{1,2}, {1,3}, {1,4} and {1,5}</td><td>5</td><td>2</td><td>2</td><td>2</td><td>2</td></tr><tr><td>{1}, {1,2}, {1,3}, {1,4} and {1,5}</td><td>5</td><td>1</td><td>1</td><td>1</td><td>1</td></tr></tbody></table>"
    },
    {
      "_provenance": {
        "folder": "IRN_2016",
        "pages_map": {
          "P0": "page44.md",
          "P1": "page45.md",
          "P2": "page46.md"
        }
      },
      "author": "Goodarz Mehr; Mohammad Pour Mohammadi; Hesameddin Rajabzadeh; Yeganeh Alimohammadi; Sepideh Azhdari; Mohsen Jamaali; Erfan Salavati; Mojtaba Zare",
      "booklet title": "2016.pdf",
      "booklet_url": "https://drive.google.com/open?id=15N_uiPkjXEctmHES_rqSTO1x-c7AWQ4X",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2015-2016. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_e6f89e6fe898",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "<table><thead><tr><th>Members of <i>F</i> that have at most two elements</th><th>w<sub>1</sub></th><th>w<sub>2</sub></th><th>w<sub>3</sub></th><th>w<sub>4</sub></th><th>w<sub>5</sub></th></tr></thead><tbody><tr><td>No such member</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td></tr><tr><td>{1,2}, {1,3} and {2,3}</td><td>3</td><td>4</td><td>5</td><td>0</td><td>0</td></tr><tr><td>{1,2}</td><td>2</td><td>2</td><td>1</td><td>1</td><td>1</td></tr><tr><td>{1,2} and {1,3}</td><td>3</td><td>2</td><td>2</td><td>1</td><td>1</td></tr><tr><td>{1,2}, {1,3} and {1,4}</td><td>5</td><td>2</td><td>2</td><td>2</td><td>0</td></tr><tr><td>{1,2}, {1,3}, {1,4} and {1,5}</td><td>5</td><td>2</td><td>2</td><td>2</td><td>2</td></tr><tr><td>{1}, {1,2}, {1,3}, {1,4} and {1,5}</td><td>5</td><td>1</td><td>1</td><td>1</td><td>1</td></tr></tbody></table>",
              "title": null
            }
          ],
          "label": null,
          "latex": "In order to prove this new assertion, note that according to condition (ii), those members of $\\mathcal{F}$ that have at most two elements determine $\\mathcal{F}$ uniquely. By using complements, it can be deduced from condition (i) that,\n\n$i'$. If $B \\notin \\mathcal{F}$ and $A \\subseteq B$, then $A \\notin \\mathcal{F}$.\n\nObviously, $\\emptyset \\notin \\mathcal{F}$, because if $\\emptyset \\in \\mathcal{F}$, $X \\notin \\mathcal{F}$ (according to (i)), so $\\emptyset \\notin \\mathcal{F}$ (according to (i')), which is a contradiction.\n\nAssume that $A, B \\in \\mathcal{F}$. If $A \\cap B = \\emptyset$, then $A \\in B^c$. Since $B \\in \\mathcal{F}$, $B^c \\notin \\mathcal{F}$, so $A \\notin \\mathcal{F}$ (according to (i')) which is a contradiction. This shows that any two members of $\\mathcal{F}$ have a non-empty intersection, which evidently implies that $\\mathcal{F}$ has at most one single-element member. By considering different cases it can be seen that, up to permutations of $\\{1, 2, 3, 4, 5\\}$, for single-element and two-element members of $\\mathcal{F}$ only the following cases are possible:\n\n* No member of $\\mathcal{F}$ has at most two elements.\n  In this case, assuming $w_1 = w_2 = \\dots = w_5 = 1$ satisfies the two conditions.\n* Members of $\\mathcal{F}$ that have at most two elements are $\\{1, 2\\}, \\{1, 3\\}$ and $\\{2, 3\\}$.\n  $w_4$ and $w_5$ can be set to zero. Next, note that inequalities $w_1+w_2 > w_3$, $w_2+w_3 > w_1$ and $w_3+w_1 > w_2$ must hold for $w_1, w_2$ and $w_3$. Therefore, $w_1, w_2$ and $w_3$ are sides of a triangle. For instance, setting $w_1 = 3$, $w_2 = 4$ and $w_3 = 5$ satisfies the two conditions.\n* The only member of $\\mathcal{F}$ that has at most two elements is $\\{1, 2\\}$.\n  Due to symmetry, set $w_1 = w_2 = a$ and $w_3 = w_4 = w_5 = b$. $a$ and $b$ should satisfy $2a > 3b$, $a > 0$ and $b > 0$. Obviously, setting $a = 2$ and $b = 1$ satisfies this condition.\n* Members of $\\mathcal{F}$ that have at most two elements are $\\{1, 2\\}$ and $\\{1, 3\\}$.\n  A similar argument shows that, for instance, $(w_1, w_2, w_3, w_4, w_5) = (3, 2, 2, 1, 1)$ works.\n* Members of $\\mathcal{F}$ that have at most two elements are $\\{1, 2\\}, \\{1, 3\\}$ and $\\{1, 4\\}$.\n  In this case, setting $(w_1, w_2, w_3, w_4, w_5) = (5, 2, 2, 2, 0)$ works.\n* Members of $\\mathcal{F}$ that have at most two elements are $\\{1,2\\}, \\{1,3\\}, \\{1,4\\}$ and $\\{1,5\\}$.\n  In this case, setting $(w_1,w_2,w_3,w_4,w_5) = (5,2,2,2,2)$ works.\n\n* Members of $\\mathcal{F}$ that have at most two elements are $\\{1\\}, \\{1,2\\}, \\{1,3\\}, \\{1,4\\}$ and $\\{1,5\\}$.\n  In this case, setting $(w_1,w_2,w_3,w_4,w_5) = (5,1,1,1,1)$ works.\n\n\\textbf{Upshot.}\n\n% IMAGE: <table><thead><tr><th>Members of <i>F</i> that have at most two elements</th><th>w<sub>1</sub></th><th>w<sub>2</sub></th><th>w<sub>3</sub></th><th>w<sub>4</sub></th><th>w<sub>5</sub></th></tr></thead><tbody><tr><td>No such member</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td></tr><tr><td>{1,2}, {1,3} and {2,3}</td><td>3</td><td>4</td><td>5</td><td>0</td><td>0</td></tr><tr><td>{1,2}</td><td>2</td><td>2</td><td>1</td><td>1</td><td>1</td></tr><tr><td>{1,2} and {1,3}</td><td>3</td><td>2</td><td>2</td><td>1</td><td>1</td></tr><tr><td>{1,2}, {1,3} and {1,4}</td><td>5</td><td>2</td><td>2</td><td>2</td><td>0</td></tr><tr><td>{1,2}, {1,3}, {1,4} and {1,5}</td><td>5</td><td>2</td><td>2</td><td>2</td><td>2</td></tr><tr><td>{1}, {1,2}, {1,3}, {1,4} and {1,5}</td><td>5</td><td>1</td><td>1</td><td>1</td><td>1</td></tr></tbody></table>",
          "pages": [
            "P0",
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Now, the problem can be paraphrased using families of subsets as follows: \\textbf{New Statement.} For every decision family $\\mathcal{F}$ of $\\{1, 2, 3, 4, 5\\}$, nonnegative weights $w_1, w_2, \\dots, w_5$ exist such that\n\n$$\nA \\in \\mathcal{F} \\iff \\sum_{i \\in A} w_i > \\sum_{i \\in A^c} w_i.\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2016",
        "pages_map": {
          "P0": "page44.md",
          "P1": "page45.md",
          "P2": "page46.md"
        }
      },
      "author": "Goodarz Mehr; Mohammad Pour Mohammadi; Hesameddin Rajabzadeh; Yeganeh Alimohammadi; Sepideh Azhdari; Mohsen Jamaali; Erfan Salavati; Mojtaba Zare",
      "booklet title": "2016.pdf",
      "booklet_url": "https://drive.google.com/open?id=15N_uiPkjXEctmHES_rqSTO1x-c7AWQ4X",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2015-2016. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_3c28fbd6429e",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Let $P$ be the second intersection point of circumcircles of triangles $BXT$ and $CYT$ (other than $T$). It is claimed that circumcircles of triangles $BOC$ and $AXY$ are tangent at $P$.\n\nFirst, note that since $T$ lies on the reflection of $\\omega$ with respect to $XY$, $\\angle XTY = \\angle XAY = \\angle BAC$. Therefore,\n\n$$\n\\begin{align*} \n\\angle BPC &= \\angle BPT + \\angle CPT = \\angle BXT + \\angle CYT \\\\ \n&= 360^\\circ - \\angle AXT - \\angle AYT = \\angle XAY + \\angle XTY \\\\ \n&= 2\\angle BAC = \\angle BOC. \n\\end{align*}\n$$\n\nThis implies that $P$ lies on the circumcircle of triangle $BOC$. On the other hand,\n\n$$\n180^\\circ - \\angle BAC = \\angle XBT + \\angle YCT = \\angle XPY.\n$$\n\nTherefore, $P$ lies on the circumcircle of triangle $AXY$. Now it suffices to show that these two circles have the same tangent line at $P$, or equivalently, $\\angle BPX = \\angle BCP + \\angle XAP$. Since $\\angle BCP = \\angle TYP$ and $\\angle XAP = \\angle XYP$, $\\angle BCP + \\angle XAP = \\angle TYP + \\angle XYP = \\angle XYT$. However, according to the assumptions, $\\angle XYT = \\angle XTB = \\angle BPX$, which completes the proof.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "4. Let $\\omega$ be the circumcircle of triangle $AXY$. Since the reflection of line $BC$ with respect to $XY$ is tangent to $\\omega$, the reflection of $\\omega$ with respect to $XY$ is tangent to line $BC$ at a point that is denoted by $T$."
    },
    {
      "_provenance": {
        "folder": "IRN_2016",
        "pages_map": {
          "P0": "page44.md",
          "P1": "page45.md",
          "P2": "page46.md"
        }
      },
      "author": "Goodarz Mehr; Mohammad Pour Mohammadi; Hesameddin Rajabzadeh; Yeganeh Alimohammadi; Sepideh Azhdari; Mohsen Jamaali; Erfan Salavati; Mojtaba Zare",
      "booklet title": "2016.pdf",
      "booklet_url": "https://drive.google.com/open?id=15N_uiPkjXEctmHES_rqSTO1x-c7AWQ4X",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2015-2016. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_e84b659fec5f",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "If $a \\stackrel{p}{\\equiv} (\\frac{p-1}{2})!$ and $b \\stackrel{p}{\\equiv} \\frac{1}{(\\frac{p-1}{4})!^2}$, then $A \\stackrel{p}{\\equiv} -2 + 12ab - b^2$; therefore,\n$$-A + 1 \\stackrel{p}{\\equiv} b^2 - 12ab + 3 \\stackrel{p}{\\equiv} (b - 6a)^2 - 36a^2 + 3 \\stackrel{p}{\\equiv} (b - 6a)^2 + 39.$$\n\nAnd according to the assumption, $(\\frac{-39}{p}) = -1$, which completes the proof.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "5. Note that\n\n$$\n\\sum_{1 \\le x_i \\le p-1} \\left(1 - \\left(x_1^4 + x_2^4 + x_3^4 + x_4^4\\right)^{p-1}\\right) \\stackrel{p}{=} \\\n\\qquad \\left(p-1\\right)^4 - (p-1)^4 \\overbrace{\\left(\\sum_{\\substack{\\frac{p-1}{4}|\\theta_i; \\\\ \\sum \\theta_i = p-1}}^A \\begin{pmatrix} p-1 \\\\ \\theta_1, \\theta_2, \\theta_3, \\theta_4 \\end{pmatrix}\\right)}^{p}.\n$$\n\nTo solve the problem, it is enough to show that $A \\neq 1$.\n\n$$\n\\begin{align*} \nA \\stackrel{p}{=} & 4 \\binom{p-1}{p-1} + 12 \\binom{p-1}{\\frac{p-1}{4}, 3\\frac{p-1}{4}} + 12 \\binom{p-1}{\\frac{p-1}{4}, \\frac{p-1}{4}, \\frac{p-1}{2}} + \\binom{p-1}{\\frac{p-1}{4}, \\frac{p-1}{4}, \\frac{p-1}{4}, \\frac{p-1}{4}} \\\n\\stackrel{p}{=} & 4 + \\frac{12(p-1)!}{\\left(\\frac{p-1}{4}\\right)!\\left(\\frac{3(p-1)}{4}\\right)!} + \\frac{6(p-1)!}{\\left(\\frac{p-1}{2}\\right)!^2} + \\frac{12(p-1)!}{\\left(\\frac{p-1}{2}\\right)!(\\frac{p-1}{4})!^2} + \\frac{(p-1)!}{\\left(\\frac{p-1}{4}\\right)!^4} \\\n\\stackrel{p}{=} & 4 + \\frac{12(p-1)!}{(-1)^{\\frac{p-1}{4}}(p-1)!} + \\frac{6(p-1)!}{-1} + \\frac{12(p-1)!}{\\left(\\frac{p-1}{2}\\right)!(\\frac{p-1}{4})!^2} + \\frac{(p-1)!}{\\left(\\frac{p-1}{4}\\right)!^4} \\\n\\stackrel{p}{=} & 4 - 12 + 6 + 12 \\frac{\\left(\\frac{p-1}{2}\\right)!}{\\left(\\frac{p-1}{4}\\right)!^2} + \\frac{-1}{\\left(\\frac{p-1}{4}\\right)!^2}. \n\\end{align*}\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2016",
        "pages_map": {
          "P0": "page44.md",
          "P1": "page45.md",
          "P2": "page46.md"
        }
      },
      "author": "Goodarz Mehr; Mohammad Pour Mohammadi; Hesameddin Rajabzadeh; Yeganeh Alimohammadi; Sepideh Azhdari; Mohsen Jamaali; Erfan Salavati; Mojtaba Zare",
      "booklet title": "2016.pdf",
      "booklet_url": "https://drive.google.com/open?id=15N_uiPkjXEctmHES_rqSTO1x-c7AWQ4X",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2015-2016. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_ec41638c945e",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "If $a \\stackrel{p}{\\equiv} (\\frac{p-1}{2})!$ and $b \\stackrel{p}{\\equiv} \\frac{1}{(\\frac{p-1}{4})!^2}$, then $A \\stackrel{p}{\\equiv} -2 + 12ab - b^2$; therefore,\n$$-A + 1 \\stackrel{p}{\\equiv} b^2 - 12ab + 3 \\stackrel{p}{\\equiv} (b - 6a)^2 - 36a^2 + 3 \\stackrel{p}{\\equiv} (b - 6a)^2 + 39.$$\n\nAnd according to the assumption, $(\\frac{-39}{p}) = -1$, which completes the proof.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Note that\n\n$$\n\\sum_{1 \\le x_i \\le p-1} \\left(1 - \\left(x_1^4 + x_2^4 + x_3^4 + x_4^4\\right)^{p-1}\\right) \\stackrel{p}{=} \\\\ \n\\qquad \\left(p-1\\right)^4 - (p-1)^4 \\overbrace{\\left(\\sum_{\\substack{\\frac{p-1}{4}|\\theta_i; \\\\ \\sum \\theta_i = p-1}}^A \\begin{pmatrix} p-1 \\\\ \\theta_1, \\theta_2, \\theta_3, \\theta_4 \\end{pmatrix}\\right)}^{p}.\n$$\n\nTo solve the problem, it is enough to show that $A \\neq 1$.\n\n$$\n\\begin{align*} \nA \\stackrel{p}{=} & 4 \\binom{p-1}{p-1} + 12 \\binom{p-1}{\\frac{p-1}{4}, 3\\frac{p-1}{4}} + 12 \\binom{p-1}{\\frac{p-1}{4}, \\frac{p-1}{4}, \\frac{p-1}{2}} + \\binom{p-1}{\\frac{p-1}{4}, \\frac{p-1}{4}, \\frac{p-1}{4}, \\frac{p-1}{4}} \\\\ \n\\stackrel{p}{=} & 4 + \\frac{12(p-1)!}{\\left(\\frac{p-1}{4}\\right)!\\left(\\frac{3(p-1)}{4}\\right)!} + \\frac{6(p-1)!}{\\left(\\frac{p-1}{2}\\right)!^2} + \\frac{12(p-1)!}{\\left(\\frac{p-1}{2}\\right)!(\\frac{p-1}{4})!^2} + \\frac{(p-1)!}{\\left(\\frac{p-1}{4}\\right)!^4} \\\\ \n\\stackrel{p}{=} & 4 + \\frac{12(p-1)!}{(-1)^{\\frac{p-1}{4}}(p-1)!} + \\frac{6(p-1)!}{-1} + \\frac{12(p-1)!}{\\left(\\frac{p-1}{2}\\right)!(\\frac{p-1}{4})!^2} + \\frac{(p-1)!}{\\left(\\frac{p-1}{4}\\right)!^4} \\\\ \n\\stackrel{p}{=} & 4 - 12 + 6 + 12 \\frac{\\left(\\frac{p-1}{2}\\right)!}{\\left(\\frac{p-1}{4}\\right)!^2} + \\frac{-1}{\\left(\\frac{p-1}{4}\\right)!^2}. \n\\end{align*}\n$$"
    }
  ],
  "2017": [
    {
      "_provenance": {
        "folder": "IRN_2017",
        "pages_map": {
          "P0": "page63.md",
          "P1": "page64.md",
          "P2": "page65.md"
        }
      },
      "author": "Benyamin Ghasemi Nia; Hamed Abdi; Atrin Arya; Mostafa Eynollahzadeh; Taha Miranzade; Hesameddin Rajabzadeh; Morteza Saghafian; Fateme Sajadi",
      "booklet title": "2017.pdf",
      "booklet_url": "https://drive.google.com/open?id=1CRn57wjHsFJ7FGJHLOLyq8YsC99o-CP9",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2016-2017. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_2a69fed2783b",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Just to simplify the calculations, define $S = a + c$ and $P = ac$. In this case, the RHS of the inequality becomes\n\n$$\nRHS = \\frac{a+b+c}{3} - \\frac{3}{\\frac{1}{a} + \\frac{1}{b} + \\frac{1}{c}} = \\frac{S+b}{3} - \\frac{3Pb}{Sb+P}.\n$$\n\nThe goal is to minimize the above phrase as a function of $b$; Note that the phrase, as a function of $b$, has a linear term which is $\\frac{S+b}{3}$, and a fractional term with the denominator $Sb + P$. Now we re-write the phrase using the new variable $t = Sb + P$ and with a little calculation we shall have\n\n$$\nRHS = \\frac{S+b}{3} - \\frac{3Pb}{Sb+P} = \\frac{S^2 - 10P}{3S} + \\frac{t}{3S} + \\frac{P^2}{St}.\n$$\n\nNote that the multiply of the last two terms is a phrase without the variable $t$. Therefore with using the AM-GM inequality we obtain\n\n$$\nRHS \\ge \\frac{S^2 - 10P}{3S} + 2\\sqrt{\\frac{P^2}{S^2}} = \\frac{S^2 - 4P}{3S} = \\frac{(c-a)^2}{3(c+a)} \\ge \\frac{(c-a)^2}{6c}. \\blacksquare\n$$",
          "pages": [
            "P0"
          ],
          "status": "complete"
        },
        {
          "images": [],
          "label": null,
          "latex": "For the easement of calculations, for any arbitrary formula_1 F(a, b, c) with three variables a, b and c, the cyclic sum\n\n$$\nF(a, b, c) + F(b, c, a) + F(c, a, b),\n$$\n\nis shown with $\\sum F(a, b, c)$. Using this notation, we expand the RHS of the inequality\n\n$$\n\\begin{aligned} \\frac{\\sum a}{3} - \\frac{3}{\\sum \\frac{1}{a}} &= \\frac{\\sum a}{3} - \\frac{3abc}{\\sum ab} = \\frac{(\\sum a)(\\sum ab) - 9abc}{3 \\sum ab} \\\\ &= \\frac{\\sum (a^2b + ab^2) - 6abc}{3 \\sum ab} = \\frac{\\sum a(b-c)^2}{3 \\sum ab}. \\end{aligned}\n$$\n\nTherefore, the claim of the problem is equivalent to the following inequality\n\n$$\n\\sum a(b-c)^2 \\ge \\left( \\frac{\\sum ab}{2c} \\right) (c-a)^2. \\quad (1)\n$$\nBut note that with condition $a \\le b \\le c$, $\\frac{ab}{2c}$ is not greater than $\\frac{b}{2}$ so for the RHS of the above inequality we have\n\n$$\n\\left( \\frac{\\sum ab}{2c} \\right) (c-a)^2 = \\left( \\frac{ab}{2c} + \\frac{a+b}{2} \\right) (c-a)^2 \\le \\left( \\frac{a}{2} + b \\right) (c-a)^2. \\quad (2)\n$$\n\nFor the LHS of (1), we have\n\n$$\n\\sum a(b-c)^2 \\ge b(c-a)^2 + a((c-b)^2 + (b-a)^2). \\quad (3)\n$$\n\nNote that for any two numbers $X, Y$,\n\n$$\n\\begin{aligned} (X - Y)^2 \\ge 0 &\\implies X^2 + Y^2 - 2XY \\ge 0 \\\\ &\\implies 2(x^2 + Y^2) \\ge (X + Y)^2 \\\\ &\\implies X^2 + Y^2 \\ge \\frac{(X + Y)^2}{2}. \\end{aligned}\n$$\n\nTherefore, if $X = c - b, Y = b - a$ using (3), we obtain\n\n$$\n\\sum a(b-c)^2 \\ge b(c-a)^2 + a((c-b)^2 + (b-a)^2) \\ge b(c-a)^2 + \\frac{a}{2}(c-a)^2.\n$$\n\nThis inequality along with (2) implies (1) which is equivalent to the claim of the problem. \\textbf{}",
          "pages": [
            "P0",
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Just to simplify the calculations, define $S = a + c$ and $P = ac$. In this case, the RHS of the inequality becomes\n\n$$\nRHS = \\frac{a+b+c}{3} - \\frac{3}{\\frac{1}{a} + \\frac{1}{b} + \\frac{1}{c}} = \\frac{S+b}{3} - \\frac{3Pb}{Sb+P}.\n$$\n\nThe goal is to minimize the above phrase as a function of $b$; Note that the phrase, as a function of $b$, has a linear term which is $\\frac{S+b}{3}$, and a fractional term with the denominator $Sb + P$. Now we re-write the phrase using the new variable $t = Sb + P$ and with a little calculation we shall have\n\n$$\nRHS = \\frac{S+b}{3} - \\frac{3Pb}{Sb+P} = \\frac{S^2 - 10P}{3S} + \\frac{t}{3S} + \\frac{P^2}{St}.\n$$\n\nNote that the multiply of the last two terms is a phrase without the variable $t$. Therefore with using the AM-GM inequality we obtain\n\n$$\nRHS \\ge \\frac{S^2 - 10P}{3S} + 2\\sqrt{\\frac{P^2}{S^2}} = \\frac{S^2 - 4P}{3S} = \\frac{(c-a)^2}{3(c+a)} \\ge \\frac{(c-a)^2}{6c}. \\blacksquare\n$$\n\nFor the easement of calculations, for any arbitrary formula_1 F(a, b, c) with three variables a, b and c, the cyclic sum\n\n$$\nF(a, b, c) + F(b, c, a) + F(c, a, b),\n$$\n\nis shown with $\\sum F(a, b, c)$. Using this notation, we expand the RHS of the inequality\n\n$$\n\\begin{aligned} \\frac{\\sum a}{3} - \\frac{3}{\\sum \\frac{1}{a}} &= \\frac{\\sum a}{3} - \\frac{3abc}{\\sum ab} = \\frac{(\\sum a)(\\sum ab) - 9abc}{3 \\sum ab} \\\\ &= \\frac{\\sum (a^2b + ab^2) - 6abc}{3 \\sum ab} = \\frac{\\sum a(b-c)^2}{3 \\sum ab}. \\end{aligned}\n$$\n\nTherefore, the claim of the problem is equivalent to the following inequality\n\n$$\n\\sum a(b-c)^2 \\ge \\left( \\frac{\\sum ab}{2c} \\right) (c-a)^2. \\quad (1)\n$$\nBut note that with condition $a \\le b \\le c$, $\\frac{ab}{2c}$ is not greater than $\\frac{b}{2}$ so for the RHS of the above inequality we have\n\n$$\n\\left( \\frac{\\sum ab}{2c} \\right) (c-a)^2 = \\left( \\frac{ab}{2c} + \\frac{a+b}{2} \\right) (c-a)^2 \\le \\left( \\frac{a}{2} + b \\right) (c-a)^2. \\quad (2)\n$$\n\nFor the LHS of (1), we have\n\n$$\n\\sum a(b-c)^2 \\ge b(c-a)^2 + a((c-b)^2 + (b-a)^2). \\quad (3)\n$$\n\nNote that for any two numbers $X, Y$,\n\n$$\n\\begin{aligned} (X - Y)^2 \\ge 0 &\\implies X^2 + Y^2 - 2XY \\ge 0 \\\\ &\\implies 2(x^2 + Y^2) \\ge (X + Y)^2 \\\\ &\\implies X^2 + Y^2 \\ge \\frac{(X + Y)^2}{2}. \\end{aligned}\n$$\n\nTherefore, if $X = c - b, Y = b - a$ using (3), we obtain\n\n$$\n\\sum a(b-c)^2 \\ge b(c-a)^2 + a((c-b)^2 + (b-a)^2) \\ge b(c-a)^2 + \\frac{a}{2}(c-a)^2.\n$$\n\nThis inequality along with (2) implies (1) which is equivalent to the claim of the problem. \\textbf{}"
    },
    {
      "_provenance": {
        "folder": "IRN_2017",
        "pages_map": {
          "P0": "page63.md",
          "P1": "page64.md",
          "P2": "page65.md"
        }
      },
      "author": "Benyamin Ghasemi Nia; Hamed Abdi; Atrin Arya; Mostafa Eynollahzadeh; Taha Miranzade; Hesameddin Rajabzadeh; Morteza Saghafian; Fateme Sajadi",
      "booklet title": "2017.pdf",
      "booklet_url": "https://drive.google.com/open?id=1CRn57wjHsFJ7FGJHLOLyq8YsC99o-CP9",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2016-2017. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_72f2dbfc36af",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Now we claim that the angle bisectors of angles $\\widehat{BAC}$ and $\\widehat{BKC}$ intersect each other on side $BC$. For this purpose, it suffices to show that\n\n$$\n\\frac{KB}{KC} = \\frac{AB}{AC}.\n$$\n\nTriangles $ECK$ and $EKB$ are similar therefore $\\frac{KB}{KC} = \\frac{EB}{EK}$. Triangles $EAC$ and $EBA$ are also similar therefore $\\frac{AB}{AC} = \\frac{EB}{EA}$.\n\nAnd since $EK = EA$ we obtain $\\frac{KB}{KC} = \\frac{AB}{AC}$. Let $D$ be the intersection point of these angle bisectors with $BC$, points $F$ and $M$ are the midpoint of arc $BC$ in the two circles. Therefore $K, D$ and $F$ are collinear and $A, D$ and $M$ are also collinear. Now, consider the power of $D$ in both circles\n\n$$\n\\left. \\begin{array}{l} BD \\cdot DC = AD \\cdot DM \\\\ BD \\cdot DC = FD \\cdot DK \\end{array} \\right\\} \\implies AD \\cdot DM = FD \\cdot DK,\n$$\n\nHence $AFMK$ is cyclic. ",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2017_p18_data_b9822dbded.png",
          "title": ""
        }
      ],
      "statement_latex": "2. Considering the power of point $E$ with respect to circles $\\omega_1, \\omega_2$ we have\n\n$$\n\\left. \\begin{cases} EC \\cdot EB = EA^2 \\\\ EC \\cdot EB = EK^2 \\end{cases} \\right\\} \\implies EA = EK.\n$$\n\n% IMAGE: ![](images/2017_p18_data_b9822dbded.png)"
    },
    {
      "_provenance": {
        "folder": "IRN_2017",
        "pages_map": {
          "P0": "page63.md",
          "P1": "page64.md",
          "P2": "page65.md"
        }
      },
      "author": "Benyamin Ghasemi Nia; Hamed Abdi; Atrin Arya; Mostafa Eynollahzadeh; Taha Miranzade; Hesameddin Rajabzadeh; Morteza Saghafian; Fateme Sajadi",
      "booklet title": "2017.pdf",
      "booklet_url": "https://drive.google.com/open?id=1CRn57wjHsFJ7FGJHLOLyq8YsC99o-CP9",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2016-2017. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_04c8efcf4872",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2017_p21_data_0e4267def4.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2017_p21_data_738da46321.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "Let it be a $k$-gon with $k \\ge 3$, it is easy to see that all vertices of the convex hull are of degree 2. Because if $l$ is one of the two lines passing through $P$, a vertex of the convex hull, all the intersection points on it, lie inside of the $k$-gon and therefore, on the same side of $P$. So $P$ has only one adjacent on this line and considering the other line passing through $P$, we conclude that $P$ has the degree of 2 in the graph.\n\n% IMAGE: ![](images/2017_p21_data_0e4267def4.png)\n\nTherefore $a \\ge k \\ge 3$ and the proof is complete.\n\n% IMAGE: ![](images/2017_p21_data_738da46321.png)",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P1"
          ],
          "path": "images/2017_p21_data_0e4267def4.png",
          "title": ""
        },
        {
          "alt": "",
          "pages": [
            "P1"
          ],
          "path": "images/2017_p21_data_738da46321.png",
          "title": ""
        }
      ],
      "statement_latex": "Consider a graph $G$ with vertices of the intersection points in the statement of the problem and with edges of the segments made on these lines (means segments that have their terminal points chosen between the intersection points, and have no other intersection points on them). Any two of these $n$ lines have exactly one intersection point, therefore $G$ is a graph with $\\frac{n(n-1)}{2}$ vertices. On the other hand, any line has $n-1$ intersection points on itself, hence the segments between these points give $n-2$ edges of $G$. So there are a total of $n(n-2)$ edges in $G$.\n\nSince there are at least three lines, any vertex of $G$ has degree 2, 3 or 4, let the number of vertices with each of degree be $a, b$ and $c$, respectively. Vertices with the highest degree are the **interior** points. Note that having the number of vertices of $G$ and the fact that the sum of the degrees is twice as the number of the edges, we obtain\n\n$$\na + b + c = \\frac{n(n-1)}{2}, \\quad 2a + 3b + 4c = 2n(n-2).\n$$\n\nIf we subtract triple of the first equation from the second one we get\n\n$$\nc - a = \\frac{n^2 - 5n}{2} \\implies c = (a - 3) + \\frac{(n - 2)(n - 3)}{2}.\n$$\n\nSo the problem is equivalent to prove that there are at least 3 vertices with degree 2. To prove this, consider the convex hull of these points."
    },
    {
      "_provenance": {
        "folder": "IRN_2017",
        "pages_map": {
          "P0": "page63.md",
          "P1": "page64.md",
          "P2": "page65.md"
        }
      },
      "author": "Benyamin Ghasemi Nia; Hamed Abdi; Atrin Arya; Mostafa Eynollahzadeh; Taha Miranzade; Hesameddin Rajabzadeh; Morteza Saghafian; Fateme Sajadi",
      "booklet title": "2017.pdf",
      "booklet_url": "https://drive.google.com/open?id=1CRn57wjHsFJ7FGJHLOLyq8YsC99o-CP9",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2016-2017. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_35d88344173b",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "\\[\n\\implies \\left\\{ \\begin{array}{l} \\widehat{ASD} = \\widehat{ATD}, \\\\ \\widehat{ASB} = \\widehat{ATB}. \\end{array} \\right. \\qquad (1)\n\\]\n\nNote that\n\n\\[\n\\widehat{BAS} = 180^{\\circ} - \\widehat{ABS} - \\widehat{ASB} = 180^{\\circ} - \\beta - (180^{\\circ} + \\alpha - \\beta - \\theta) = \\theta - \\alpha = \\widehat{DAC}.\n\\]\n\nSo it suffices to show that $S = T$. If $S$ and $T$ are not coincident, then using (1), quadrilaterals $ABST$ and $ADST$ are cyclic, therefore $BADS$ is also cyclic and\n\n\\[\n\\begin{align*} \\beta + \\theta = 180^{\\circ} \\implies \\widehat{BSA} &= \\widehat{DSA} = 180^{\\circ} + \\alpha - \\beta - \\theta = \\alpha, \\\\ \\implies \\widehat{BSD} &= \\widehat{BSA} + \\widehat{DSA} = 2\\alpha, \\\\ \\implies \\widehat{BTD} &= \\widehat{BSD} = 2\\alpha = \\widehat{BCD}. \\end{align*}\n\\]\n\nBut according to the statement of the problem, $T$ lies in the interior of $ABCD$ and $\\widehat{BTD} > \\widehat{BCD}$. Therefore $S$ and $T$ are coincident on each other, hence the claim of the problem. ",
          "pages": [
            "P1"
          ],
          "status": "complete"
        },
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/2017_p22_data_e2b6b78738.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "% IMAGE: ![](images/2017_p22_data_e2b6b78738.png)\n\n\\[\n\\begin{align*} \\widehat{BCA} = \\widehat{DCA} \\implies \\widehat{ABC} + \\widehat{BAC} &= \\widehat{ADC} + \\widehat{DAC}, \\\\ \\implies \\widehat{ABC} - \\widehat{DAC} &= \\widehat{ADC} - \\widehat{BAC}, \\\\ \\implies \\widehat{ATD} = \\widehat{ATB} = \\alpha. \\end{align*}\n\\]\n\nPoint $P$ lies on diagonal $AC$ such that $\\widehat{PBC} = \\widehat{DAC}$, so we have\n\n\\[\n\\begin{gather*} \\widehat{ABP} = \\widehat{ABC} - \\widehat{PBC} = \\widehat{ABC} - \\widehat{DAC} = \\alpha, \\\\ \\triangle BPC \\sim ADC \\implies \\frac{BC}{AC} = \\frac{PC}{DC}. \\end{gather*}\n\\]\n\nHence,\n\n\\[\n\\left.\n\\begin{array}{l}\n\\widehat{BCA} = \\widehat{DCA} \\\\\n\\frac{BC}{PC} = \\frac{AD}{DC}\n\\end{array}\n\\right\\} \\implies DPC \\sim \\widehat{\\Delta} \\sim \\widehat{\\Delta} ABC,\n\\\\[2ex]\n\\implies \\widehat{PDC} = \\widehat{BAC},\n\\\\[2ex]\n\\implies \\widehat{ADP} = \\widehat{ADC} - \\widehat{PDC} = \\widehat{ADC} - \\widehat{BAC} = \\alpha.\n\\]\n\nLet $X$ be the intersection point of $DP$ and $BT$, we have\n\n\\[\n\\begin{align*}\n\\widehat{ADX} &= \\widehat{ATX} = \\alpha \\implies ADTX \\text{ is cyclic.} \\\\\n\\widehat{AXD} &= \\widehat{ATD} = \\widehat{ABP} = \\alpha \\implies ABPX \\text{ is cyclic.}\n\\end{align*}\n\\]\n\nTherefore,\n\n\\[\n\\widehat{BAP} = \\widehat{BXP} = \\widehat{DXT} = \\widehat{DAT} \\implies \\widehat{BAT} = \\widehat{DAC}.\n\\]\n\n",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/2017_p21_data_d8800cc3c6.png",
          "title": ""
        }
      ],
      "statement_latex": "Vertex $A$ lies on the angle bisector of $\\widehat{C}$ and has equal distances to the lines $CB$ and $CD$. So there exists a circle with center $A$ that is tangent to $CB$ and $CD$.\n\nLet $S$ be the intersection of second tangent lines through points $B$ and $D$ to this circle.\n\n% IMAGE: ![](images/2017_p21_data_d8800cc3c6.png)\n\n\\[\n\\begin{aligned}\n\\widehat{BSD} &= \\widehat{BCD} + \\widehat{CBS} + \\widehat{CDS} = 2\\alpha + 180^{\\circ} - 2\\beta + 180^{\\circ} - 2\\theta \\\\\n&= 2(180^{\\circ} + \\alpha - \\beta - \\theta),\n\\end{aligned}\n\\]\n\n\\[\n\\Rightarrow \\widehat{BSA} = \\widehat{DSA} = 180^{\\circ} + \\alpha - \\beta - \\theta,\n\\]\n\n\\[\n\\Rightarrow \\left\\{ \\begin{array}{l} \\widehat{ABC} - \\widehat{ASD} = (180^{\\circ} - \\beta) - (180^{\\circ} + \\alpha - \\beta - \\theta) = \\theta - \\alpha = \\widehat{DAC}, \\\\ \\widehat{ADC} - \\widehat{ASB} = (180^{\\circ} - \\beta) - (180^{\\circ} + \\alpha - \\beta - \\theta) = \\beta - \\alpha = \\widehat{BAC}, \\end{array} \\right.\n\\]"
    },
    {
      "_provenance": {
        "folder": "IRN_2017",
        "pages_map": {
          "P0": "page63.md",
          "P1": "page64.md",
          "P2": "page65.md"
        }
      },
      "author": "Benyamin Ghasemi Nia; Hamed Abdi; Atrin Arya; Mostafa Eynollahzadeh; Taha Miranzade; Hesameddin Rajabzadeh; Morteza Saghafian; Fateme Sajadi",
      "booklet title": "2017.pdf",
      "booklet_url": "https://drive.google.com/open?id=1CRn57wjHsFJ7FGJHLOLyq8YsC99o-CP9",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2016-2017. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_e3da4138e9cc",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P0"
              ],
              "path": "images/2017_p22_data_e2b6b78738.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "**Second solution.**\n\n% IMAGE: ![](images/2017_p22_data_e2b6b78738.png)\n\n$$\n\\begin{align*} \\widehat{BCA} = \\widehat{DCA} \\implies \\widehat{ABC} + \\widehat{BAC} &= \\widehat{ADC} + \\widehat{DAC}, \\\\ \\implies \\widehat{ABC} - \\widehat{DAC} &= \\widehat{ADC} - \\widehat{BAC}, \\\\ \\implies \\widehat{ATD} = \\widehat{ATB} = \\alpha. \\end{align*}\n$$\n\nPoint $P$ lies on diagonal $AC$ such that $\\widehat{PBC} = \\widehat{DAC}$, so we have\n\n$$\n\\begin{gather*} \\widehat{ABP} = \\widehat{ABC} - \\widehat{PBC} = \\widehat{ABC} - \\widehat{DAC} = \\alpha, \\\\ \\triangle BPC \\sim ADC \\implies \\frac{BC}{AC} = \\frac{PC}{DC}. \\end{gather*}\n$$\nHence,\n\n$$\n\\left.\n\\begin{array}{l}\n\\widehat{BCA} = \\widehat{DCA} \\\\\n\\frac{BC}{PC} = \\frac{AD}{DC}\n\\end{array}\n\\right\\} \\implies DPC \\sim \\widehat{\\Delta} \\sim \\widehat{\\Delta} ABC,\n\\\\[2ex]\n\\implies \\widehat{PDC} = \\widehat{BAC},\n\\\\[2ex]\n\\implies \\widehat{ADP} = \\widehat{ADC} - \\widehat{PDC} = \\widehat{ADC} - \\widehat{BAC} = \\alpha.\n$$\n\nLet $X$ be the intersection point of $DP$ and $BT$, we have\n\n$$\n\\begin{align*}\n\\widehat{ADX} &= \\widehat{ATX} = \\alpha \\implies ADTX \\text{ is cyclic.} \\\\\n\\widehat{AXD} &= \\widehat{ATD} = \\widehat{ABP} = \\alpha \\implies ABPX \\text{ is cyclic.}\n\\end{align*}\n$$\n\nTherefore,\n\n$$\n\\widehat{BAP} = \\widehat{BXP} = \\widehat{DXT} = \\widehat{DAT} \\implies \\widehat{BAT} = \\widehat{DAC}.\n$$\n\n\\u25a0",
          "pages": [
            "P0",
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "$$\n\\implies \\left\\{ \\begin{array}{l} \\widehat{ASD} = \\widehat{ATD}, \\\\ \\widehat{ASB} = \\widehat{ATB}. \\end{array} \\right. \\qquad (1)\n$$\n\nNote that\n\n$$\n\\widehat{BAS} = 180^{\\circ} - \\widehat{ABS} - \\widehat{ASB} = 180^{\\circ} - \\beta - (180^{\\circ} + \\alpha - \\beta - \\theta) = \\theta - \\alpha = \\widehat{DAC}.\n$$\n\nSo it suffices to show that $S = T$. If $S$ and $T$ are not coincident, then using (1), quadrilaterals $ABST$ and $ADST$ are cyclic, therefore $BADS$ is also cyclic and\n\n$$\n\\begin{align*} \\beta + \\theta = 180^{\\circ} \\implies \\widehat{BSA} &= \\widehat{DSA} = 180^{\\circ} + \\alpha - \\beta - \\theta = \\alpha, \\\\ \\implies \\widehat{BSD} &= \\widehat{BSA} + \\widehat{DSA} = 2\\alpha, \\\\ \\implies \\widehat{BTD} &= \\widehat{BSD} = 2\\alpha = \\widehat{BCD}. \\end{align*}\n$$\n\nBut according to the statement of the problem, $T$ lies in the interior of $ABCD$ and $\\widehat{BTD} > \\widehat{BCD}$. Therefore $S$ and $T$ are coincident on each other, hence the claim of the problem. \\u25a0"
    },
    {
      "_provenance": {
        "folder": "IRN_2017",
        "pages_map": {
          "P0": "page63.md",
          "P1": "page64.md",
          "P2": "page65.md"
        }
      },
      "author": "Benyamin Ghasemi Nia; Hamed Abdi; Atrin Arya; Mostafa Eynollahzadeh; Taha Miranzade; Hesameddin Rajabzadeh; Morteza Saghafian; Fateme Sajadi",
      "booklet title": "2017.pdf",
      "booklet_url": "https://drive.google.com/open?id=1CRn57wjHsFJ7FGJHLOLyq8YsC99o-CP9",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2016-2017. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_8d41d55be446",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "**Lemma.** If $X, Y$ are relatively prime, then $X + Y \\mid g(X) - g(Y)$.\n\n*Proof.* By the statement of the problem, $Xg(X) + Yg(Y)$ is divisible by $X+Y$. Adding $-(X+Y)g(Y)$ to that number, implies $X(g(X) - g(Y))$ is divisible by $X+Y$. But $X$ and $X+Y$ are relatively prime, therefore $X+Y \\mid g(X) - g(Y)$.\n\nNow assume that $x'$ is an odd and sufficiently large number that is relatively prime to $x$, in this case according to the lemma\n\n$$\nx + x' \\mid (a - b)(x - x'),\n$$\n\nbut since $\\text{gcd}(x+x', x-x') = 2$ we obtain that $\\frac{x+x'}{2} \\mid (a-b)$. Now choose $x'$ such that it is greater than $2|a-b|$, it implies $a-b=0$ and therefore for large odd numbers $x$ we have $g(x) = 2a-b=a$ and the claim is proved.\n\nNow let $y$ be an arbitrary positive integer, if $x$ is a sufficiently large number, relatively prime with $2y$, according to the lemma\n\n$$\nx + y \\mid g(x) - g(y) = a - g(y).\n$$\n\nSetting $x$ such that it is greater than $|a-g(y)|$, implies $g(y) = a$ and hence $f(y) = ay$.\n\nFinally, using the second assumption we get that the only solutions are $f(x) = ax$ where $a$ is a positive integer not exceeding $\\frac{1395^2}{2}$. $\\blacksquare$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "6. First note that setting $x = y$ in the first assumption implies $f(x)$ is divisible by $x$ and therefore we can write $f(x) = xg(x)$ where $g(x)$ is always an integer. Now set $g(1) = a$ and $g(2) = b$. We are going to show that for an odd and sufficiently large number $x$, $g(x)$ is equal to $a$. To prove this, we use the first assumption twice, for $y = 1$ and $y = 2$, and an odd number $x$\n\n$$\n\\left.\n\\begin{array}{l}\nx + 1 \\mid xg(x) + a \\\\\nx + 1 \\mid (x + 1)g(x)\n\\end{array}\n\\right\\} \\implies x + 1 \\mid g(x) - a,\n\\\\[2ex]\n\\left.\n\\begin{array}{l}\nx + 2 \\mid xg(x) + 2b \\\\\nx + 2 \\mid (x + 2)g(x)\n\\end{array}\n\\right\\} \\implies x + 2 \\mid 2(g(x) - b) \\implies x + 2 \\mid g(x) - b.\n$$\n\n(The last result is true because $x+2$ is odd.) Therefore, according to\nthe fact that $x+1$ and $x+2$ are relatively prime, the remainder of $g(x)$\nwhen divided by $(x+1)(x+2)$ is uniquely found knowing the remainder\nwhen divided by $x+1$ and $x+2$. The number $a(x+2) - b(x+1)$ as\ng(x)$ satisfies both the above relations. So we have\n\n$$\ng(x) = a(x+2) - b(x+1) + c(x+1)(x+2) = cx^2 + (3c+a-b)x + (2c+2a-b).\n$$\n\nWhere $c$ is an integer. According to the statement of the problem, for sufficiently large $x$ we have $0 < g(x) \\le \\frac{x^2}{2}$, therefore $c$ is a non-negative number and is at most $\\frac{1}{2}$, since it is an integer, $c = 0$ and we have\n\n$$\ng(x) = (a - b)x + (2a - b).\n$$\n\n(For sufficiently large odd values of $x$.)"
    },
    {
      "_provenance": {
        "folder": "IRN_2017",
        "pages_map": {
          "P0": "page63.md",
          "P1": "page64.md",
          "P2": "page65.md"
        }
      },
      "author": "Benyamin Ghasemi Nia; Hamed Abdi; Atrin Arya; Mostafa Eynollahzadeh; Taha Miranzade; Hesameddin Rajabzadeh; Morteza Saghafian; Fateme Sajadi",
      "booklet title": "2017.pdf",
      "booklet_url": "https://drive.google.com/open?id=1CRn57wjHsFJ7FGJHLOLyq8YsC99o-CP9",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2016-2017. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_87136ee426b7",
      "language": "und",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Let $P(x, y)$ be the assertion\n\n\\[\nf(x + g(y))^2 = f(x^2) + y^2\n\\]\n\nIf $g(f(t)) < t$ for some $t > 0$, then $P(t - g(f(t)), f(t))$ implies\n\n\\[\nf(t)^2 = f((t - g(t))^2) + f(t)^2 \\implies f((t - g(t))^2) = 0\n\\]\n\nwhich is impossible.\n\nSo $g(f(x)) \\ge x$, for all positive real numbers $x$. Hence the solution is complete. ",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let $P(x, y)$ be the assertion\n\n\\[\nf(x + g(y))^2 = f(x^2) + y^2\n\\]\n\nIf $g(f(t)) < t$ for some $t > 0$, then $P(t - g(f(t)), f(t))$ implies\n\n\\[\nf(t)^2 = f((t - g(t))^2) + f(t)^2 \\implies f((t - g(t))^2) = 0\n\\]\n\nwhich is impossible.\n\nSo $g(f(x)) \\ge x$, for all positive real numbers $x$. Hence the solution is complete. "
    },
    {
      "_provenance": {
        "folder": "IRN_2017",
        "pages_map": {
          "P0": "page63.md",
          "P1": "page64.md",
          "P2": "page65.md"
        }
      },
      "author": "Benyamin Ghasemi Nia; Hamed Abdi; Atrin Arya; Mostafa Eynollahzadeh; Taha Miranzade; Hesameddin Rajabzadeh; Morteza Saghafian; Fateme Sajadi",
      "booklet title": "2017.pdf",
      "booklet_url": "https://drive.google.com/open?id=1CRn57wjHsFJ7FGJHLOLyq8YsC99o-CP9",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2016-2017. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_fe9782f22bc3",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": " A and C are not in the same path.\n\nWithout loss of generality, assume that pairs A and D are in the same path and therefore B and C are also in the same path. With similar argument, we find out that either both paths have an odd number of edges, or both have an even number of edges.\n\nIn the first case we conclude that the color of A is different with D, and the color of C is different with B. Since A and C have the same color, this implies that B and D have the same color.\n\nSimilarly in the second case we conclude that A, B, C, D all have the same color.\n\nSo in each case, the claim of the problem is proved.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Consider a graph $G$ as follows, vertices of rectangles of the partition are vertices of $G$, two vertices are connected if they are opposite corners of a rectangle of the partition. Obviously, there are $2n$ edges in $G$ where $n$ is the number of rectangles used in the partition.\n\nNote that if some point is a vertex of 3 rectangles, it must be a vertex of exactly 4 rectangles. By the statement of the problem, we conclude that each vertex of $G$ has degree equal to 1 or 2 and also, the only points with degree 1 are $A, B, C, D$. Therefore, it is easy to see that $G$ can be partitioned into some cycles and some paths. Each cycle has an even number of vertices, since any two adjacent vertices have the opposite colors. Also, since the first and the last vertices of each path are of degree 1, we conclude that there are exactly two paths in $G$, with ending points of $A, B, C, D$. There are two possibilities.\n\n* A and C are in the same path.\n\nWe know that the total number of edges is an even number (2n) and each cycle also has an even number of edges, and since A and C have the same color. The path containing A and C also has an even number of edges. Therefore, the remaining path of the graph, starts and ends with B and D and must have an even number of edges. Since any two adjacent vertices have different colors, we conclude that B and D are of the same color."
    },
    {
      "_provenance": {
        "folder": "IRN_2017",
        "pages_map": {
          "P0": "page63.md",
          "P1": "page64.md",
          "P2": "page65.md"
        }
      },
      "author": "Benyamin Ghasemi Nia; Hamed Abdi; Atrin Arya; Mostafa Eynollahzadeh; Taha Miranzade; Hesameddin Rajabzadeh; Morteza Saghafian; Fateme Sajadi",
      "booklet title": "2017.pdf",
      "booklet_url": "https://drive.google.com/open?id=1CRn57wjHsFJ7FGJHLOLyq8YsC99o-CP9",
      "competition name": "Iranian Mathematical Olympiad",
      "copyright_info": "Young Scholars Club 2016-2017. All rights reserved. Ministry of Education, Islamic Republic of Iran.",
      "has_solutions": true,
      "id": "p_3d30a5143516",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Therefore we obtain\n\n$$\n\\frac{10^m - 1}{9} \\le \\frac{10^{m_n} - 1}{3} \\times \\dots \\times \\frac{10^{m_1} - 1}{3}.\n$$\n\nIf $n \\ge 2$ we have\n\n$$\n\\begin{aligned} 3^{n-2}(10^m - 1) &\\le (10^{m_n} - 1)(10^{m_{n-1}} - 1)\\cdots(10^{m_1} - 1) \\\\ &< 10^{m_n} \\times 10^{m_{n-1}} \\times \\cdots \\times 10^{m_2} \\times (10^{m_1} - 1) \\\\ &< 10^{m_n+m_{n-1}+\\cdots+m_1} - 1 = 10^m - 1. \\end{aligned}\n$$\n\nWhich is impossible. Therefore $n=1$. So the only possible case is when $A = \\overleftarrow{A}$, that means $A$ is a **Palindromic number** (a number that remains the same when its digits are reversed). Clearly, all Palindromic numbers with digits of {1, 2, 3} satisfy the conditions.\n\nb) This part is a test of effort! Note that if we could find a **good** number $m = \\overline{A_1A_2\\cdots A_n}$ where $A_i$'s are blocks of $m$ such that\n\n$$\n\\frac{m}{7} = A_1 \\times \\cdots \\times A_n,\n$$\n\nthen $10m$ is also a **good** number because\n\n$$\n\\frac{10m}{7} = A_1 \\times \\cdots \\times \\overline{A_n 0}.\n$$\n\nTherefore $m, 10m, 100m, \\dots$ are all **good** numbers. So indeed, we just need to find a single **good** number. Now if we start to check the multiplies of 7 one by one, we shall finally reach $7 \\times 45 = 315$ that for which\n\n$$\n\\frac{315}{7} = 3 \\times 15.\n$$\n\nTherefore by putting $m = 315$, we can find infinitely many **good** numbers, $\\{315, 3150, 31500, \\dots\\}$. \\blacksquare",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "5. a) For any number $A$, let \\overleftarrow{A}$ be the reverse decimal expansion of $A$. Assume that $A = \\overline{A_nA_{n-1}\\cdots A_1}$ is a **mirror-symmetry** number with $m$ digits, all from $\\{1, 2, 3\\}$, and $A_n, A_{n-1}, \\dots, A_1$ are blocks of $A$ with number of digits $m_n, \\dots, m_1$ such that\n\n$$\nA = \\overleftarrow{A_n} \\times \\overleftarrow{A_{n-1}} \\times \\dots \\times \\overleftarrow{A_1}.\n$$\n\nNote that for all $1 \\le i \\le n$, we have\n\n$$\n\\overleftarrow{A}_i \\le \\underbrace{333\\cdots33}_{m_i} = \\frac{10^{m_i} - 1}{3}.\n$$\n\nOn the other hand,\n\n$$\nA \\ge \\underbrace{111\\cdots11}_{m} = \\frac{10^m - 1}{9}.\n$$"
    },
    {
      "_provenance": {
        "folder": "IRN_2017",
        "pages_map": {
          "P0": "page63.md",
          "P1": "page64.md",
          "P2": "page65.md"
        }
      },
      "author": "Benyamin Ghasemi Nia; Hamed Abdi; Atrin Arya; Mostafa Eynollahzadeh; Taha Miranzade; Hesameddin Rajabzadeh; Morteza Saghafian; Fateme Sajadi",
    