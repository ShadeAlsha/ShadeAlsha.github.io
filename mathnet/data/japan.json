{
  "2006": [
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_64da55c19dd3",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Let $n = 100A + 10B + C$. Then,\n\n$$\nn - m = (100A + 10B + C) - (A + 10B + 100C) = 99(A - C).\n$$\n\nSince A and C can be any natural number between 1 and 9, the\nmaximum value of n - m is $99 \\cdot (9 - 1) = 792$.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "$n$ is a positive 3-digit number, and its hundred's place and its one's place are not 0. Make a new number by exchanging the hundred's place and the one's place of $n$, and call it $m$. Answer the maximum value of $n - m$."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_78d34626f0e9",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Denote by A, B and C the three apexes of the triangle and by $a$\nthe length of one edge. Then\n\n$$\n\\triangle ABC = \\frac{\\sqrt{3}}{4} a^2, \\text{ and}\n$$\n\n$$\n\\triangle ABC = \\triangle ABP + \\triangle BCP + \\triangle CAP = \\frac{1}{2} \\cdot (1 + 2 + 3) \\cdot a = 3a.\n$$",
          "pages": [
            "P2"
          ],
          "status": "truncated"
        }
      ],
      "statement_images": [],
      "statement_latex": "$P$ is a point inside an equilateral triangle. The length of the perpendiculars from $P$ towards three sides are 1, 2, and 3. Answer the length of one edge of this triangle."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_7f897d46b675",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "576",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "A 3 \\times 4 grid is given. Answer the number of possible cases to write a number among 1, 2, 3 or 4 in each square so that\n\n* no number appears twice (or more) in the same row, and\n\n* no number appears twice (or more) in the same column."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_4f9631c595b5",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "(6, 19, 30)",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Find three distinct positive integers which minimize their sum under the condition that any two of them add up to a perfect square."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_fb2b5351326f",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "(1, 2, 3)",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Find all real numbers $x, y$ and $z$ such that all the following equations hold.\n\n$$\nx^2 - 3y - z = -8\n$$\n\n$$\ny^2 - 5z - x = -12\n$$\n\n$$\nz^2 - x - y = 6\n$$"
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_11b7da787021",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "322",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "6. A 3 \\times 3 grid is given. We color each square by red or blue so that no red 2 \\times 2 square nor blue 2 \\times 2 square appears. How many such colorings are there?\n\nWe consider two colorings different even if they correspond by rotation and/or reversal."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_b8b23eec2749",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "7",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "7. x, y and z are distinct 2-digit positive integers. The first digit of x is equal to the second digit of y, the first digit of y is equal to the second digit of z, and the first digit of z is equal to the second digit of x. How many positive integers can be the greatest common divisor of x, y and z?"
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_2bffc75e3c6d",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "14",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "8. Tomohiro and Akinori read mathematical books as follows. Akinori reads 2 pages a day. Tomohiro reads 3 pages a day. However, each of the two stop reading of that day if he reaches the end of a chapter.\n\nThere is a mathematical book which consists of 10 chapters and 120 pages. Find the smallest value of the difference between the number of days in which Akinori reads the book and that of Tomohiro. A new chapter always begins with a new page."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_fa0abe440aba",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "\\frac{7}{\\sqrt{3}}",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "9. The triangle ABC satisfies $BC = 5$, $CA = 7$ and $AB = 8$. Let O be a point inside the triangle ABC such that the triangles OBC, OCA and OAB have the same circumradius. Find their common circumradius."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_ff34bef9d5b9",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "60",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "10. A dodecahedron and a vertex X of the dodecahedron are given. An ant started from X, walked along the edges of the dodecahedron, passing each of the vertices of the dodecahedron except X just once, and returned to X. How many such routes exist? We consider a route and its reversal to be different."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_f2a8bbd6adfd",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "\\frac{\\pi}{4}",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "11. For $0 \\le x, y \\le 1$, Let\n\n$$\nf(x, y) = xy^2 \\sqrt{1-x^2} - x^2 y \\sqrt{1-y^2}\n$$\nFind the minimum constant $c$ for which the following condition\nholds.\n\nFor any integer $n > 1$ and any real numbers $a_1, a_2, \\dots, a_n$\nsuch that $0 \\le a_1 < a_2 < \\dots < a_n \\le 1$,\n\n$$\nf(a_1, a_2) + f(a_2, a_3) + \\dots + f(a_{n-1}, a_n) < c\n$$"
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_8e728cac92d2",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "$x + y + z = (10a + b) + (10b + c) + (10c + a) = 11(a + b + c)$ is divisible by $d$. Since $d$ is not divisible by $11$, $a+b+c$ is divisible by $d$. Thus $d \\le a+b+c \\le 27$.\n\nAlso, $100x - 10y + z = 1000a + 100b - 100b - 10c + 10c + a = 1001a$ is divisible by $d$. Similarly, $1001b$ and $1001c$ are divisible by $d$. So $1001k$ and hence $91k$ is divisible by $d$, where $k$ is the greatest common divisor of $a, b$ and $c$.\n\nSince $d \\le 27$ and $k \\le 4$ (otherwise $x = y = z$), $d$ is one of $1, 2, 3, 4, 7, 13, 14, 21$ or $26$.\n\nBut, $d$ cannot be $21$, because a 2-digit multiple of $21$ must be $21, 42, 63$ or $84$, and we can't find $x, y, z$ among them with the required conditions. Similarly, $d$ cannot be $26$.\n\nOn the other hand, since $(x, y, z) = (32, 21, 13), (64, 42, 26), (96, 63, 39), (88, 84, 48), (42, 21, 14), (65, 52, 26)$ and $(84, 42, 28)$ give examples for $d = 1, 2, 3, 4, 7, 13$ and $14$, there are exactly $7$ such $d$'s.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "7. We can write $x = 10a + b$, $y = 10b + c$, $z = 10c + a$ with positive integers $a, b, c$ less than 10. Let $d$ be the greatest common divisor of $x, y$ and $z$. 11 cannot divide $d$, since otherwise it contradicts the fact that $x, y$ and $z$ are distinct."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_0adaef413ed8",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "chapter *m*_i days faster than Akinori. Since\n\n$$\n\\sum_{i=1}^{10} m_i = \\frac{1}{6} \\left( \\sum_{i=1}^{10} n_i - \\sum_{i=1}^{10} k_i \\right) = \\frac{1}{6} \\left( 120 - \\sum_{i=1}^{10} k_i \\right)\n$$\n\nand $k_i \\le 4$, it follows that $\\sum m_i \\ge 20 - \\frac{40}{6}$, hence $\\sum m_i \\ge 14$. This value is in fact attained if, for example, $n_1 = n_2 = \\dots = n_9 = 10$ and $n_{10} = 30$. Therefore, the smallest value is **14**.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "8. It is clear that the smallest value exists. Let $B$ a book with $n_i$ pages for the $i$-th chapter which attains the smallest value.\n\nWe first prove that none of $n_1, n_2, \\dots, n_{10}$ are equivalent to $3$ or $5$ modulo $6$. Assume that $n_1 \\equiv 3, 5 \\pmod{6}$. Checking the parity, we can assume without loss of generality that $n_2$ is odd. Consider book $B'$ whose chapter one has 4 pages, chapter two has $n_1 + n_2 - 4$ pages, and the remaining chapters have the same number of pages with corresponding chapters of $B$. Then easy computation shows that Akinori can read $B'$ faster than $B$, and that Tomohiro can't read $B'$ faster than $B$. Then the difference of the days needed to read $B'$ is smaller than that of $B$, which contradicts minimality of $B$.\n\nNow let $n_i = 6m_i + k_i$ ($m_i$ nonnegative, $k_i$ nonnegative $< 6$ and $k_i \\ne 3, 5$). Then it can be easily checked that Tomohiro reads $i$-th"
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_74239ceec5c6",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Since $\\angle ACM = \\angle BDM$ (because of $MA = MB$), $\\angle PCQ = \\angle PDQ$, so four points C, D, P and Q are concyclic. So $\\angle PQD = \\angle PCD = \\angle ACD = \\angle ABD$. Therefore AB and PQ, hence AB and XY are parallel. Since M is the middle point of the arc AB, it is also that of the arc XY. Thus $MX = MY$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Five distinct points A, M, B, C and D are on a circle O in this order with $MA = MB$.\n\nLet the lines AC and MD intersect at P, the lines BD and MC\nat Q. Let the line PQ meet the circle O at X and Y. Prove that\n$MX = MY$."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_9e271a20a1c3",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Consider an arbitrary integer $k$. Take a complex number $\\alpha$ that meets $\\alpha^2 = k$. (For example, let $\\alpha = \\sqrt{k}$ if $k$ is nonnegative, and $\\alpha = i\\sqrt{-k}$ if $k$ negative.)\n\nIt is easy verify the following equalities:\n\n$$\n(n + \\alpha)(n + 1 - \\alpha) = ((n(n + 1) - k) + \\alpha), \\\\ (n - \\alpha)(n + 1 + \\alpha) = ((n(n + 1) - k) - \\alpha).\n$$\n\nBy multiplying these two formulae, we obtain an identity,\n\n$$\n(n^2 - k)((n + 1)^2 - k) = ((n(n + 1) - k)^2 - k).\n$$\n\nIn consequence, for any $k$, we can pick up any $n$ and let $(a, b, c) = (n, n + 1, n(n + 1) - k)$ so that the required equality holds. There are infinitely many $n$ and hence $(a, b, c)$. Therefore, every integer $k$ meets the required condition.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "2. Find every integer $k$ that satisfies the following condition.\n\nThere are infinitely many triplet $(a, b, c)$ of integers such that $(a^2 - k)(b^2 - k) = c^2 - k$."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_c03c874c6c54",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "The given equation clearly holds if $f(x) = 0$ for all $x$. Assume that there exists $a$ such that $f(a) \\neq 0$.\n\nSubstituting $y = -f(x)$ into the given equation and letting $c = f(0)$, we obtain\n\n$$\nf(-f(x)) = c + f(x)^2. \\quad (1)\n$$\n\nSubstituting $y = -f(y)$ into the equation and using (1),\n\n$$\n\\begin{aligned} f(f(x) - f(y)) &= f(x)^2 - 2f(x)f(y) + f(-f(y)) \\\\ &= f(x)^2 - 2f(x)f(y) + f(y)^2 + c \\\\ &= (f(x) - f(y))^2 + c. \\end{aligned} \\quad (2)\n$$\n\nSubstituting $x = a$, we obtain\n\n$$\nf(a)^2 + 2yf(a) = f(y + f(a)) - f(y).\n$$\n\nSince the left-hand side runs through $\\mathbb{R}$ when $y$ runs through $\\mathbb{R}$, the right-hand side runs through $\\mathbb{R}$. Hence, $f(x) - f(y)$ runs all real numbers when $x$ and $y$ run through $\\mathbb{R}$.\n\nTherefore, according to (2), $f(x) = x^2 + c$ for all $x$. This meets the given equation for any constant $c$.\n\nTherefore, $f(x) = x^2 + c$ ($c$ any constant) or $f(x) = 0$ (for all $x$).",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "3. Find every $f : \\mathbb{R} \\to \\mathbb{R}$ such that for any $x$ and $y$,\n\n$$\nf(x)^2 + 2yf(x) + f(y) = f(y + f(x)).\n$$"
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_e564a9caba24",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/Japan_2006_p13_data_9a06ce3ae1.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "By walking one block from one intersection to another, the sum of the coordinates changes its parity. Since there are totally $mn - 1$ blocks in the way, $(m, n, a, a', b, b')$ must satisfy one of the followings:\n\n(1) $mn$ is odd, and both $a+b$ and $a'+b'$ are even, or\n\n(2) $mn$ is even, and one of $a+b$ and $a'+b'$ is odd and the other is even.\n\nHowever, even if (1) or (2) holds, there are no such paths if one of the followings are satisfied (see Fig. 1):\n\n(3) $m = 2$ and $1 \\neq b = b' \\neq n$, or\n\n(4) $m = 3, n$ is even, ($b' - b > 1$ or $a = a' = 2$) and\n\n• $a+b$ is odd and $b < b'$, or\n\n• $a+b$ is even and $b > b'$.\n\n% IMAGE: ![](images/Japan_2006_p13_data_9a06ce3ae1.png)\n\nFigure 1: These examples satisfy (3) or (4), so there is no such paths.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "4. $m, n, a, a', b$ and $b'$ are positive integers with $2 \\le m \\le n$, $a, a' \\le m$, $b, b' \\le n$ and $(a, b) \\ne (a', b')$.\n\nThere is a rectangular town like a chessboard with $m$ avenues and $n$ streets. $\\langle x, y \\rangle$ represents the intersection of the $x$-th avenue from the west and the $y$-th street from the north. For which $(m, n, a, b, a', b')$ there exists a path from $\\langle a, b \\rangle$ to $\\langle a', b' \\rangle$ passing all the intersections exactly once?"
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_c6312a8c070d",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Since the left-hand side runs through $\\mathbb{R}$ when $y$ runs through $\\mathbb{R}$, the right-hand side runs through $\\mathbb{R}$. Hence, $f(x) - f(y)$ runs all real numbers when $x$ and $y$ run through $\\mathbb{R}$.\n\nTherefore, according to (2), $f(x) = x^2 + c$ for all $x$. This meets the given equation for any constant $c$.\n\nTherefore, $f(x) = x^2 + c$ ($c$ any constant) or $f(x) = 0$ (for all $x$).",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "3. The given equation clearly holds if $f(x) = 0$ for all $x$. Assume that there exists $a$ such that $f(a) \\neq 0$.\n\nSubstituting $y = -f(x)$ into the given equation and letting $c = f(0)$, we obtain\n\n$$\nf(-f(x)) = c + f(x)^2. \\quad (1)\n$$\n\nSubstituting $y = -f(y)$ into the equation and using (1),\n\n$$\n\\begin{aligned} f(f(x) - f(y)) &= f(x)^2 - 2f(x)f(y) + f(-f(y)) \\\\ &= f(x)^2 - 2f(x)f(y) + f(y)^2 + c \\\\ &= (f(x) - f(y))^2 + c. \\end{aligned} \\quad (2)\n$$\n\nSubstituting $x = a$, we obtain\n\n$$\nf(a)^2 + 2yf(a) = f(y + f(a)) - f(y).\n$$"
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_972152e980ba",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/Japan_2006_p14_data_62ab79912e.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "Now we take arbitrary $(m, n, a, b, a', b') = (\\hat{m}, \\hat{n}, \\hat{a}, \\hat{b}, \\hat{a}', \\hat{b}')$ satisfying $\\star$ and prove, by induction, the existence of a path with the required conditions.\n\n$\\star$ (1) or (2) satisfied, and neither (3) nor (4) satisfied.\n\nFor $\\hat{n} \\le 3$, see Fig. 2. Let $\\hat{n} > 3$ and assume, as presumption of the induction, that such paths exist for $(m, n) = (\\min\\{\\hat{m}, \\hat{n} - 2\\}, \\max\\{\\hat{m}, \\hat{n} - 2\\})$ and any $a, b, a'$ and $b'$ satisfying $\\star$.\n\n% IMAGE: ![](images/Japan_2006_p14_data_62ab79912e.png \"\")\n\nFigure 2: When $(\\hat{m}, \\hat{n}) = (2, 2), (2, 3)$ or $(3, 3)$, the positions of $(a, b)$ and $(a', b')$ are the same as one of those in the figure, allowing rotation and reversing. In any cases in the figure, there exists a path satisfying the required conditions.\n\nWhen both $\\hat{b}$ and $\\hat{b}'$ are greater than 2, excluding the cases mentioned in Fig. 3, there is a path which passes all the intersections on third to $m$-th avenue exactly once, because of the presumption of the induction. Since such paths always contain some part of the third avenue, one can expand that part as Fig. 4 and get a path which satisfies the required conditions. One can prove similarly the case both $\\hat{b}$ and $\\hat{b}'$ are less than $n-1$.\n\nReversing the direction if necessary, we may assume $\\hat{b} \\le 2$ and $\\hat{b}' \\ge \\hat{n} - 1$. Reversing the whole town if necessary, we may assume $\\hat{a} + \\hat{b}$ is even. Start from $\\langle \\hat{a}, \\hat{b} \\rangle$ and go to $\\langle 2, 1 \\rangle$ via all the intersections on the first and second avenue. Walk one block to the east. From that intersection, because of the presumption of the induction, there is a path to $\\langle \\hat{a}', \\hat{b}' \\rangle$ via all the rest intersections.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/Japan_2006_p13_data_9a06ce3ae1.png",
          "title": ""
        }
      ],
      "statement_latex": "4. By walking one block from one intersection to another, the sum of the coordinates changes its parity. Since there are totally $mn - 1$ blocks in the way, $(m, n, a, a', b, b')$ must satisfy one of the followings:\n\n(1) $mn$ is odd, and both $a+b$ and $a'+b'$ are even, or\n\n(2) $mn$ is even, and one of $a+b$ and $a'+b'$ is odd and the other is even.\n\nHowever, even if (1) or (2) holds, there are no such paths if one of the followings are satisfied (see Fig. 1):\n\n(3) $m = 2$ and $1 \\neq b = b' \\neq n$, or\n\n(4) $m = 3, n$ is even, ($b' - b > 1$ or $a = a' = 2$) and\n\n• $a+b$ is odd and $b < b'$, or\n\n• $a+b$ is even and $b > b'$.\n\n% IMAGE: ![](images/Japan_2006_p13_data_9a06ce3ae1.png \"\")\n\nFigure 1: These examples satisfy (3) or (4), so there is no such paths."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_b8aaa77f3a70",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P1"
              ],
              "path": "images/Japan_2006_p14_data_62ab79912e.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/Japan_2006_p15_data_41d09e2fa0.png",
              "title": ""
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/Japan_2006_p15_data_3510e45114.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "Now we take arbitrary $(m, n, a, b, a', b') = (\\hat{m}, \\hat{n}, \\hat{a}, \\hat{b}, \\hat{a}', \\hat{b}')$ satisfying $\\star$ and prove, by induction, the existence of a path with the required conditions.\n\n$\\star$ (1) or (2) satisfied, and neither (3) nor (4) satisfied.\n\nFor $\\hat{n} \\le 3$, see Fig. 2. Let $\\hat{n} > 3$ and assume, as presumption of the induction, that such paths exist for $(m, n) = (\\min\\{\\hat{m}, \\hat{n} - 2\\}, \\max\\{\\hat{m}, \\hat{n} - 2\\})$ and any $a, b, a'$ and $b'$ satisfying $\\star$.\n\n% IMAGE: ![](images/Japan_2006_p14_data_62ab79912e.png)\n\nFigure 2: When $(\\hat{m}, \\hat{n}) = (2, 2), (2, 3)$ or $(3, 3)$, the positions of $(a, b)$ and $(a', b')$ are the same as one of those in the figure, allowing rotation and reversing. In any cases in the figure, there exists a path satisfying the required conditions.\n\nWhen both $\\hat{b}$ and $\\hat{b}'$ are greater than 2, excluding the cases mentioned in Fig. 3, there is a path which passes all the intersections on third to $m$-th avenue exactly once, because of the presumption of the induction. Since such paths always contain some part of the third avenue, one can expand that part as Fig. 4 and get a path which satisfies the required conditions. One can prove similarly the case both $\\hat{b}$ and $\\hat{b}'$ are less than $n-1$.\n\nReversing the direction if necessary, we may assume $\\hat{b} \\le 2$ and $\\hat{b}' \\ge \\hat{n} - 1$. Reversing the whole town if necessary, we may assume $\\hat{a} + \\hat{b}$ is even. Start from $\\langle \\hat{a}, \\hat{b} \\rangle$ and go to $\\langle 2, 1 \\rangle$ via all the intersections on the first and second avenue. Walk one block to the east. From that intersection, because of the presumption of the induction, there is a path to $\\langle \\hat{a}', \\hat{b}' \\rangle$ via all the rest intersections.\n\n% IMAGE: ![](images/Japan_2006_p15_data_41d09e2fa0.png)\n\nFigure 3: The positions of $(a, b)$ and $(a', b')$ which don't meet $\\star$ if the two avenues are removed from the west are the case in the figure, and the upside-down version of it. In both cases in the figure, there are a way satisfying the conditions in the problem.\n\n% IMAGE: ![](images/Japan_2006_p15_data_3510e45114.png)\n\nFigure 4: Expand a block of the third avenue.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/Japan_2006_p13_data_9a06ce3ae1.png",
          "title": ""
        }
      ],
      "statement_latex": "By walking one block from one intersection to another, the sum of the coordinates changes its parity. Since there are totally $mn - 1$ blocks in the way, $(m, n, a, a', b, b')$ must satisfy one of the followings:\n\n(1) $mn$ is odd, and both $a+b$ and $a'+b'$ are even, or\n\n(2) $mn$ is even, and one of $a+b$ and $a'+b'$ is odd and the other is even.\n\nHowever, even if (1) or (2) holds, there are no such paths if one of the followings are satisfied (see Fig. 1):\n\n(3) $m = 2$ and $1 \\neq b = b' \\neq n$, or\n\n(4) $m = 3, n$ is even, ($b' - b > 1$ or $a = a' = 2$) and\n\n• $a+b$ is odd and $b < b'$, or\n\n• $a+b$ is even and $b > b'$.\n\n% IMAGE: ![](images/Japan_2006_p13_data_9a06ce3ae1.png)\n\nFigure 1: These examples satisfy (3) or (4), so there is no such paths."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_ab09d90922b8",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "obtain\n\n\\[\n\\begin{align*}\n& (p_1^3 + \\cdots + p_n^3)(q_1^3 + \\cdots + q_n^3)(r_1^3 + \\cdots + r_n^3)(p_1 q_1 r_1 + \\cdots + p_n q_n r_n) \\\\\n\\ge & ((p_1^{\\frac{3}{2}} q_1^{\\frac{3}{2}} + \\cdots + p_n^{\\frac{3}{2}} q_n^{\\frac{3}{2}})(p_1^{\\frac{1}{2}} q_1^{\\frac{1}{2}} r_1^2 + \\cdots + p_n^{\\frac{1}{2}} q_n^{\\frac{1}{2}} r_n^2))^2 \\\\\n\\ge & ((p_1 q_1 r_1 + \\cdots + p_n q_n r_n)^2)^2 \\\\\n= & (p_1 q_1 r_1 + \\cdots + p_n q_n r_n)^4\n\\end{align*}\n\\]\n\nand hence the desired inequality.\n\nLet $t = 6^{-\\frac{1}{3}}$. Using this inequality and AM-GM inequality,\n\n\\[\n\\begin{align*}\n& (x_1^3 + x_2^3 + x_3^3 + 1)(y_1^3 + y_2^3 + y_3^3 + 1)(z_1^3 + z_2^3 + z_3^3 + 1) \\\\\n&= (x_1^3 + x_2^3 + x_3^3 + t^3 + t^3 + t^3 + t^3 + t^3 + t^3) \\\\\n& \\quad \\times (t^3 + t^3 + t^3 + y_1^3 + y_2^3 + y_3^3 + t^3 + t^3 + t^3) \\\\\n& \\quad \\times (t^3 + t^3 + t^3 + t^3 + t^3 + t^3 + z_1^3 + z_2^3 + z_3^3) \\\\\n&\\ge (t^2 x_1 + t^2 x_2 + t^2 x_3 + t^2 y_1 + t^2 y_2 + t^2 y_3 + t^2 z_1 + t^2 z_2 + t^2 z_3)^3 \\\\\n&= \\frac{1}{36} \\left( (x_1 + y_1 + z_1) + (x_2 + y_2 + z_2) + (x_3 + y_3 + z_3) \\right)^3 \\\\\n&\\ge \\frac{3^3}{36} (x_1 + y_1 + z_1)(x_2 + y_2 + z_2)(x_3 + y_3 + z_3).\n\\end{align*}\n\\]\n\nEquality holds if and only if equality holds for each Cauchy-Schwarz and AM-GM, namely $x_1 = x_2 = x_3 = y_1 = y_2 = y_3 = z_1 = z_2 = z_3 = t$.\n\nTherefore, the maximum value of A is $\\frac{3}{4}$ and equality holds if\n$x_1 = x_2 = x_3 = y_1 = y_2 = y_3 = z_1 = z_2 = z_3 = t$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "First we prove that, for any positive real numbers $p_1, \\dots, p_n, q_1, \\dots, q_n, r_1, \\dots, r_n$, the following inequality holds:\n\n\\[\n(p_1^3 + \\cdots + p_n^3)(q_1^3 + \\cdots + q_n^3)(r_1^3 + \\cdots + r_n^3) \\ge (p_1q_1r_1 + \\cdots + p_nq_nr_n)^3.\n\\]\n\nIndeed, by using Cauchy-Schwarz inequality repeatedly, we"
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_041b7e8f3030",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Consider a regular octahedron A-BCDE-F. Denote by $\\pi_1, \\pi_2$ and $\\pi_3$ the plane passing through the diagonals BD and CE, the diagonals CE and AF, and the diagonals BD and EF, respectively.\n\nBy symmetry, $\\pi_1, \\pi_2$ and $\\pi_3$ divide the octahedron into 8 equal parts. The octahedron is divided into 8 triangular pyramids, and the cube is divided into 8 small cubes. The ratio of the volume of the small cube and the triangular pyramid is equal to that of the original cube and the octahedron. We will calculate the volume ratio of the small cube and the triangular pyramid.\n\nCall O the intersection of the 3 diagonals. Consider the triangular pyramid OABC and the cube in it. $\\angle AOB, \\angle BOC$ and $\\angle COA$ are right angles. Let M be the midpoint of BC and let G be the",
          "pages": [
            "P2"
          ],
          "status": "truncated"
        }
      ],
      "statement_images": [],
      "statement_latex": "We can make a cube by connecting every two centroids on neighboring faces of a regular octahedron. How many times is the cube as large as the octahedron?"
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_0a2ee9d2b28f",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "570",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "There are ten red cards, numbered 1, 2, ..., 10, and ten blue cards, also numbered 1, 2, ..., 10. How many ways are there to choose three from these twenty cards so that the sum of the numbers on the cards chosen is 16 or less?"
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_27f84bd862db",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "(6, 19, 30)",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Same as problem 4 of the first round."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_9d7c6d5154f2",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "7",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Same as problem 7 of the first round."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_4c82663275fe",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "(1) (x, y) = (1, -2), (1, -5)\n(2) (x, y) = (-2, -2), (-1, -4), (-1, -1), (1, -5), (1, -2), (2, -4)",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Consider the equation\n\n$$\nx^2 + xy + y^2 + 3x + 6y + 6 = 0. \\quad (*)\n$$\n\n(1) Find all pair $(x, y)$ of integers with $x = 1$ which satisfy equation $(*)$.\n\n(2) Find all pair $(x, y)$ of integers which satisfy equation $(*)$."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_cbfded932d85",
      "language": "en",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "an edge with the same color. How many such colorings are there if you can use\n\n(1) three colors (say red, blue and green)?\n\n(2) four colors (say red, blue, green and yellow)?\n\nIt is not necessary to use all the colors. We consider two colorings different even if they corresponds by rotation and/or reversal."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_9551ec03a94d",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "(1) Let $m = 3$. Find all integer $n \\le 10$ such that $(m, n)$ is good pair.\n\n(2) Find the number of good pair $(m, n)$ such that $2 \\le m, n \\le 10$. We consider ordered pairs, i.e., pairs $(m, n)$ and $(n, m)$ are considered different if $n \\ne m$.\n\n## Solutions\n\n12. (1) 3, 5, 7, 9 (2) 29",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "<table><tr><td>1</td><td>1</td><td>1</td><td>1</td></tr><tr><td>1</td><td>1</td><td>1</td><td>1</td></tr><tr><td>1</td><td>1</td><td>1</td><td>1</td></tr></table>",
          "title": ""
        },
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "<table><tr><td>2</td><td>3</td><td>3</td><td>2</td></tr><tr><td>3</td><td>4</td><td>4</td><td>3</td></tr><tr><td>2</td><td>3</td><td>3</td><td>2</td></tr></table>",
          "title": ""
        }
      ],
      "statement_latex": "12. Let $m, n$ be integers greater than 1. A $m \\times n$ grid is given. We want to write integers in each square so that\n\n(i) at least one of the entries are nonzero, and\n\n(ii) for each square $S$, $\\sigma(S) = 0$, where $\\sigma(S)$ denotes the sum of the entry in all the squares which are next to $S$ (i.e., all the squares which share an edge with $S$).\n\nFor example, let $m = 3, n = 4$. Assume that we write 1 in all unit squares.\n\n% IMAGE: <table><tr><td>1</td><td>1</td><td>1</td><td>1</td></tr><tr><td>1</td><td>1</td><td>1</td><td>1</td></tr><tr><td>1</td><td>1</td><td>1</td><td>1</td></tr></table>\n\nIf we write $\\sigma(S)$ in each square, it shows\n\n% IMAGE: <table><tr><td>2</td><td>3</td><td>3</td><td>2</td></tr><tr><td>3</td><td>4</td><td>4</td><td>3</td></tr><tr><td>2</td><td>3</td><td>3</td><td>2</td></tr></table>\n\nand so in this way condition (ii) does not hold.\n\nWe call $(m, n)$ a *good pair* if we can write integers in the squares with conditions (i) and (ii).\n\nFor example, consider the pair $(2, 2)$."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_3b0cc31b2051",
      "language": "en",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "12. (1) 3, 5, 7, 9 (2) 29",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "(1) Let $m = 3$. Find all integer $n \\le 10$ such that $(m, n)$ is good pair.\n\n(2) Find the number of good pair $(m, n)$ such that $2 \\le m, n \\le 10$. We consider ordered pairs, i.e., pairs $(m, n)$ and $(n, m)$ are considered different if $n \\ne m$."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_e77a637bcc8b",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "(2) Assume that $(x, y)$ is a root of the given equation. Substituting the value of $x$, we obtain a quadratic equation $y^2 + (x+6)y + (x^2+3x+6) = 0$ of variable $y$. The roots of this equation are\n\n$$\ny = \\frac{-(x + 6) + \\sqrt{(x + 6)^2 - 4(x^2 + 3x + 6)}}{2} = \\frac{-(x + 6) + \\sqrt{-3x^2 + 12}}{2}\n$$\n\nSince $x + 6$ and $y$ are integers, $\\sqrt{-3x^2 + 12}$ must be an integer, i.e., there exists integer $k$ such that $k^2 = -3x^2 + 12$. One easily checkes that $x$ must be $\\pm 1$ or $\\pm 2$ (as a square of a integer is a nonnegative integer). Solving the corresponding quadratic equation for each $x$, we conclude that the answers are $(x, y) = (-2, -2), (-1, -4), (-1, -1), (1, -5), (1, -2), (2, -4)$.\n\nallotment of marks: (1) 3 points (2) 7 points",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "10. (1) Substituting $x = 1$ into the given equation, we obtain a quadratic equation $y^2 + 7y + 10 = 0$, and solving this equation normally, we get $y = -2, -5$. Hence the solutions are $(x, y) = (1, -2), (1, -5)$."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_00699b71ec2b",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Consequently, there are 82 ways of coloring when the center is colored red. So there are $82 \\times 3 = 246$ ways in total.\n\n(2) The edges must be colored into blue, yellow or green. There are 3 ways to color a square on the corner if the two squares next to it have the same color, and there are 2 ways if otherwise. Split the cases by how the edges are colored.\n\n(i) Case we use single color on the edges.\n\n(a) If all four edges have the same color, there are $3 \\times 3^4 = 243$ ways.\n\n(ii) Case we use exactly 2 colors.\n\n(a) If exactly three edges have the same color, there are $3 \\times 2 \\times 4 \\times 3^2 \\times 2^2 = 864$ ways.\n\n(b) If two opposing edges have the same color and the rest have the other color, there are $3 \\times 2 \\times 2^4 = 96$ ways.\n\n(c) If two non-opposing edges have the same color and the rest have the other color, there are $3 \\times 4 \\times 2^2 \\times 3^2 = 432$ ways.\n\n(iii) Case we use 3 colors.\n\n(a) If two opposing edges have the same color and the rest have different colors, there are $3 \\times 2 \\times 2 \\times 2^4 = 192$ ways.\n\n(b) If two non-opposing edges have the same color and the rest have different colors, there are $3 \\times 4 \\times 2 \\times 3 \\times 2^3 = 576$ ways.\n\nConsequently, there are $2403 \\times 4 = 9612$ ways in total.\n\nallotment of marks: (1) 5 points (2) 5 points",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "We call the squares corners, edges or the center, according to their position. We first consider the case that the center is colored red.\n\n(1) The edges must be colored into blue or yellow. There are 2 ways to color a square on the corner if the two squares next to it have the same color, and there are 1 way if otherwise. Split the cases by how the edges are colored.\n\n(i) If all 4 edges have the same color, there are $2 \\times 2^4 = 32$ ways.\n\n(ii) If exactly 3 edges have the same color, there are 4 ways to choose the edge with the different color, 2 ways to choose its color, and $2^2$ ways to color the corners. Therefore there are $2 \\times 4 \\times 2^2 = 32$ ways.\n\n(iii) If two opposing edges have the same color and the rest have the other color, there are 2 ways.\n\n(iv) If two non-opposing edges have the same color and the rest have the other color, there are $4 \\times 2^2 = 16$ ways."
    },
    {
      "_provenance": {
        "folder": "JPN_2006",
        "pages_map": {
          "P0": "page25.md",
          "P1": "page26.md",
          "P2": "page27.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2006.pdf",
      "booklet_url": "https://drive.google.com/open?id=1lucW_S0UBVeyDCDfMgEyCv_unA4Ty5y4",
      "competition name": "The 16th Japanese Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_f645bbfbe3f9",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Now, let $i$ and $j$ be integers such that $i - j$ is even. Since $m + 1$ and $n + 1$ are relatively prime, there exist integers $u, v$ such that\n\n\\[\ni - j = 2v(n + 1) - 2u(m + 1),\n\\]\nor,\n\\[\ni + 2u(m + 1) = j + 2v(n + 1).\n\\]\n\nThen, $0 = X_{i+2u(m+1)+1,j+2v(n+1)} + X_{i+2u(m+1),j+2v(n+1)+1} = X_{i+1,j} + X_{i,j+1}$ follows from the periodicity of $X$. Since $X_{0,j} = 0$, it follows by induction that $X_{i,j} = 0$ for all $i, j$ such that $i + j$ is odd.\n\nSince $m + 1$ and $n + 1$ are relatively prime, $m$ or $n$ is even. Assume that $m$ is even. Then, by symmetry, $X_{i+1,j} + X_{i,j+1} = 0$ for even $i + j$ too, and $X_{i,j} = 0$ follows for all $i$ and $j$. Hence $(m, n)$ is not a good pair.\n\nWe can solve the problem using the results above.\n\n(1) $(3, n)$ is a good pair if and only if $4$ and $n+1$ are not relatively prime, in other words, if $n$ is odd. So the answer is $n = 3, 5, 7, 9$.\n\n(2) One counts the number of pairs $(i, j)$ of integers such that $3 \\le i, j \\le 11$ and $i, j$ not relatively prime, and obtain the answer 29.\n\nallotment of marks: (1) 4 points (2) 6 points",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Denote by $X_{i,j}$ the entry that lies in the $i$-th row and the $j$-th column. We will prove that $(m, n)$ is a good pair if and only if $m+1$ and $n+1$ are not relatively prime.\n\nFirst, we prove that $(k, k)$ is a good pair for any integer $k \\ge 2$. In fact, given a $k \\times k$ grid, write integers as\n\n\\[\nX_{i,j} = \\begin{cases} (-1)^i & \\text{if } i = j \\pm 1 \\\\ 0 & \\text{otherwise} \\end{cases}\n\\]\n\nand the desired condition holds.\n\nNext, we prove $(m, n)$ is a good pair if $m + 1$ and $n + 1$ are not relatively prime. Let $d$ be the greatest common divisor of $m+1$ and $n+1$. Since $(d-1, d-1)$ is a good pair, there exists a $(d-1) \\times (d-1)$ matrix $Y = (Y_{i,j})$ which satisfies the required conditions. Then extend the domain of $Y_{i,j}$ (as a function $(i, j) \\mapsto Y_{i,j}$) to $\\mathbb{Z} \\times \\mathbb{Z}$ by\n\n\\[\nY_{i,j} = Y_{2d+i,j} = Y_{i,2d+j} \\quad \\text{and} \\\\ -Y_{i,j} = Y_{i,-j} = Y_{-i,j}\n\\]\n\nand then $(Y_{i,j})_{1 \\le i \\le m, 1 \\le j \\le n}$ satisfies the required conditions.\n\nTherefore, it suffices to prove that $(m, n)$ is not a good pair if $m + 1$ and $n + 1$ are relatively prime. Assume that we have written integers $X_{i,j}$ in the squares with condition (ii). It suffices to prove $X_{i,j} = 0$.\n\nExtend the domain of $X_{i,j}$ (as a function $(i, j) \\mapsto X_{i,j}$) to $\\mathbb{Z} \\times \\mathbb{Z}$ by\n\n\\[\nX_{i,j} = X_{2(m+1)+i,j} = X_{i,2(n+1)+j} \\quad \\text{and} \\\\ -X_{i,j} = X_{i,-j} = X_{-i,j}\n\\]\n\nThen it is clear that $\\sigma(S) = 0$ holds for all square $S$.\n\nDenote by $S(k, l)$ the square on the $k$-th row and the $l$-th column. $\\sigma(S(1, 1)) = 0$ yields $X_{1,2} + X_{2,1} = 0$. Then $\\sigma(S(2, 2)) = 0$ yields $X_{2,3} + X_{3,2} = 0$. It follows that $X_{k,k+1} + X_{k+1,k} = 0$ for any integer $k$."
    }
  ],
  "2007": [
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_33aad0111e9e",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "18",
          "pages": [
            "P1"
          ],
          "status": "complete"
        },
        {
          "images": [],
          "label": null,
          "latex": "Since $AB = 3, BC = 4$ and $\\angle ABC = 90^\\circ$, we get $AC = 5$. Let M be the midpoint of AD. Because $AM = DM, MC = MC, AC = 5 = DC$ and $\\angle ABC = \\angle AMC = 90^\\circ$, $AB = AM, AC = AC$, the triangles $ABC, AMC$ and $DMC$ are all congruent.\n\nTherefore, the area of $ABCD$ is $\\frac{3 \\times 4}{2} \\times 3 = 18$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let ABCD be a convex quadrilateral with $AB = 3, BC = 4, CD = 5, DA = 6$ and $\\angle ABC = 90^\\circ$. Find the area of ABCD."
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_32812ab0a891",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "2",
          "pages": [
            "P1"
          ],
          "status": "complete"
        },
        {
          "images": [],
          "label": null,
          "latex": "For positive integer $n$,\n\n$$\n11^n = (10 + 1)^n = \\sum_{k=0}^{n} n C_k 10^k \\equiv_n C_0 10^0 + n C_1 10^1 = 10n + 1 \\pmod{100}.\n$$\n\nTherefore, the ten's place of $11^n$ is equal to the last digit of $n$. The last digit of $12^n$ for $n = 1, 2, \\dots$ is 2, 4, 8, 6, 2, 4, \\dots, with period 4, so the last digit of $12^{13}$ is 2 and the answer is 2.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Determine ten's place of $11^{12^{13}}$. ($12^{13}$th power of 11, not 13th power of $11^{12}$.)"
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_8a0296d3ff28",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "21",
          "pages": [
            "P1"
          ],
          "status": "complete"
        },
        {
          "images": [],
          "label": null,
          "latex": "Take $\\angle APB = \\theta$ and Let S be the area of APB. Then $\\frac{1}{2} \\times AP \\times BP \\times \\sin \\theta =$\n$S = \\frac{3 \\times 7}{2} = \\frac{21}{2}$. Since $\\sin \\theta$ is positive, $AP \\times BP$ takes minimum value when $\\sin \\theta$\ntakes maximum. Since $\\frac{7}{2} > 3$, we can take P on the circle with diameter AB. Then\n$\\sin \\theta$ takes maximum value 1 and $AP \\times BP$ takes minimum value 21.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "AB is a segment on a plane with length 7, and P is a point such that the distance between P and line AB is 3. Find the smallest possible value of $AP \\times BP$."
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_08f2fdab3b46",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "1352, 1734",
          "pages": [
            "P1"
          ],
          "status": "complete"
        },
        {
          "images": [],
          "label": null,
          "latex": "Let A and B be the first and the last 2 digits of n respectively. We have to determine all (A, B) such that AB divides $100A + B$.\n\nSince A divides $100A + B$, A divides B. Let $k = \\frac{B}{A}$. Since A and B are 2-digit numbers, $10 \\le A < \\frac{100}{k}$.\n\nThe condition is equivalent to $kA^2|100A + kA$ and this is equivalent to $kA|100 + k$. $k$ divides $100 + k$ iff $k$ divides 100, and with $k < 10$ we get $k = 1, 2, 4, 5$. From $A|\\frac{100+k}{k}$ and $10 \\le A < \\frac{100}{k}$ we get $(k, A) = (2, 17), (4, 13)$ and we get $n = 1734, 1352$.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "n is a 4-digit integer with ten's place nonzero, and if we take the first 2 digits and the last 2 digits as two 2-digit integers, their product is a divisor of n. Determine all n with this property."
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_d02bdfc3e0b8",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "14",
          "pages": [
            "P1"
          ],
          "status": "complete"
        },
        {
          "images": [],
          "label": null,
          "latex": "We will show that in case of *n* rectangles the answer is $2n^2 - 2n + 2$. We call each divided part region.\n\n*n* rectangles $R_{1,n}, \\dots, R_{i,n+1-i}, \\dots, R_{n,1}$ divide plane into $2n^2 - 2n + 2$ regions, where $R_{x,y}$ is a rectangle with corners at $(x, y)$, $(x, -y)$, $(-x, y)$, $(-x, -y)$. Therefore we only have to show that *n* rectangles cannot divide the plane into more than $2n^2 - 2n + 2$ regions.\n\nInduction. The case $n = 1$ is trivial. Suppose that the case $n = k$ is true. Let $R_1, \\dots, R_{k+1}$ be $k+1$ rectangles with the property in the problem, and $D_1, \\dots, D_m$ be the regions divided by $R_1, \\dots, R_k$. By the induction's hypothesis, we have $m \\le 2k^2 - 2k + 2$.\n\nLet $C_i$ be the border of $R_i$. Suppose that for $i \\ne j$, $C_i$ and $C_j$ shares finitely many points. (The proof goes the same way if it's not satisfied). Let $P_1, \\dots, P_l$ be the intersection of $C_{k+1}$ and $C_1, \\dots, C_n$, ordered along $C_{k+1}$. $l \\le 4k$ since $C_i$ and $C_{k+1}$ crosses at 4 or less points. Add polygonal lines $P_1P_2, \\dots, P_iP_{i+1}, \\dots, P_lP_1$ one by one to $D_1, \\dots, D_m$. One line increases the number of region by 1 or less, So adding all polygonal lines increases the number of region by $l$ or less.\n\nSince adding $P_1P_2, \\dots, P_iP_{i+1}, \\dots, P_lP_1$ is equivalent to adding $C_{k+1}$, the number of regions divided by $R_1, \\dots, R_{k+1}$ is\n\n$$\nm+l \\le (2k^2 - 2k + 2) + 4k = 2(k+1)^2 - 2(k+1) + 2.\n$$\n\nSo we have completed the induction. Therefore, the answer of the problem is 14.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "3 rectangles are placed on a plane, and any 2 rectangles have their edges that are parallel to each other. They divide the plane into several parts. Determine the maximum possible number of such parts. (We consider the area that are contained in no rectangles as one part. For example, if we have only 1 rectangle, the plane is divided into 2 parts.)"
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_0e405ff98b19",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "1596",
          "pages": [
            "P1"
          ],
          "status": "complete"
        },
        {
          "images": [],
          "label": null,
          "latex": "Consider a general problem with cards 1, 2, ..., *n*. Let $F_n$ be the number of choices when there are *n* cards. $F_1 = 1$ and $F_2 = 2$ are trivial. Let $k \\ge 3$. We will consider $F_k$. If card *k* is not chosen, the number of ways is trivially $F_{k-1}$.\n\nConsider the case where card *k* is chosen. If any card other than *k* is chosen, we cannot choose 1. And if we remove the card *k* and decrease the numbers on other cards by 1, we get a proper choice from cards 1, ..., *k* - 2. On the other hand, if we have a proper choice from 1, ..., *k* - 2, we get a choice with *k* and some other cards among 1, ..., *k* - 1. If no card other than *k* is chosen, there is trivially only 1 way. Therefore, the number of proper choices with card *k* is $F_{k-2} + 1$.\n\nSo we get a relation $F_k = F_{k-1} + F_{k-2} + 1$. Calculate the sequence by this relation we get $F_{15} = 1596$.\n\n*If we allow a choice with no cards, we get the Fibonacci sequence.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "We have 15 cards numbered 1, 2, ..., 15. How many ways are there to choose some (at least 1) cards so that all numbers on these cards are larger than or equal to the number of cards chosen?"
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_9d595c3e5e65",
      "language": "en",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "12. 668",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "12. There is a village with a population of 2007. This village has no name. You are God of this village and you want villagers to decide the name of this village. Every villager has one idea of the village's name.\n\nEach villager can send a letter to each villager (including himself). And every villager can send any number of letters every day. Letters are collected in the evening and delivered at once the next morning every day. The Villager who sends the letter can decide to whom the letter should be delivered. And each villager can send a letter to tell the idea of the name of the village to God only one time. This idea doesn't need to be the same as the idea which he and the other villagers had thought at first. And every villager's action is only writing a letter.\n\nEvery villager can be classified into an honest person or a liar. You and every villager don't know who is an honest person, and who is a liar. But you know that the number of liars is less than or equal to T, and there is one honest person at least in this village.\n\nYou can give instructions to every villager only once at noon of one day. An honest person necessarily follows the instruction, but you don't know if a liar follows the instruction. Find the maximum T which there exists an instruction which fulfill the conditions below.\n\n* At last, every honest person sends a letter to God and every honest person sends the same idea of the village's name.\n\n* If every honest person had thought the same idea of the name of the village at first, every honest person sends this idea to God."
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_5296624eb949",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "(2) $T_1 = ABCF$.\n\nThere must be another tetrahedron $T_2$ with face $\\Delta ACF$. $T_2$ is $ACFH$, $ACDF$, $ACEF$ or $ACFG$.\n\n(a) $T_2 = AFCH$.\n\nThere is only 1 way: the remaining tetrahedron must be $ACDH$, $AEFH$ and $CFGH$.\n\n(b) $T_2 = ACDF, ACEF, ACFG$.\n\nThese 3 cases are all congruent, so we only have to consider the case $T_2 = ACDF$. Since if we remove $ABCF$ and $ACDF$ from $S$, there remains a shape congruent to the case $ABCE$ and $ACDE$ removed, there are 5 ways to divide the remaining shape, as we counted in (1)(a). So there are 15 ways in this case.\n\nTherefore we have 16 ways in the case $T_1 = ABCF$.\n\n(3) $T_1 = ABCG$.\n\nSame as $T_1 = ABCE$. We have 8 ways.\n\n(4) $T_1 = ABCH$.\n\nThere must be $ACDH$. Since if we remove $ABCH$ and $ACDH$ from $S$, there remains a shape congruent to the case $ABCE$ and $ACDE$ removed, there are 5 ways to divide the remaining shape, as we counted in (1)(a).\n\nBy these, we get the answer $(8 + 16 + 8 + 5) \\times 2 = 74$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Consider a division of cube $S = ABCD - EFGH$ into $T_1, \\cdots, T_k$ with properties in the problem. Then one of the below holds.\n\n* $\\triangle ABC$ and $\\triangle ACD$ is a face of a tetrahedron.\n\n* $\\triangle ABD$ and $\\triangle BCD$ is a face of a tetrahedron.\n\nBy symmetry we can get the answer by counting the former case and double it. Assume that $T_1$ has $\\triangle ABC$ as its face. Then $T_1$ is $ABCE, ABCF, ABCG$ or $ABCH$.\n\n$$\n(1) \\quad T_1 = ABCE.\n$$\n\nThere must be another tetrahedron $T_2$ with face $\\triangle ACE$. $T_2$ is $ACDE$ or $ACEH$.\n\n$$\n(a) \\quad T_2 = ACDE.\n$$\n\nThere must be another tetrahedron $T_3$ with face $\\triangle CDE$. $T_3$ is $CDEG$ or $CDEH$.\n\ni. $T_3 = CDEG$.\n\nThere must be $DEGH$. Then we need to count the ways of dividing the square pyramid $BCGF - E$. There are 2 ways: $\\{BCEG, BEFG\\}$ and $\\{BCEF, CEFG\\}$.\n\nii. $T_3 = CDEH$.\n\nWe need to count the ways of dividing the triangle prism $BEF - CHG$ such that each of $\\triangle BCE$ and $\\triangle CEH$ is a face of a tetrahedron. There are 3 ways: $\\{BCEF, CEFG, CEGH\\}$, $\\{BCEF, CEFH, CFGH\\}$ and $\\{BCEG, BEFG, CEFH\\}$.\n\nSo there are 5 ways in the case $T_2 = ACDE$.\n\n$$\n(b) \\quad T_2 = ACEH.\n$$\n\nThere must be $ACDH$. Then we need to count the ways of dividing the triangle prism $BEF - CHG$ such that each of $\\triangle BCE$ and $\\triangle CEH$. There are 3 ways, as we counted in (1)(a)ii.\n\nTherefore, we have 8 ways in the case $T_1 = ABCE$."
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_078db041d555",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "**Corollary.** The condition in the problem is equivalent to the condition that for any $0 \\le k < M$ there are exactly 2 integers with $\\bar{f}(n) = k$ among $0, \\dots, L-1$. And if it is satisfied, $S = \\frac{1}{2}$.\n\n**Proof of Corollary.** If $f(n) \\ge 3$, $n$ must be positive, so the first statement follows from the lemma. Then it must be satisfied that $L = 2M$ and $S = \\frac{M}{L} = \\frac{1}{2}$.\n\nNow we are going to solve the problem with this corollary. First, determine all $(a,b,c)$ with $\\frac{1}{a} + \\frac{1}{b} + \\frac{1}{c} = \\frac{1}{2}$. Since $a \\ge b \\ge c > 0$, $\\frac{1}{2} > \\frac{1}{c} \\ge \\frac{1}{6}$ and $3 \\le c \\le 6$. If $c = 3$, $\\frac{1}{a} + \\frac{1}{b} = \\frac{1}{6}$. By $a \\ge b$ we get $\\frac{1}{b} \\ge \\frac{1}{12}$. Trying all possible $b$, we get $(a,b) = (42,7), (24,8), (18,9), (15,10), (12,12)$. Checking other possible $c$ in the same way, we get all $(a,b,c)$ with $\\frac{1}{a} + \\frac{1}{b} + \\frac{1}{c} = \\frac{1}{2}$ as $(a,b,c) = (42,7,3), (24,8,3), (18,9,3), (15,10,3), (12,12,3), (20,5,4), (12,6,4), (8,8,4), (10,5,5), (6,6,6)$.\n\nChecking these possibilities by the corollary, we get the answer to the problem: $(a,b,c) = (6,6,6), (8,8,4), (10,5,5), (12,6,4)$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "11. Let $f(n) = n - \\lfloor \\frac{n}{a} \\rfloor - \\lfloor \\frac{n}{b} \\rfloor - \\lfloor \\frac{n}{c} \\rfloor$ for integer $n$. For $n$:positive, $f(n)$ is equal to the contestant with no medals on $n$-people contest. Since $x - 1 < [x] \\le x$, it follows that $Sn \\le f(n) < Sn + 3$ where $S = 1 - \\frac{1}{a} - \\frac{1}{b} - \\frac{1}{c}$. To satisfy the conditions $S$ must be positive.\n\nIt can be conjectured that $S = \\frac{1}{2}$, because $f(n)$ increases in constant speed $S$ and takes every integer larger than or equal to 3 twice. We will prove a stronger fact and prove this conjecture from that.\n\nLet $L$ be the L.C.M. of $a, b, c$. Let $S = 1 - \\frac{1}{a} - \\frac{1}{b} - \\frac{1}{c} = \\frac{M}{L}$. $M$ is integer, and is positive because $S > 0$. For any integer $n$,\n\n$$\n\\begin{aligned}\nf(n+L) &= n+L - \\left\\lfloor \\frac{n+L}{a} \\right\\rfloor - \\left\\lfloor \\frac{n+L}{b} \\right\\rfloor - \\left\\lfloor \\frac{n+L}{c} \\right\\rfloor \\\\\n&= n+L - \\left\\lfloor \\frac{n}{a} \\right\\rfloor - \\frac{L}{a} - \\left\\lfloor \\frac{n}{b} \\right\\rfloor - \\frac{L}{b} - \\left\\lfloor \\frac{n}{c} \\right\\rfloor - \\frac{L}{c} \\\\\n&= f(n) + L \\left( 1 - \\frac{1}{a} - \\frac{1}{b} - \\frac{1}{c} \\right) = f(n) + M\n\\end{aligned}\n$$\n\nand so $f(n + tL) = f(n) + tM$.\n\nLet $\\bar{f}(n)$ be the remainder of $f(n)$ divided by $M$. From the last equality, $\\bar{f}$ has period $L$. Now we prove the following lemma.\n\n**Lemma.** Let $L$ and $M$ be positive integers and $g(n)$ be a function from integers to integers s.t. $g(n+tL) = g(n)+tM$ for all $n, t$. Let $\\bar{g}(n)$ be remainder of $g(n)$ divided by $M$. Then for $0 \\le k < m$ we have following: if there are exactly $q$ integers $n$ with $0 \\le n < L$ and $\\bar{g}(n) = k$, for all integer $k'$ which is congruence to $k$ modulo $M$ there are exactly $q$ integers $n$ with $g(n) = k'$.\n\n**Proof of Lemma.** Let there be exactly $q$ integers $0 \\le n_1, \\dots, n_q < L$ with $\\bar{g}(n_i) = k$. Take $k' = k + uM$. If we write $g(n_i) = k + t_i M$ by integer $t_i$ and let $n'_i = n_i + (u - t_i)L$, $g(n'_i) = k'$ and all $n'_i$ is different since their remainder modulo $L$ is different. Now we are going to prove that possible cases for $n$ with $g(n) = k'$ are only $n'_1, \\dots, n'_q$. Suppose $g(n) = k'$ then we have $\\bar{g}(n) = k$. Let $\\bar{n}$ be remainder of $n$ divided by $L$. Since $\\bar{g}$ has a period $L$ it follows that $\\bar{g}(\\bar{n}) = k$ and $\\bar{n}$ is equal to some $n_i$. Writing $n = n'_i + sL$ we have $g(n'_i) = g(n) = g(n'_i + sL) = g(n'_i) + sM$ and therefore $s = 0, n = n'_i$."
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_98b2fb13b6c6",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Now let us prove that this instruction satisfies the problem's condition. We will prove the following. Notice that 2007 > 3T.\n\n(1) If some honest person wrote [sure: *j*th day *p* says *p*_0 proposed *m*] in his memo pad, villager *p* really sent the letter [*p*_0 proposal *m*] on the *j*th day.\n\n(2) If some honest person wrote [sure: *j* day *p* says *p*_0 proposed *m*] in his memo pad on the *k*th day, every honest person wrote the same content in their memo pads by the *k* + 1th day.\n\n(3) Now assume that $p_0$ is a honest person. If some honest person wrote [$p_0$'s idea seems to be $m$] in his notebook, $p_0$ really proposed $m$. And if $p_0$ proposed $m$, every honest person would write [$p_0$'s idea seems to be $m$] in their notebook by the $2T + 2$th day.\n\n(4) If some honest person wrote [*p*'s idea seems to be *m*] in his notebook, every honest person would write the same content in their memo pads by the $2T + 2$th day.\n\n**Proof of (1):** Assume that some honest person wrote [sure: *j* day *p* says *p*_0 proposed *m*] to his memo pad. According to the instruction, he received the letter [*j*th day *p* says *p*_0 proposed *m*] from 2007 – *T* or more persons. Especially, from 2007 – *T* > *T*, there exists some honest person who sent the letter [*j*th day *p* says *p*_0 proposed *m*]. Now define *q* as the honest person who sent this content first. There are two possible reasons why *q* sent this letter.\n\n(a) *q* received the letter of this content from 2007 - 2*T* or more people.\n\n(b) *q* received the letter of the content [*p*_0 proposed *m*] from *p*.\n\nBut in the case of (a), from 2007 - 2T > T, a certain honest person sent a letter\n[jth day *p* says *p*_0 proposed *m*] to *q* earlier than *q* sent the same letter. This is\ncontrary to the definition of *q*. Therefore, there is the case (b) only, and lemma (1)\nis proved.\n\nProof of (2): Assume that some honest person wrote [sure: *j*th day *p* says *p*_0 proposed *m*] to his memo pad on the *k*th day. It means that 2007 – *T* or more villagers, therefore 2007 – 2*T* or more honest people sent a letter [*j*th day *p* says *p*_0 proposed *m*] to him by the *k*th day. By the way, every honest person sent letters to every villager every day, so every villager receives the letter of this content from 2007 – 2*T* or more persons by the *k*th day, and so every honest person sent the letter of this content to every villager, and therefore every villager will receive the letter of this content from 2007 – *T* or more person by the *k* + 1th day. Thus, every honest person wrote [sure: *j*th day *p* says *p*_0 proposed *m*] in their memo pad by the *k* + 1th day. Lemma (2) is proved.\n\nProof of (3): Assume that some honest person wrote [$p_0$'s idea seems to be $m$] in his notebook. According to the instruction, [sure: 0th day $p_0$ says $p_0$ proposed $m$] was written in his memo pad. According to lemma (1), $p_0$ sent the letter [$p_0$ proposed $m$] on the 0th day. Next, assume that $p_0$ sent the letter [$p_0$ proposed $m$] to every villager. Then on the 1st day, every honest person, that means 2007 – *T* or more honest people receive this letter, and send the letter [0th day $p_0$ says $p_0$ proposed $m$] to every villager. Then on the 2nd day, every honest person receives this letter, and writes [0th day $p_0$ says $p_0$ proposed $m$] to their memo pad, and then write [$p_0$'s idea seems to be $m$] to their notebook. Lemma (3) is proved.\n\nProof of (4): Assume that the honest person who wrote [$p_0$'s idea seems to be\n$m$] in the notebook earliest is $q$, and $q$ wrote this on the $2i + 2$th day. According\nto the instruction, there exist distinct villagers $p_0, p_2, \\dots, p_{2i}$ and [sure:2$j$th day $p_{2j}$ says $p_0$ proposed $m$] in $q$'s notebook. From $2i + 2 \\le 2T + 2$, Then $i \\le T$. So there exists a number $j$ that $p_{2j}$ is a honest person, or there doesn't exist such number $j$. In this case, $i < T$.\n\nIn the case of the former, if $p_{2j}$ is a honest person, according to lemma (1), $p_{2j}$ really sent the letter $[p_0$ proposed $m]$ on the $2j$th day, or $2j = 0$. But the former is contrary to the definition of $q$. So $j = 0$. And thus every honest person wrote $[p_0$'s idea seems to be $m]$ in their notebook on the 2nd day. (This fact is proved by the part of proof of lemma (3))\n\nIn the case of the latter, $q$ sent the letter $[p_0$ proposed $m]$ to every villager on the $2i + 2$th day. And from the same argument as (3), every honest person wrote [sure: $2i+2$th day $q$ says $p_0$ proposed $m$] in their notebook on the $2i+4$th day. By the way, the content [sure: $2j$th day $p_{2j}$ say $p_0$ proposed $m$]($0 \\le j \\le i$) in $q$'s notebook will be also written in every honest person's notebook (reference to lemma (2)). Every $p_{2j}$ isn't honest, so $q$ is different from every $p_{2j}$. Therefore, from these facts, every honest person wrote $[p_0$'s idea seems to be $m]$ in their notebook on the $2i + 4$th day. Now $i < T$, then $2i + 4 \\le 2T + 2$. Lemma (4) is proved.\n\nAccording to the lemma (4), on the evening of the $2T + 2$th day, the contents of every honest person's notebook are the same. So every honest person will send the same letter to God. Thus the first condition is satisfied. Next, according to the lemma (3), every honest person's idea is written in every honest person's memo pad. And for honest person $p$, at most one $m$ is written as $[p$'s idea seems to be $m]$. Therefore, if every honest person had the same idea of the village name $h, h$ gains the most votes.($2007 - T > \\frac{2007}{2}$) Thus every honest person sends a letter $[m]$ to God. So the second condition is satisfied.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "12. If $0 \\le T \\le 668$, we will prove that there exists an instruction which fulfill the conditions. Give the following instruction to every villager.\n\nDefine today as 0th day. All the villagers must prepare a notebook and a memo pad.\n\nToday, each villager $p$ should write the idea of the village's name $m$ in the letters $[p$ proposed $m]$ and send these letters to every villager (including oneself). And at $i = 1,2,\\dots, 2T + 2$th day, Perform all the followings in order.\n\n* If you receive the letter $[p_0$ proposed $m]$ from villager $p$ in the morning, send the letter $[i$ - 1th day $p$ says $p_0$ proposed $m]$ to every villager.\n\n* Until then, if you have received the letter $[j$th day $p$ says $p_0$ proposed $m]$ ($j \\le i - 2$) from 2007 - $2T$ or more persons, send the letter $[j$th day $p$ says $p_0$ proposed $m]$ to every villager.\n\n* Until then, if you have received the letter $[j$th day $p$ says $p_0$ proposed $m] (j \\le i - 2)$ from 2007 - $T$ or more persons, write [sure: $j$th day $p$ says $p_0$ proposed $m]$ to your memo pad.\n\n* About villager $p_0$ and idea $m$, If $i$ is even and distinct $\\frac{i}{2}$ villagers $p_0, p_2, \\dots, p_{i-2}$ exist and [sure: $j$th day $p_j$ says $p_0$ proposed $m]$ is written in your memo pad for all the even numbers that satisfy $0 \\le j < i$, then write $[p_0$'s idea seems to be $m]$ in your notebook and send the letter $[p_0$ proposed $m]$ to every villager.\n\nAnd at $2T + 2$th day, All the villagers must look into their notebook and look for all the pairs $(p, m)$ that satisfy the following condition.\n\nCondition: $[p$'s idea seems to be $m]$ is written in your notebook. And if $[p$'s idea seems to be $m]$ and $[p$'s idea seems to be $n]$ are both written in your notebook, then $m = n$.\n\nConsider $(p, m)$ pairs that satisfy this condition only. Count the kind of $p$ corresponding to each $m$. And if only one $m$ has the most kinds of $p$, then send a letter $[m]$ to God. Otherwise, send a letter [JMO] to God."
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_a9817d501474",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Let the number called by a player in the $m$th turn be $N_m$. Then sequence $(N_1, \\dots, N_l)$ is called \"history up to the $l$th turn\". We call $j$ which satisfies $j \\neq N_1, \\dots, N_l$ \"free in the $l+1$th turn\". We are going to prove a proposition that if $n \\equiv 0, 4, 5 \\pmod 6$, $P$ can absolutely win and that if $n \\equiv 1, 2, 3 \\pmod 6$, $Q$ can absolutely win.\n\n(i) for $0 \\le n \\le 5$\n\nIf $n = 0, 1, 2$, the proposition is surely true.\n\nAssume that $n = 3$. If the $Q$ calls 1 or 2 in the second turn, the sum of the numbers that $P$ have said is 5 or 4. Hence, $Q$ can absolutely win.\n\nAssume that $n = 4$. If $P$ calls 2 in the first turn, and calls 1 or 4 in the third turn, the sum of the number that $Q$ have said is 3 or 6. Hence, $P$ can absolutely win.\n\nFor $n = 5$, we call (1, 4) and (2, 5) a pair. If $P$ calls 3 in the first turn, and after the turn, $P$ calls the other number of the pair including the number which $Q$ called in the last turn, then $P$ can absolutely win.\n\nWith that, the proposition is proved for $0 \\le n \\le 5$.\n\n(ii) We are going to prove that if a proposition holds for $n = k$, it also holds for $n = k + 6$.\n\nFor $n = k$, let the player who has the winning strategy be $A$, and the other $B$. Let $M = \\{k + 1, k + 2, k + 3, k + 4, k + 5, k + 6\\}$, and presume the sets of the numbers $(k + 1, k + 4), (k + 2, k + 5)$, and $(k + 3, k + 6)$ to be pairs. Let the $l$th turn be $A$'s turn.",
          "pages": [
            "P2"
          ],
          "status": "truncated"
        },
        {
          "images": [],
          "label": null,
          "latex": "Let the number called by a player in the $m$th turn be $N_m$. Then sequence $(N_1, \\dots, N_l)$ is called \"history up to the $l$th turn\". We call $j$ which satisfies $j \\neq N_1, \\dots, N_l$ \"free in the $l+1$th turn\". We are going to prove a proposition that if $n \\equiv 0, 4, 5 \\pmod 6$, $P$ can absolutely win and that if $n \\equiv 1, 2, 3 \\pmod 6$, $Q$ can absolutely win.\n\n(i) for $0 \\le n \\le 5$\n\nIf $n = 0, 1, 2$, the proposition is surely true.\n\nAssume that $n = 3$. If the $Q$ calls 1 or 2 in the second turn, the sum of the numbers that $P$ have said is 5 or 4. Hence, $Q$ can absolutely win.\n\nAssume that $n = 4$. If $P$ calls 2 in the first turn, and calls 1 or 4 in the third turn, the sum of the number that $Q$ have said is 3 or 6. Hence, $P$ can absolutely win.\n\nFor $n = 5$, we call (1, 4) and (2, 5) a pair. If $P$ calls 3 in the first turn, and after the turn, $P$ calls the other number of the pair including the number which $Q$ called in the last turn, then $P$ can absolutely win.\n\nWith that, the proposition is proved for $0 \\le n \\le 5$.\n\n(ii) We are going to prove that if a proposition holds for $n = k$, it also holds for $n = k + 6$.\n\nFor $n = k$, let the player who has the winning strategy be $A$, and the other $B$. Let $M = \\{k + 1, k + 2, k + 3, k + 4, k + 5, k + 6\\}$, and presume the sets of the numbers $(k + 1, k + 4), (k + 2, k + 5)$, and $(k + 3, k + 6)$ to be pairs. Let the $l$th turn be $A$'s turn.\n\n(1) In the $l$th turn, when there are some free numbers except the elements of $M$, it is only necessary for $A$ to act according to the following tactics.\n\n(a) When $A$ is $P$ and $l=1$, call the number $j$ which $A$ should call according to the winning strategy for $n=k$.\n\n(b) When $B$ called $i \\in M$ in $l-1$th turn, call in the $l$th turn another number $j$ of the pair including $i$.\n\n(c) When $B$ called $i \\notin M$ in the $l-1$th turn, let $c' = (N'_1, \\dots, N'_{l-1})$, where elements of $\"c\"$ are the elements of $c$ excluding elements of $M$, and the order of the elements of $c'$ is similar to $c$. Then $c'$ is the history for $n=k$. Because of the tactics(1)(b), if $B$ called an element of $M$ in $m-1$th turn($m \\le l-1$), $A$ also called an element of $M$ in the $m$th turn. With that, $l \\equiv l' \\pmod 2$. Hence, according to the winning strategy for $n=k$, let the number $j$ be the number which $A$ should call in $l'$th turn when given a history $c'$, and call the number $j$ in the $l$th turn.\n\n(2) In the $l$th turn, if all the \"free\" numbers are included in $M$, $A$ should act according to the following tactics.\n\n(a) When $B$ called $i \\in M$ in the $l-1$th turn is included in $M$, $j \\in M$ which is the pair of $i$ is free in the $l$th turn (because of (1)(b)). Then call $j$ in the $l$th turn. Until the game ends, call $j' \\in M$ which is the pair of the $i' \\in M$ called by $B$ in the last turn.\n\n(b) When the number called by $B$ in the $l-1$th turn is not included in $M$, if $i \\in M$ is free in $l$th turn, the pair $j$ is also free. Then call any element $j_0 \\in M$, and act in the $l'$th turn according to the following tactics ($l' \\ge l+1$).\n\nLet the number which $B$ called in $l'-1$th turn be $i'$, and the pair $j'$. If $j'$ is free in $l'$th turn, call $j'$ in $l'$th turn. If there is no free number in the $l'$th turn, then the game is over. Otherwise, call any element $i'' \\in M$ in the $l''$th turn.\n\nIf $A$ acts according to the tactics above, two following propositions hold.\n\n* When the game is over, the sum of the numbers $j(1 \\le j \\le k)$ called by $A$ is the same as one of the sums that appear when $A$ wins the game in the case of $n=k$.\n\n* When the game is over, each player calls only one number of the pairs.\n\nConsequently, when the game is over, the sum of the numbers which were called by $A$ is equivalent to one of the sums that appear when $A$ wins the game in the case of $n=k$ modulo 3. So $A$ wins. With that, the mathematical induction is completed.\n\nHence, it can be said that $P$ has a winning strategy if and only if $n \\equiv 0, 4, 5 \\pmod 6$",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let $n$ be a positive integer. Two people P, Q play a game in which they call a integer $m(1 \\le m \\le n)$ alternately. P calls the first number. They cannot call the numbers which is already called by himself or by his opponent. The game is over when neither can call numbers. If the sum of the numbers that A have called is divisible by 3, P wins, otherwise Q wins. Find all $n$ which satisfy the condition below.\n\nCondition: P can win the game whatever Q does."
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_c272186d8687",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "2. Substituting $x = y = t$ ($t \\ge 0$) into the two inequalities, we get $4f(t) \\le f(2t)$ and $4f(t) \\ge f(2t)$. So we get $f(2t) = 4f(t)$ for $t \\ge 0$. Applying the equality $m$ times, it follows that $f(2^mt) = 2^{2m}f(t)$.\n\nNow, let $g(x) = \\frac{f(x)}{x}$. We are going to prove that $g(nt) = ng(t)$ for any positive integer $n$ and any positive real number $t$. When $n = 2^m$ ($m$: positive integer), the\nproposition is already proved. Applying the inequality $g(x) + g(y) \\ge g(x + y)$, it\nfollows that for positive integers $n$ and positive real numbers $t$\n\n$$\ng(nt) \\leq \\underbrace{g(t) + \\dots + g(t)}_{n} = ng(t).\n$$\n\nSo if we chose a positive integer $m$ which $2^m > n$ holds, it follows that\n\n$$\ng(2^m t) \\leq g(nt) + g((2^m - n)t) \\leq ng(t) + (2^m - n)g(t) = 2^m g(t)\n$$\n\n. On the other hand, we got $g(2^m t) = 2^m g(t)$, so it follows that $g(nt)+g((2^m-n)g(t)) \\le ng(t) + (2^m-n)g(t)$. Hence, we get $g(nt) = ng(t)$.\n\nNext, we are going to prove that $g$ is an improper monotone decreasing function. For positive real number $t$, $f(t) + f(2t) \\le \\frac{f(t+2t)}{2}$ holds. Since $f(t) = \\operatorname{tg}(t)$, $f(2t) = 2\\operatorname{tg}(2t) = 4\\operatorname{tg}(t)$, $f(3t) = 3\\operatorname{tg}(3t) = 9\\operatorname{tg}(t)$, the inequality implies $5\\operatorname{tg}(t) \\le \\frac{9}{2}\\operatorname{tg}(t)$, so we get $g(t) \\le 0$ for positive real number $t$. Hence, for $0 < x \\le y$, $g(x) \\ge g(x) + g(y-x) \\ge g(y)$, so $g$ is an improper monotone decreasing function.\n\nNow, let $g(1) = a \\le 0$. We are going to prove that $g(t) = at$ for positive real number $t$. When we assume that $g(t) < at$ for positive real number $t$, there exists a rational number $\\frac{p}{q}$ ($p,q$ are positive integers) which satisfies $\\frac{p}{q} > t$ and $g(t) < \\frac{pa}{q}$.\n\nOn the other hand, $g(\\frac{p}{q}) = \\frac{1}{q}g(p) = \\frac{p}{q}g(1) = \\frac{pa}{q}$ shows that $g(t) < g(\\frac{p}{q})$ and $\\frac{p}{q} > t$.\n\nHowever, this conflicts with the fact that $g$ is an improper monotone increasing function. When we assume that $g(t) > at$, we also get contradiction. With that, we get $g(t) = at$ for positive real number $t$.\n\nHence, $f(x) = xg(x) = ax^2 (a \\le 0)$. Besides, $f(x)+f(y)-\\frac{f(x+y)}{2} = \\frac{a}{2}(x-y)^2 \\le 0$,\n\n$\\frac{f(x)}{x} + \\frac{f(y)}{y} - \\frac{f(x+y)}{x+y} = 0$ hold for such $f$. With that, such $f$ satisfies the conditions\n\nin this problem's statement.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "2. Find all functions $f$, which is defined on positive real numbers and taking real numbers such that\n\n$$\nf(x) + f(y) \\leq \\frac{f(x + y)}{2}, \\quad \\frac{f(x)}{x} + \\frac{f(y)}{y} \\geq \\frac{f(x + y)}{x + y}\n$$\n\nfor all positive real numbers $x$ and $y$."
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_20976d46af9d",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "3. Let $M_A, M_B, M_C$ be the midpoint of the arcs BC, CA, AB, not containing A, B, C respectively, and $l_A, l_B, l_C$ be the tangent of $\\Gamma$ at $M_A, M_B, M_C$. Then, note that $l_A \\parallel BC$, $l_B \\parallel CA$, $l_C \\parallel AB$.\n\nNow, let $D$ be the common point of lines $l_B$ and $l_C$, similarly $E$ be the common\npoint of lines $l_C$ and $l_A$, $F$ be the common point of lines $l_A$ and $l_B$.\n\nSince $\\Gamma_A$ is tangent to $\\Gamma$ at $P$, there exists a homothety $T$ with center $P$ which satisfies $T(\\Gamma_A) = \\Gamma$. Now, let $T$ transform $AB$ into line $m$.\n\nThen, it follows that $m \\parallel AB$ and that $m$ and $P$ are in the opposite sides of $AB$. Since $AB$ is tangent to $\\Gamma_A$, $m$ is tangent to $\\Gamma$. Hence, we get $m = l_C$.\n\nSimilarly, we can prove that $T$ transforms $AB$ into $l_B$. Since $A$ is the intersection point of lines $AC$ and $AB$, $T(A)$ is the common point of lines $l_B$ and $l_C$. Hence, we get $T(A) = D$. Since $T$ is a homothety with center $P$, three points $P, A, D$ are on the same line.\n\nSimilarly, three points Q, B, E are on the same line, and three points R, C, F are\non the same line. So, we get that AB is AD, BQ is BE, CR is CF.\n\nOn the other hand, triangle ABC and triangle DEF are similar and $AB \\parallel DE$, $BC \\parallel EF$, $CA \\parallel FD$. So there exists a homothety $S$ where $S(A) = D$, $S(B) = E$, $S(C) = F$.\n\nLet the center of homothety $S$ be $G$. Then the lines $AP, BQ, CR$ are concurrent at $G$.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "3. Let $\\Gamma$ be the circumcircle of triangle $ABC$. Let $\\Gamma_A$ be the circle which is tangent to $AB$, $AC$ and tangent to $\\Gamma$ internally, $\\Gamma_B$ be the circle which is tangent to $AB$, $BC$ and tangent to $\\Gamma$ internally, and $\\Gamma_C$ be the circle which is tangent to $AC$, $BC$ and tangent to $\\Gamma$ internally. Denote $\\Gamma_A, \\Gamma_B, \\Gamma_C$ are tangent to $\\Gamma$ at $P, Q, R$. Prove that the lines $AP, BQ, CR$ are concurrent."
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_2f5e593fb6c3",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "proposition is already proved. Applying the inequality $g(x) + g(y) \\ge g(x + y)$, it\nfollows that for positive integers $n$ and positive real numbers $t$\n\n$$\ng(nt) \\leq \\underbrace{g(t) + \\dots + g(t)}_{n} = ng(t).\n$$\n\nSo if we chose a positive integer $m$ which $2^m > n$ holds, it follows that\n\n$$\ng(2^m t) \\leq g(nt) + g((2^m - n)t) \\leq ng(t) + (2^m - n)g(t) = 2^m g(t)\n$$\n\n. On the other hand, we got $g(2^m t) = 2^m g(t)$, so it follows that $g(nt)+g((2^m-n)g(t)) \\le ng(t) + (2^m-n)g(t)$. Hence, we get $g(nt) = ng(t)$.\n\nNext, we are going to prove that $g$ is an improper monotone decreasing function. For positive real number $t$, $f(t) + f(2t) \\le \\frac{f(t+2t)}{2}$ holds. Since $f(t) = \\operatorname{tg}(t)$, $f(2t) = 2\\operatorname{tg}(2t) = 4\\operatorname{tg}(t)$, $f(3t) = 3\\operatorname{tg}(3t) = 9\\operatorname{tg}(t)$, the inequality implies $5\\operatorname{tg}(t) \\le \\frac{9}{2}\\operatorname{tg}(t)$, so we get $g(t) \\le 0$ for positive real number $t$. Hence, for $0 < x \\le y$, $g(x) \\ge g(x) + g(y-x) \\ge g(y)$, so $g$ is an improper monotone decreasing function.\n\nNow, let $g(1) = a \\le 0$. We are going to prove that $g(t) = at$ for positive real number $t$. When we assume that $g(t) < at$ for positive real number $t$, there exists a rational number $\\frac{p}{q}$ ($p,q$ are positive integers) which satisfies $\\frac{p}{q} > t$ and $g(t) < \\frac{pa}{q}$.\n\nOn the other hand, $g(\\frac{p}{q}) = \\frac{1}{q}g(p) = \\frac{p}{q}g(1) = \\frac{pa}{q}$ shows that $g(t) < g(\\frac{p}{q})$ and $\\frac{p}{q} > t$.\n\nHowever, this conflicts with the fact that $g$ is an improper monotone increasing function. When we assume that $g(t) > at$, we also get contradiction. With that, we get $g(t) = at$ for positive real number $t$.\n\nHence, $f(x) = xg(x) = ax^2 (a \\le 0)$. Besides, $f(x)+f(y)-\\frac{f(x+y)}{2} = \\frac{a}{2}(x-y)^2 \\le 0$,\n\n$\\frac{f(x)}{x} + \\frac{f(y)}{y} - \\frac{f(x+y)}{x+y} = 0$ hold for such $f$. With that, such $f$ satisfies the conditions\n\nin this problem's statement.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "2. Substituting $x = y = t$ ($t \\ge 0$) into the two inequalities, we get $4f(t) \\le f(2t)$ and $4f(t) \\ge f(2t)$. So we get $f(2t) = 4f(t)$ for $t \\ge 0$. Applying the equality $m$ times, it follows that $f(2^mt) = 2^{2m}f(t)$.\n\nNow, let $g(x) = \\frac{f(x)}{x}$. We are going to prove that $g(nt) = ng(t)$ for any positive integer $n$ and any positive real number $t$. When $n = 2^m$ ($m$: positive integer), the"
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_a1254292827d",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "1 - \\left( \\frac{7}{12} + \\frac{5}{12} \\times \\frac{7}{11} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{7}{10} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9} \\right) \\\\\n= \\frac{5}{12} - \\left( \\frac{5}{12} \\times \\frac{7}{11} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{7}{10} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9} \\right) \\\\\n= \\frac{5}{12} \\times \\frac{4}{11} - \\left( \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{7}{10} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9} \\right) \\\\\n= \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} - \\left( \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9} \\right) \\\\\n= \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{2}{9} \\\\\n= \\frac{1}{99}.\n\\]\n\nSo the answer is $\\frac{98}{99}$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Find the value of\n\n\\[\n\\frac{7}{12} + \\frac{5}{12} \\times \\frac{7}{11} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{7}{10} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9}\n\\]"
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_2c1cea78721c",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Define $P$ as the intersection point of AC and BD. Then from the Pythagorean theorem, $AB^2 = AP^2 + BP^2$, $BC^2 = BP^2 + CP^2$, $CD^2 = CP^2 + DP^2$, $DA^2 = DP^2 + AP^2$. Then $DA^2 = AB^2 + CD^2 - BC^2 = 5^2 + 6^2 - 7^2 = 12$. So $DA = 2\\sqrt{3}$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "A quadrilateral ABCD that satisfies AB = 5, BC = 7, CD = 6 is given. And AC and BD are perpendicular to each other. Find the length of DA."
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_77f1536502ef",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Now put $p = n - m, q = n$. Finding all positive integer pairs $(m, n)$ is equivalent to finding all integer pairs $(p, q)$. And then condition (1) and (3) is equivalent to the conditions that $1 \\le q \\le 20$, $\\frac{1}{4} < \\frac{p}{q} < \\frac{2}{7}$. And condition (2) is equivalent to the condition that $p$ and $q$ are relatively prime. And $\\frac{1}{4} < \\frac{p}{q} < \\frac{2}{7}$ is equivalent to $\\frac{7}{2}p < q < 4p$. So,\n\n* If $p \\le 0$, $q$ doesn't exist because of $\\frac{p}{q} \\le 0$\n\n* If $p = 1$, then $\\frac{2}{7} < q < 4$, so $q$ doesn't exist.\n\n* If $p = 2$, then $7 < q < 8$, so $q$ doesn't exist.\n\n* If $p = 3$, then $\\frac{21}{2} < q < 12$, so $q = 11$.\n\n* If $p = 4$, then $14 < q < 16$, so $q = 15$.\n\n* If $p = 5$, then $\\frac{35}{2} < q < 20$, so $q = 18, 19$.\n\n* If $p \\ge 6$, $q$ doesn't exist because $q > \\frac{7}{2}p \\ge 21$.\n\nThen all integer pairs $(p, q)$ are (3, 11), (4, 15), (5, 18), (5, 19). So, all positive integer pairs $(m, n)$ are (13, 18), (8, 11), (11, 15), (14, 19).",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Find all positive integer pairs $(m, n)$ that satisfy the following conditions.\n\n\\[\n(1) m, n \\leq 20\n\\]\n\n(2) $m$ and $n$ are relatively prime.\n\n\\[\n(3) \\quad \\frac{5}{7} < \\frac{m}{n} < \\frac{3}{4}\n\\]"
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_7b889c95fe14",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "$f(x, y, z) = k(x + y)(y + z)(z + x) - x - y - z$, ($k \\neq 0$) satisfies the conditions (in fact, only this form is a solution). Put $g(x, y, z) = f(x, y, z) + x + y + z$. Then the conditions are equivalent to the condition that $g(x, y, z)$ is divisible by $x + y, y + z, z + x$. And The condition that the degree of $f(x, y, z)$ is 3 and $f$ is with real coefficients are equivalent to the condition that the degree of $g(x, y, z)$ is 3 and $g$ is with real coefficients. Now $g(x, y, z) = k(x + y)(y + z)(z + x)$, ($k \\neq 0$) satisfies all the conditions. Then $f(x, y, z) = k(x + y)(y + z)(z + x) - x - y - z$, ($k \\neq 0$) satisfies all the conditions too.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Find one of the polynomials $f(x, y, z)$ whose degree is 3, with real coefficients, that satisfy the following conditions.\n\n• $f(x, y, z) + x$ is divisible by $y+z$\n\n• $f(x, y, z) + y$ is divisible by $z + x$\n\n• $f(x, y, z) + z$ is divisible by $x + y$\n\nA polynomial $P(x, y, z)$ is divisible by a polynomial $Q(x, y, z)$ means that there exists a polynomial $R(x, y, z)$ that satisfies $P(x, y, z) = Q(x, y, z)R(x, y, z)$."
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_cf4ebf3f59dd",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "<table><tr><td>a<sub>1,1</sub></td><td>a<sub>1,2</sub></td><td>a<sub>1,3</sub></td><td>a<sub>1,4</sub></td><td>A<sub>1</sub></td></tr><tr><td>a<sub>2,1</sub></td><td>a<sub>2,2</sub></td><td>a<sub>2,3</sub></td><td>a<sub>2,4</sub></td><td>A<sub>2</sub></td></tr><tr><td>a<sub>3,1</sub></td><td>a<sub>3,2</sub></td><td>a<sub>3,3</sub></td><td>a<sub>3,4</sub></td><td>A<sub>3</sub></td></tr><tr><td>a<sub>4,1</sub></td><td>a<sub>4,2</td><td>a<sub>4,3</sub></td><td>a<sub>4,4</sub></td><td>A<sub>4</sub></td></tr><tr><td>B<sub>1</sub></td><td>B<sub>2</sub></td><td>B<sub>3</sub></td><td>B<sub>4</sub></td><td></td></tr></table>",
              "title": null
            },
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "<table><tr><td>1</td><td>2</td><td>5</td><td>11</td><td>19</td></tr><tr><td>3</td><td>6</td><td>7</td><td>12</td><td>28</td></tr><tr><td>4</td><td>8</td><td>9</td><td>14</td><td>35</td></tr><tr><td>10</td><td>13</td><td>15</td><td>16</td><td>54</td></tr><tr><td>18</td><td>29</td><td>36</td><td>53</td><td></td></tr></table>",
              "title": null
            }
          ],
          "label": null,
          "latex": "Define the numbers written to each grid as shown in the table 1. I can assume that $A_1$ is the minimum and $A_4$ is the maximum in $A_1, A_2, A_3, A_4$, and that $B_1$ is the minimum and $B_4$ is the maximum in $B_1, B_2, B_3, B_4$, by rearranging rows and columns appropriately. Now $m \\le A_4 - A_1, m \\le B_4 - B_1$, so\n\n\\[\n\\begin{aligned}\nm &\\le \\frac{(A_4 - A_1) + (B_4 - B_1)}{2} \\\\\n&= \\frac{1}{2}(a_{4,4} - a_{1,1}) + \\frac{1}{2}(a_{4,4} + a_{4,2} + a_{4,3} + a_{2,4} + a_{3,4} - a_{1,1} - a_{1,2} - a_{1,3} - a_{2,1} - a_{3,1}) \\\\\n&\\le \\frac{1}{2}(16 - 1) + \\frac{1}{2}(16 + 15 + 14 + 13 + 12 - 1 - 2 - 3 - 4 - 5) \\\\\n&= 35\n\\end{aligned}\n\\]\n\nAnd there exists a way of writing if $m = 35$(table 2). So the maximum $m$ is 35. This is table 1.\n\n% IMAGE: <table><tr><td>a<sub>1,1</sub></td><td>a<sub>1,2</sub></td><td>a<sub>1,3</sub></td><td>a<sub>1,4</sub></td><td>A<sub>1</sub></td></tr><tr><td>a<sub>2,1</sub></td><td>a<sub>2,2</sub></td><td>a<sub>2,3</sub></td><td>a<sub>2,4</sub></td><td>A<sub>2</sub></td></tr><tr><td>a<sub>3,1</sub></td><td>a<sub>3,2</sub></td><td>a<sub>3,3</sub></td><td>a<sub>3,4</sub></td><td>A<sub>3</sub></td></tr><tr><td>a<sub>4,1</sub></td><td>a<sub>4,2</sub></td><td>a<sub>4,3</sub></td><td>a<sub>4,4</sub></td><td>A<sub>4</sub></td></tr><tr><td>B<sub>1</sub></td><td>B<sub>2</sub></td><td>B<sub>3</sub></td><td>B<sub>4</sub></td><td></td></tr></table>\n\nThis is table 2.\n\n% IMAGE: <table><tr><td>1</td><td>2</td><td>5</td><td>11</td><td>19</td></tr><tr><td>3</td><td>6</td><td>7</td><td>12</td><td>28</td></tr><tr><td>4</td><td>8</td><td>9</td><td>14</td><td>35</td></tr><tr><td>10</td><td>13</td><td>15</td><td>16</td><td>54</td></tr><tr><td>18</td><td>29</td><td>36</td><td>53</td><td></td></tr></table>",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "There is a grid of 5 \\times 5. And write the integers 1,2,...,16 in all the grids (each number can be written only once) in the upper left grid of 4 \\times 4(\\clubsuit). About the 4 rows, write the sum of four numbers that are written in each row at the right end of each row. Similarly, about the 4 columns, write the sum of four numbers that are written in each column at the lower end of each column. And nothing is written in the lower right grid. Find the maximum integer $m$ which satisfies the following condition.\n\nConditions: About step (\\clubsuit), there exists a way of writing the numbers such that you can choose two numbers $a, b$ which $|a-b| \\ge m$ hold from the right end column and also from the lower end row."
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_feb8b73e346b",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Let $|PQR|$ denote the area of triangle PQR. AD, BE, CF cross at a point G and AG:GD = BG:GE = CG:GF = 2:1. Take a point C' on line GC so that G is the midpoint of CC'. From $C'G = GC$ and $CG:GF = 2:1$, it follows that $C'F = GF$. Since $AF = BF, C'F = GF$ and $\\angle AFC' = \\angle BFG$, triangles AFC' and BFG are congruent and so $AC' = BG$. Now we have $AC' = BG = \\frac{8}{3}$, $AG = 2$, $GC' = GC = \\frac{10}{3}$, so $AGC'$ is a right triangle with hypotenuse GC'. Therefore $|AGC'| = \\frac{8}{3}$. By $C'G = GC$ we get $|AGC| = |AGC'| = \\frac{8}{3}$, and by $BG:GE = 2:1$ we get $|ABC| = 3|AGC| = 8$.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "ABC is a triangle and D, E, F are midpoints of BC, CA, AB respectively. If AD = 3, BE = 4 and CF = 5, what is the area of ABC?"
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_278c30c0d420",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Take points E and F so that ABEC and ACFD are parallelograms. Then $AB = CE$, $DA = FC$, and by the triangle inequality we get $BC + CF \\ge BF, DC + DE \\ge DE$. Therefore $AB + BC + CD + DA \\ge BF + DE$.\n\nAnd if we consider a case AC and BD crosses at their midpoints, we get $BC + CF = BF, DC + CE = DE$ and $AB + BC + CD + DA = BF + DE$. So the minimum value is $BF + DE$.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Two diagonals AC and BD of quadrilateral ABCD intersect at a point P in the quadrilateral. If we have AC = 2, BD = 3 and \\(\\angle APB = 60^\\circ\\), what is the smallest possible value of AB + BC + CD + DA?"
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_8d1a0f13b321",
      "language": "en",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "\\begin{aligned}\n& 1 - \\left( \\frac{7}{12} + \\frac{5}{12} \\times \\frac{7}{11} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{7}{10} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9} \\right) \\\\\n&= \\frac{5}{12} - \\left( \\frac{5}{12} \\times \\frac{7}{11} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{7}{10} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9} \\right) \\\\\n&= \\frac{5}{12} \\times \\frac{4}{11} - \\left( \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{7}{10} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9} \\right) \\\\\n&= \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} - \\left( \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9} \\right) \\\\\n&= \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{2}{9} \\\\\n&= \\frac{1}{99}.\n\\end{aligned}\n\nSo the answer is $\\frac{98}{99}$.",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "1. Compute $1 - \\left( \\frac{7}{12} + \\frac{5}{12} \\times \\frac{7}{11} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{7}{10} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9} \\right)$."
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_4e14609051c7",
      "language": "en",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Define $P$ as the intersection point of AC and BD. Then from the Pythagorean theorem, $AB^2 = AP^2 + BP^2$, $BC^2 = BP^2 + CP^2$, $CD^2 = CP^2 + DP^2$, $DA^2 = DP^2 + AP^2$. Then $DA^2 = AB^2 + CD^2 - BC^2 = 5^2 + 6^2 - 7^2 = 12$. So $DA = 2\\sqrt{3}$.",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "2. Let $P$ be the intersection point of $AC$ and $BD$ in a quadrilateral $ABCD$ with $AB = 5$, $BC = 7$, $CD = 6$. Find $DA$."
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_98785e2de864",
      "language": "en",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Now put $p = n - m, q = n$. Finding all positive integer pairs $(m, n)$ is equivalent to finding all integer pairs $(p, q)$. And then condition (1) and (3) is equivalent to the conditions that $1 \\le q \\le 20$, $\\frac{1}{4} < \\frac{p}{q} < \\frac{2}{7}$. And condition (2) is equivalent to the condition that $p$ and $q$ are relatively prime. And $\\frac{1}{4} < \\frac{p}{q} < \\frac{2}{7}$ is equivalent to $\\frac{7}{2}p < q < 4p$. So,\n\n* If $p \\le 0$, $q$ doesn't exist because of $\\frac{p}{q} \\le 0$\n\n* If $p = 1$, then $\\frac{2}{7} < q < 4$, so $q$ doesn't exist.\n\n* If $p = 2$, then $7 < q < 8$, so $q$ doesn't exist.\n\n* If $p = 3$, then $\\frac{21}{2} < q < 12$, so $q = 11$.\n\n* If $p = 4$, then $14 < q < 16$, so $q = 15$.\n\n* If $p = 5$, then $\\frac{35}{2} < q < 20$, so $q = 18, 19$.\n\n* If $p \\ge 6$, $q$ doesn't exist because $q > \\frac{7}{2}p \\ge 21$.\n\nThen all integer pairs $(p, q)$ are (3, 11), (4, 15), (5, 18), (5, 19). So, all positive integer pairs $(m, n)$ are (13, 18), (8, 11), (11, 15), (14, 19).",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "3. Find all positive integer pairs $(m, n)$ such that $1 \\le n \\le 20$, $\\frac{1}{4} < \\frac{n-m}{n} < \\frac{2}{7}$, and $n-m$ and $n$ are relatively prime."
    },
    {
      "_provenance": {
        "folder": "JPN_2007",
        "pages_map": {
          "P0": "page20.md",
          "P1": "page21.md",
          "P2": "page22.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2007.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yn7-XljJarzrkpdYuN_mePQOoEC_hy9p",
      "competition name": "The 17th Japanese Mathematical Olympiad; The 5th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_fa49cbb75df2",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Since $BE \\parallel AC$ and $\\angle APB = 60^\\circ$, $\\angle DBE = 60^\\circ$. And since $BE = AC = 2$ and $BD = 3$, letting H be the foot of perpendicular from E to line BD we have $BH = 1, EH = \\sqrt{3}$ and $HD = BD - BH = 2$. By the Pythagorean theorem we get $DE = \\sqrt{7}$. In the same way we get $BF = \\sqrt{19}$ so the minimum is $BF + DE = \\sqrt{7} + \\sqrt{19}$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Take points E and F so that ABEC and ACFD are parallelograms. Then $AB = CE$, $DA = FC$, and by the triangle inequality we get $BC + CF \\ge BF, DC + DE \\ge DE$. Therefore $AB + BC + CD + DA \\ge BF + DE$.\n\nAnd if we consider a case AC and BD crosses at their midpoints, we get $BC + CF = BF, DC + CE = DE$ and $AB + BC + CD + DA = BF + DE$. So the minimum value is $BF + DE$."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_33aad0111e9e",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Since $AB = 3, BC = 4$ and $\\angle ABC = 90^\\circ$, we get $AC = 5$. Let $M$ be the midpoint of AD. Because $AM = DM, MC = MC, AC = 5 = DC$ and $\\angle ABC = \\angle AMC = 90^\\circ$, $AB = AM, AC = AC$, the triangles $ABC, AMC$ and $DMC$ are all congruent.\n\nTherefore, the area of $ABCD$ is $\\frac{3 \\times 4}{2} \\times 3 = 18$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let ABCD be a convex quadrilateral with $AB = 3, BC = 4, CD = 5, DA = 6$ and $\\angle ABC = 90^\\circ$. Find the area of ABCD."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_32812ab0a891",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "For positive integer $n$,\n\n$$\n11^n = (10 + 1)^n = \\sum_{k=0}^{n} n C_k 10^k = \\sum_{k=0}^{n} C_k 10^k = n \\cdot 10^n + n \\cdot 10^0 = n \\cdot 10^n + 1 \\pmod{100}.\n$$\n\nTherefore, the ten's place of $11^n$ is equal to the last digit of $n$. The last digit of $12^n$ for $n = 1, 2, \\dots$ is 2, 4, 8, 6, 2, 4, \\dots, with period 4, so the last digit of $12^{13}$ is 2 and the answer is 2.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Determine ten's place of $11^{12^{13}}$. ($12^{13}$th power of 11, not 13th power of $11^{12}$.)"
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_8a0296d3ff28",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Take $\\angle APB = \\theta$ and Let $S$ be the area of $APB$. Then $\\frac{1}{2} \\times AP \\times BP \\times \\sin \\theta =$\n$S = \\frac{3 \\times 7}{2} = \\frac{21}{2}$. Since $\\sin \\theta$ is positive, $AP \\times BP$ takes minimum value when $\\sin \\theta$\ntakes maximum. Since $\\frac{7}{2} > 3$, we can take $P$ on the circle with diameter $AB$. Then\n$\\sin \\theta$ takes maximum value 1 and $AP \\times BP$ takes minimum value 21.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "AB is a segment on a plane with length 7, and P is a point such that the distance between P and line AB is 3. Find the smallest possible value of $AP \\times BP$."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_08f2fdab3b46",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Let A and B be the first and the last 2 digits of n respectively. We have to determine all (A, B) such that AB divides $100A + B$.\n\nSince A divides $100A + B$, A divides B. Let $k = \\frac{B}{A}$. Since A and B are 2-digit numbers, $10 \\le A < \\frac{100}{k}$.\n\nThe condition is equivalent to $kA^2|100A + kA$ and this is equivalent to $kA|100 + k$.\n$k$ divides $100 + k$ iff $k$ divides 100, and with $k < 10$ we get $k = 1, 2, 4, 5$. From\n$$A = \\frac{100 + k}{k}$$\nand $10 \\le A < \\frac{100}{k}$ we get $(k, A) = (2, 17), (4, 13)$ and we get $n = 1734, 1352$.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "n is a 4-digit integer with ten's place nonzero, and if we take the first 2 digits and the last 2 digits as two 2-digit integers, their product is a divisor of n. Determine all n with this property."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_d02bdfc3e0b8",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "We will show that in case of $n$ rectangles the answer is $2n^2 - 2n + 2$. We call each divided part region.\n\n$n$ rectangles $R_{1,n}, \\dots, R_{i,n+1-i}, \\dots, R_{n,1}$ divide plane into $2n^2 - 2n + 2$ regions, where $R_{x,y}$ is a rectangle with corners at $(x, y)$, $(x, -y)$, $(-x, y)$, $(-x, -y)$. Therefore we only have to show that $n$ rectangles cannot divide the plane into more than $2n^2 - 2n + 2$ regions.\n\nInduction. The case $n=1$ is trivial. Suppose that the case $n=k$ is true. Let $R_1, \\dots, R_{k+1}$ be $k+1$ rectangles with the property in the problem, and $D_1, \\dots, D_m$ be the regions divided by $R_1, \\dots, R_k$. By the induction's hypothesis, we have $m \\le 2k^2 - 2k + 2$.\n\nLet $C_i$ be the border of $R_i$. Suppose that for $i \\ne j$, $C_i$ and $C_j$ shares finitely many points. (The proof goes the same way if it's not satisfied). Let $P_1, \\dots, P_l$ be the intersection of $C_{k+1}$ and $C_1, \\dots, C_n$, ordered along $C_{k+1}$. $l \\le 4k$ since $C_i$ and $C_{k+1}$ crosses at 4 or less points. Add polygonal lines $P_1P_2, \\dots, P_iP_{i+1}, \\dots, P_lP_1$ one by one to $D_1, \\dots, D_m$. One line increases the number of region by 1 or less, So adding all polygonal lines increases the number of region by $l$ or less.\n\nSince adding $P_1P_2, \\dots, P_iP_{i+1}, \\dots, P_lP_1$ is equivalent to adding $C_{k+1}$, the number of regions divided by $R_1, \\dots, R_{k+1}$ is\n\n$$\nm+l \\le (2k^2 - 2k + 2) + 4k = 2(k+1)^2 - 2(k+1) + 2.\n$$\n\nSo we have completed the induction. Therefore, the answer of the problem is 14.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "3 rectangles are placed on a plane, and any 2 rectangles have their edges that are parallel to each other. They divide the plane into several parts. Determine the maximum possible number of such parts. (We consider the area that are contained in no rectangles as one part. For example, if we have only 1 rectangle, the plane is divided into 2 parts.)"
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_0e405ff98b19",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Consider a general problem with cards $1, 2, \\dots, n$. Let $F_n$ be the number of choices when there are $n$ cards. $F_1 = 1$ and $F_2 = 2$ are trivial. Let $k \\ge 3$. We will consider $F_k$. If card $k$ is not chosen, the number of ways is trivially $F_{k-1}$.\n\nConsider the case where card $k$ is chosen. If any card other than $k$ is chosen, we cannot choose 1. And if we remove the card $k$ and decrease the numbers on other cards by 1, we get a proper choice from cards $1, \\dots, k-2$. On the other hand, if we have a proper choice from $1, \\dots, k-2$, we get a choice with $k$ and some other cards among $1, \\dots, k-1$. If no card other than $k$ is chosen, there is trivially only 1 way. Therefore, the number of proper choices with card $k$ is $F_{k-2} + 1$.\n\nSo we get a relation $F_k = F_{k-1} + F_{k-2} + 1$. Calculate the sequence by this relation we get $F_{15} = 1596$.\n\n*If we allow a choice with no cards, we get the Fibonacci sequence.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "We have 15 cards numbered 1, 2, ..., 15. How many ways are there to choose some (at least 1) cards so that all numbers on these cards are larger than or equal to the number of cards chosen?"
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_35086777c762",
      "language": "en",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "12. 668",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Property: For all integer $k \\ge 3$, there are exactly two $n$ such that the number of people without medals are $k$.\n\n* $[r]$ is the maximum integer that does not exceed $r$.\n\n12. There is a village with a population of 2007. This village has no name. You are God of this village and you want villagers to decide the name of this village. Every villager has one idea of the village's name.\n\nEach villager can send a letter to each villager (including himself). And every villager can send any number of letters every day. Letters are collected in the evening and delivered at once the next morning every day. The Villager who sends the letter can decide to whom the letter should be delivered. And each villager can send a letter to tell the idea of the name of the village to God only one time. This idea doesn't need to be the same as the idea which he and the other villagers had thought at first. And every villager's action is only writing a letter.\n\nEvery villager can be classified into an honest person or a liar. You and every villager don't know who is an honest person, and who is a liar. But you know that the number of liars is less than or equal to $T$, and there is one honest person at least in this village.\n\nYou can give instructions to every villager only once at noon of one day. An honest person necessarily follows the instruction, but you don't know if a liar follows the instruction. Find the maximum $T$ which there exists an instruction which fulfill the conditions below.\n\n* At last, every honest person sends a letter to God and every honest person sends the same idea of the village's name.\n\n* If every honest person had thought the same idea of the name of the village at first, every honest person sends this idea to God."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_dbe644b1385c",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "(2) $T_1 = ABCF$.\n\nThere must be another tetrahedron $T_2$ with face $\\Delta ACF$. $T_2$ is ACFH, ACDF, ACEF or ACFG.\n\n(a) $T_2 = AFCH$.\n\nThere is only 1 way: the remaining tetrahedron must be ACDH, AEFH and CFGH.\n\n(b) $T_2 = ACDF, ACEF, ACFG$.\n\nThese 3 cases are all congruent, so we only have to consider the case $T_2 = ACDF$. Since if we remove ABCF and ACDF from S, there remains a shape congruent to the case ABCE and ACDE removed, there are 5 ways to divide the remaining shape, as we counted in (1)(a). So there are 15 ways in this case.\n\nTherefore we have 16 ways in the case $T_1 = ABCF$.\n\n(3) $T_1 = ABCG$.\n\nSame as $T_1 = ABCE$. We have 8 ways.\n\n(4) $T_1 = ABCH$.\n\nThere must be ACDH. Since if we remove ABCH and ACDH from S, there remains a shape congruent to the case ABCE and ACDE removed, there are 5 ways to divide the remaining shape, as we counted in (1)(a).\n\nBy these, we get the answer $(8 + 16 + 8 + 5) \\times 2 = 74$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Consider a division of cube $S = ABCD - EFGH$ into $T_1, \\cdots, T_k$ with properties in the problem. Then one of the below holds.\n\n* $\\triangle ABC$ and $\\triangle ACD$ is a face of a tetrahedron.\n\n* $\\triangle ABD$ and $\\triangle BCD$ is a face of a tetrahedron.\n\nBy symmetry we can get the answer by counting the former case and double it. Assume that $T_1$ has $\\triangle ABC$ as its face. Then $T_1$ is $ABCE, ABCF, ABCG$ or $ABCH$.\n\n(1) $T_1 = ABCE$.\n\nThere must be another tetrahedron $T_2$ with face $\\triangle ACE$. $T_2$ is $ACDE$ or $ACEH$.\n\n(a) $T_2 = ACDE$.\n\nThere must be another tetrahedron $T_3$ with face $\\triangle CDE$. $T_3$ is $CDEG$ or $CDEH$.\n\ni. $T_3 = CDEG$.\n\nThere must be $DEGH$. Then we need to count the ways of dividing the square pyramid $BCGF - E$. There are 2 ways: $\\{BCEG, BEFG\\}$ and $\\{BCEF, CEFG\\}$.\n\nii. $T_3 = CDEH$.\n\nWe need to count the ways of dividing the triangle prism $BEF - CHG$ such that each of $\\triangle BCE$ and $\\triangle CEH$ is a face of a tetrahedron. There are 3 ways: $\\{BCEF, CEFG, CEGH\\}, \\{BCEF, CEFH, CFGH\\}$ and $\\{BCEG, BEFG, CEFH\\}$.\n\nSo there are 5 ways in the case $T_2 = ACDE$.\n\n(b) $T_2 = ACEH$.\n\nThere must be $ACDH$. Then we need to count the ways of dividing the triangle prism $BEF - CHG$ such that each of $\\triangle BCE$ and $\\triangle CEH$. There are 3 ways, as we counted in (1)(a)ii.\n\nTherefore, we have 8 ways in the case $T_1 = ABCE$."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_dcdce385ad4f",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Since it is able to choose some cards which sums up to 1, $a_1 = 1$. Only the numbers less than or equal to $p_1$ can be made with $a_1$s, so if $k \\ge 2$ we get $a_2 = p_1+1$. Then only the numbers less than or equal to $a_1p_1 + a_2p_2 = (p_1+1)(p_2+1) - 1$ can be made with $a_1$s and $a_2$s, so if $k \\ge 3$ we get $a_3 = (p_1+1)(p_2+1)$. Continuing this argument we get $a_i = (p_1+1)(p_2+1) \\cdots (p_{i-1}+1)$ for $1 < i \\le k$. Since $a_1p_1 + a_2p_2 + \\cdots + a_kp_k = 2007$, $(p_1+1)(p_2+1) \\cdots (p_n+1) = 2007+1 = 2008$.\n\nOn the other hand, given some positive integers $p_1, p_2, \\cdots, p_k$ with $(p_1+1)(p_2+1) \\cdots (p_n+1) = 2008$, letting $a_1 = 1$ and $a_i = (p_1+1)(p_2+1) \\cdots (p_{i-1}+1)$ ($1 < i \\le k$) satisfies the condition.\n\nSo all we have to do is to count $(p_1, p_2, \\cdots, p_k)$ which $(p_1+1)(p_2+1) \\cdots (p_n+1) = 2008$ holds. Since $2008 = 2^3 \\times 251$ and $2$ and $251$ are primes, $(p_1+1) \\times (p_2+1) \\times \\cdots \\times (p_n+1)$ must be $2008, 2 \\times 1004, 4 \\times 502, 8 \\times 251, 2 \\times 2 \\times 502, 2 \\times 4 \\times 251, 2 \\times 2 \\times 2 \\times 251$ or one of their permutation. There are $1, 2, 2, 2, 3, 6, 4$ possible permutations respectively, so the answer is $1+2+2+2+3+6+4=20$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "10. Let there be $k$ kinds of numbers on the cards. Let $a_1 < a_2 < \\dots < a_k$ be these numbers and each number is written on $p_1, p_2, \\dots, p_k$ cards respectively. We will show $(p_1+1)(p_2+1)\\dots(p_n+1) = 2008, a_1 = 1$ and $a_i = (p_1+1)(p_2+1)\\dots(p_{i-1}+1)$ ($1 < i \\le k$)."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_bc351a9ba616",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "**Corollary.** The condition in the problem is equivalent to the condition that for any $0 \\le k < M$ there are exactly 2 integers with $f(n) = k$ among $0, \\dots, L-1$. And if it is satisfied, $S = \\frac{1}{2}$.\n\n**Proof of Corollary.** If $f(n) \\ge 3$, $n$ must be positive, so the first statement follows from the lemma. Then it must be satisfied that $L = 2M$ and $S = \\frac{M}{L} = \\frac{1}{2}$.\n\nNow we are going to solve the problem with this corollary. First, determine all $(a, b, c)$ with $\\frac{1}{a} + \\frac{1}{b} + \\frac{1}{c} = \\frac{1}{2}$. Since $a \\ge b \\ge c > 0$, $\\frac{1}{2} > \\frac{1}{c} \\ge \\frac{1}{6}$ and $3 \\le c \\le 6$. If $c = 3$, $\\frac{1}{a} + \\frac{1}{b} = \\frac{1}{6}$. By $a \\ge b$ we get $\\frac{1}{b} \\ge \\frac{1}{12}$. Trying all possible $b$, we get $(a, b) = (42, 7), (24, 8), (18, 9), (15, 10), (12, 12)$. Checking other possible $c$ in the same way, we get all $(a, b, c)$ with $\\frac{1}{a} + \\frac{1}{b} + \\frac{1}{c} = \\frac{1}{2}$ as $(a, b, c) = (42, 7, 3), (24, 8, 3), (18, 9, 3), (15, 10, 3), (12, 12, 3), (20, 5, 4), (12, 6, 4), (8, 8, 4), (10, 5, 5), (6, 6, 6)$.\n\nChecking these possibilities by the corollary, we get the answer to the problem: $(a, b, c) = (6, 6, 6), (8, 8, 4), (10, 5, 5), (12, 6, 4)$.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "11. Let $f(n) = n - \\lfloor \\frac{n}{a} \\rfloor - \\lfloor \\frac{n}{b} \\rfloor - \\lfloor \\frac{n}{c} \\rfloor$ for integer $n$. For $n$:positive, $f(n)$ is equal to the contestant with no medals on $n$-people contest. Since $x - 1 < [x] \\le x$, it follows that $Sn \\le f(n) < Sn + 3$ where $S = 1 - \\frac{1}{a} - \\frac{1}{b} - \\frac{1}{c}$. To satisfy the conditions $S$ must be positive.\n\nIt can be conjectured that $S = \\frac{1}{2}$, because $f(n)$ increases in constant speed $S$ and takes every integer larger than or equal to 3 twice. We will prove a stronger fact and prove this conjecture from that.\n\nLet $L$ be the L.C.M. of $a, b, c$. Let $S = 1 - \\frac{1}{a} - \\frac{1}{b} - \\frac{1}{c} = \\frac{M}{L}$. $M$ is integer, and is positive because $S > 0$. For any integer $n$,\n\n$$\n\\begin{aligned}\nf(n+L) &= n+L - \\left\\lfloor \\frac{n+L}{a} \\right\\rfloor - \\left\\lfloor \\frac{n+L}{b} \\right\\rfloor - \\left\\lfloor \\frac{n+L}{c} \\right\\rfloor \\\\\n&= n+L - \\left\\lfloor \\frac{n}{a} \\right\\rfloor - \\frac{L}{a} - \\left\\lfloor \\frac{n}{b} \\right\\rfloor - \\frac{L}{b} - \\left\\lfloor \\frac{n}{c} \\right\\rfloor - \\frac{L}{c} \\\\\n&= f(n) + L \\left( 1 - \\frac{1}{a} - \\frac{1}{b} - \\frac{1}{c} \\right) = f(n) + M\n\\end{aligned}\n$$\n\nand so $f(n + tL) = f(n) + tM$.\n\nLet $\\bar{f}(n)$ be the remainder of $f(n)$ divided by $M$. From the last equality, $\\bar{f}$ has period $L$. Now we prove the following lemma.\n\n**Lemma.** Let $L$ and $M$ be positive integers and $g(n)$ be a function from integers to integers s.t. $g(n+tL) = g(n)+tM$ for all $n, t$. Let $\\bar{g}(n)$ be remainder of $g(n)$ divided by $M$. Then for $0 \\le k < m$ we have following: if there are exactly $q$ integers $n$ with $0 \\le n < L$ and $\\bar{g}(n) = k$, for all integer $k'$ which is congruence to $k$ modulo $M$ there are exactly $q$ integers $n$ with $g(n) = k'$.\n\n**Proof of Lemma.** Let there be exactly $q$ integers $0 \\le n_1, \\cdots, n_q < L$ with $\\bar{g}(n_i) = k$. Take $k' = k + uM$. If we write $g(n_i) = k + t_iM$ by integer $t_i$ and let $n'_i = n_i + (u - t_i)L$, $g(n'_i) = k'$ and all $n'_i$ is different since their remainder modulo $L$ is different. Now we are going to prove that possible cases for $n$ with $g(n) = k'$ are only $n'_1, \\cdots, n'_q$. Suppose $g(n) = k'$ then we have $\\bar{g}(n) = k$. Let $\\bar{n}$ be remainder of $n$ divided by $L$. Since $\\bar{g}$ has a period $L$ it follows that $\\bar{g}(\\bar{n}) = k$ and $\\bar{n}$ is equal to some $n_i$. Writing $n = n'_i + sL$ we have $g(n'_i) = g(n) = g(n'_i + sL) = g(n'_i) + sM$ and therefore $s = 0, n = n'_i$."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_89f52ee5f226",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "**Corollary.** The condition in the problem is equivalent to the condition that for any $0 \\le k < M$ there are exactly 2 integers with $f(n) = k$ among $0, \\dots, L-1$. And if it is satisfied, $S = \\frac{1}{2}$.\n\n**Proof of Corollary.** If $f(n) \\ge 3$, $n$ must be positive, so the first statement follows from the lemma. Then it must be satisfied that $L = 2M$ and $S = \\frac{M}{L} = \\frac{1}{2}$.\n\nNow we are going to solve the problem with this corollary. First, determine all $(a, b, c)$ with $\\frac{1}{a} + \\frac{1}{b} + \\frac{1}{c} = \\frac{1}{2}$. Since $a \\ge b \\ge c > 0$, $\\frac{1}{2} > \\frac{1}{c} \\ge \\frac{1}{6}$ and $3 \\le c \\le 6$. If $c = 3$, $\\frac{1}{a} + \\frac{1}{b} = \\frac{1}{6}$. By $a \\ge b$ we get $\\frac{1}{b} \\ge \\frac{1}{12}$. Trying all possible $b$, we get $(a, b) = (42, 7), (24, 8), (18, 9), (15, 10), (12, 12)$. Checking other possible $c$ in the same way, we get all $(a, b, c)$ with $\\frac{1}{a} + \\frac{1}{b} + \\frac{1}{c} = \\frac{1}{2}$ as $(a, b, c) = (42, 7, 3), (24, 8, 3), (18, 9, 3), (15, 10, 3), (12, 12, 3), (20, 5, 4), (12, 6, 4), (8, 8, 4), (10, 5, 5), (6, 6, 6)$.\n\nChecking these possibilities by the corollary, we get the answer to the problem: $(a, b, c) = (6, 6, 6), (8, 8, 4), (10, 5, 5), (12, 6, 4)$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "11. Let $f(n) = n - \\lfloor \\frac{n}{a} \\rfloor - \\lfloor \\frac{n}{b} \\rfloor - \\lfloor \\frac{n}{c} \\rfloor$ for integer $n$. For $n$:positive, $f(n)$ is equal to the contestant with no medals on $n$-people contest. Since $x - 1 < [x] \\le x$, it follows that $Sn \\le f(n) < Sn + 3$ where $S = 1 - \\frac{1}{a} - \\frac{1}{b} - \\frac{1}{c}$. To satisfy the conditions $S$ must be positive.\n\nIt can be conjectured that $S = \\frac{1}{2}$, because $f(n)$ increases in constant speed $S$ and takes every integer larger than or equal to 3 twice. We will prove a stronger fact and prove this conjecture from that.\n\nLet $L$ be the L.C.M. of $a, b, c$. Let $S = 1 - \\frac{1}{a} - \\frac{1}{b} - \\frac{1}{c} = \\frac{M}{L}$. $M$ is integer, and is positive because $S > 0$. For any integer $n$,\n\n$$\n\\begin{aligned}\nf(n+L) &= n+L - \\left\\lfloor \\frac{n+L}{a} \\right\\rfloor - \\left\\lfloor \\frac{n+L}{b} \\right\\rfloor - \\left\\lfloor \\frac{n+L}{c} \\right\\rfloor \\\\\n&= n+L - \\left\\lfloor \\frac{n}{a} \\right\\rfloor - \\frac{L}{a} - \\left\\lfloor \\frac{n}{b} \\right\\rfloor - \\frac{L}{b} - \\left\\lfloor \\frac{n}{c} \\right\\rfloor - \\frac{L}{c} \\\\\n&= f(n) + L \\left( 1 - \\frac{1}{a} - \\frac{1}{b} - \\frac{1}{c} \\right) = f(n) + M\n\\end{aligned}\n$$\n\nand so $f(n + tL) = f(n) + tM$.\n\nLet $\\bar{f}(n)$ be the remainder of $f(n)$ divided by $M$. From the last equality, $\\bar{f}$ has period $L$. Now we prove the following lemma.\n\n\\textbf{Lemma.} Let $L$ and $M$ be positive integers and $g(n)$ be a function from integers to integers s.t. $g(n+tL) = g(n)+tM$ for all $n, t$. Let $\\bar{g}(n)$ be remainder of $g(n)$ divided by $M$. Then for $0 \\le k < m$ we have following: if there are exactly $q$ integers $n$ with $0 \\le n < L$ and $\\bar{g}(n) = k$, for all integer $k'$ which is congruence to $k$ modulo $M$ there are exactly $q$ integers $n$ with $g(n) = k'$.\n\n\\textbf{Proof of Lemma.} Let there be exactly $q$ integers $0 \\le n_1, \\cdots, n_q < L$ with $\\bar{g}(n_i) = k$. Take $k' = k + uM$. If we write $g(n_i) = k + t_iM$ by integer $t_i$ and let $n'_i = n_i + (u - t_i)L$, $g(n'_i) = k'$ and all $n'_i$ is different since their remainder modulo $L$ is different. Now we are going to prove that possible cases for $n$ with $g(n) = k'$ are only $n'_1, \\cdots, n'_q$. Suppose $g(n) = k'$ then we have $\\bar{g}(n) = k$. Let $\\bar{n}$ be remainder of $n$ divided by $L$. Since $\\bar{g}$ has a period $L$ it follows that $\\bar{g}(\\bar{n}) = k$ and $\\bar{n}$ is equal to some $n_i$. Writing $n = n'_i + sL$ we have $g(n'_i) = g(n) = g(n'_i + sL) = g(n'_i) + sM$ and therefore $s = 0, n = n'_i$."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_abc442edd8d2",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Now let us prove that this instruction satisfies the problem's condition. We will prove the following. Notice that $2007 > 3T$.\n\n(1) If some honest person wrote [sure: $j$th day $p$ says $p_0$ proposed $m$] in his memo pad, villager $p$ really sent the letter [$p_0$ proposal $m$] on the $j$th day.\n\n(2) If some honest person wrote [sure: $j$ day $p$ says $p_0$ proposed $m$] in his memo pad on the $k$th day, every honest person wrote the same content in their memo pads by the $k+1$th day.\n\n(3) Now assume that $p_0$ is a honest person. If some honest person wrote [$p_0$'s idea seems to be $m$] in his notebook, $p_0$ really proposed $m$. And if $p_0$ proposed $m$, every honest person would write [$p_0$'s idea seems to be $m$] in their notebook by the $2T+2$th day.\n\n(4) If some honest person wrote [$p$'s idea seems to be $m$] in his notebook, every honest person would write the same content in their memo pads by the $2T+2$th day.\n\n**Proof of (1):** Assume that some honest person wrote [sure: $j$ day $p$ says $p_0$ proposed $m$] to his memo pad. According to the instruction, he received the letter [$j$th day $\\dot{p}$ says $p_0$ proposed $m$] from 2007-T or more persons. Especially, from $2007-T > T$, there exists some honest person who sent the letter [$j$th day $p$ says $p_0$ proposed $m$]. Now define $q$ as the honest person who sent this content first. There are two possible reasons why $q$ sent this letter.\n\n(a) $q$ received the letter of this content from 2007 - $2T$ or more people.\n\n(b) $q$ received the letter of the content [$p_0$ proposed $m$] from $p$.\n\nBut in the case of (a), from $2007 - 2T > T$, a certain honest person sent a letter [$j$th day $p$ says $p_0$ proposed $m$] to $q$ earlier than $q$ sent the same letter. This is contrary to the definition of $q$. Therefore, there is the case (b) only, and lemma (1) is proved.\n\n**Proof of (2):** Assume that some honest person wrote [sure: $j$th day $p$ says $p_0$ proposed $m$] to his memo pad on the $k$th day. It means that $2007 - T$ or more villagers, therefore $2007 - 2T$ or more honest people sent a letter [$j$th day $p$ says $p_0$ proposed $m$] to him by the $k$th day. By the way, every honest person sent letters to every villager every day, so every villager receives the letter of this content from $2007 - 2T$ or more persons by the $k$th day, and so every honest person sent the letter of this content to every villager, and therefore every villager will receive the letter of this content from $2007 - T$ or more person by the $k+1$th day. Thus, every honest person wrote [sure: $j$th day $p$ says $p_0$ proposed $m$] in their memo pad by the $k+1$th day. Lemma (2) is proved.\n\n**Proof of (3):** Assume that some honest person wrote [$p_0$'s idea seems to be $m$] in his notebook. According to the instruction, [sure: 0th day $p_0$ says $p_0$ proposed $m$] was written in his memo pad. According to lemma (1), $p_0$ sent the letter [$p_0$ proposed $m$] on the 0th day. Next, assume that $p_0$ sent the letter [$p_0$ proposed $m$] to every villager. Then on the 1st day, every honest person, that means 2007-T or more honest people receive this letter, and send the letter [0th day $p_0$ says $p_0$ proposed $m$] to every villager. Then on the 2nd day, every honest person receives this letter, and writes [0th day $p_0$ says $p_0$ proposed $m$] to their memo pad, and then write [$p_0$'s idea seems to be $m$] to their notebook. Lemma (3) is proved.\n\n**Proof of (4):** Assume that the honest person who wrote [$p_0$'s idea seems to be $m$] in the notebook earliest is $q$, and $q$ wrote this on the $2i+2$th day. According to the instruction, there exist distinct villagers $p_0, p_2, \\dots, p_{2i}$ and [sure: $2j$th day $p_{2j}$] says $p_0$ proposed $m$] in $q$'s notebook. From $2i + 2 \\le 2T + 2$, Then $i \\le T$. So there exists a number $j$ that $p_{2j}$ is a honest person, or there doesn't exist such number $j$. In this case, $i < T$.\n\nIn the case of the former, if $p_{2j}$ is a honest person, according to lemma (1), $p_{2j}$ really sent the letter $[p_0$ proposed $m]$ on the $2j$th day, or $2j = 0$. But the former is contrary to the definition of $q$. So $j = 0$. And thus every honest person wrote $[p_0$'s idea seems to be $m]$ in their notebook on the 2nd day. (This fact is proved by the part of proof of lemma (3))\n\nIn the case of the latter, $q$ sent the letter $[p_0$ proposed $m]$ to every villager on the $2i + 2$th day. And from the same argument as (3), every honest person wrote [sure: $2i+2$th day $q$ says $p_0$ proposed $m$] in their notebook on the $2i+4$th day. By the way, the content [sure: $2j$th day $p_{2j}$ say $p_0$ proposed $m$]($0 \\le j \\le i$) in $q$'s notebook will be also written in every honest person's notebook (reference to lemma (2)). Every $p_{2j}$ isn't honest, so $q$ is different from every $p_{2j}$. Therefore, from these facts, every honest person wrote $[p_0$'s idea seems to be $m]$ in their notebook on the $2i+4$th day. Now $i < T$, then $2i + 4 \\le 2T + 2$. Lemma (4) is proved.\n\nAccording to the lemma (4), on the evening of the $2T+2$th day, the contents of every honest person's notebook are the same. So every honest person will send the same letter to God. Thus the first condition is satisfied. Next, according to the lemma (3), every honest person's idea is written in every honest person's memo pad. And for honest person $p$, at most one $m$ is written as $[p$'s idea seems to be $m]$. Therefore, if every honest person had the same idea of the village name $h$, $h$ gains the most votes. $(2007 - T > \\frac{2007}{2})$ Thus every honest person sends a letter $[m]$ to God. So the second condition is satisfied.\n\nNext, we will prove that if $T \\ge 669$, instructions which fulfill the conditions don't exist. At first, Prove the following lemma.\n\n**Lemma A:** In the problem, if the number of villagers is changed into 3, and put $T = 1$, instructions which fulfill the conditions don't exist.\n\n**Proof of Lemma A:** Assume that instructions which fulfill the conditions exist. Define three villagers as 1, 2 and 3. Assume that this instruction doesn't direct to send a letter to oneself. Consider the following situation X. There was another village in which three villagers 1', 2' and 3' live. And this village also had no name. And in this village, another God gave the same instruction as the same day (1, 2, 3 correspond to 1', 2', 3'). But because of a mistake of the post office, The letter from $i$ to $j$ always arrived as a letter from $i$'to$j'$, and the letter from $i'$ to $j'$ always arrived as a letter from $i$ to $j$($i, j = 1, 2, 3$) And $1, 2, 3, 1', 2', 3'$ are honest people, and consider $a, a, b, b, b, a$ as their ideas of the name of the village respectively. ($a \\ne b$) First, take notice of 1 and 2'. Consider the following village Z.\n\n* Village Z has three villagers 1'', 2'', 3''.\n\n* The same direction was given to village Z.\n\n* 1'' is a honest person, and considers $a$ as an idea of the name of the village Z.\n\n* 2'' is a honest person, and considers $b$ as an idea of the name of the village Z.\n\n* 3'' is a liar. 3'' sends a letter which 3 sent to 2 on the $i$th day to 2'' on the $i$th day. And 3'' sends a letter which 3 sent to 1 on the $i$th day to 1'' on the $i$th day.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "truncated"
        }
      ],
      "statement_images": [],
      "statement_latex": "12. If $0 \\le T \\le 668$, we will prove that there exists an instruction which fulfill the conditions. Give the following instruction to every villager.\n\nDefine today as 0th day. All the villagers must prepare a notebook and a memo pad.\n\nToday, each villager $p$ should write the idea of the village's name $m$ in the letters $[p$ proposed $m]$ and send these letters to every villager (including oneself). And at $i = 1, 2, \\dots, 2T + 2$th day, Perform all the followings in order.\n\n* If you receive the letter $[p_0$ proposed $m]$ from villager $p$ in the morning, send the letter $[i - 1$th day $p$ says $p_0$ proposed $m]$ to every villager.\n\n* Until then, if you have received the letter $[j$th day $p$ says $p_0$ proposed $m]$ ($j \\le i - 2$) from 2007 - 2T or more persons, send the letter $[j$th day $p$ says $p_0$ proposed $m]$ to every villager.\n\n* Until then, if you have received the letter $[j$th day $p$ says $p_0$ proposed $m] (j \\le i - 2)$ from 2007 - T or more persons, write [sure: $j$th day $p$ says $p_0$ proposed $m]$ to your memo pad.\n\n* About villager $p_0$ and idea $m$, If $i$ is even and distinct $\\frac{i}{2}$ villagers $p_0, p_2, \\dots, p_{i-2}$ exist and [sure: $j$th day $p_j$ says $p_0$ proposed $m]$ is written in your memo pad for all the even numbers that satisfy $0 \\le j < i$, then write $[p_0$'s idea seems to be $m]$ in your notebook and send the letter $[p_0$ proposed $m]$ to every villager.\n\nAnd at $2T + 2$th day, All the villagers must look into their notebook and look for all the pairs $(p, m)$ that satisfy the following condition.\n\nCondition: $[p$'s idea seems to be $m]$ is written in your notebook. And if $[p$'s idea seems to be $m]$ and $[p$'s idea seems to be $n]$ are both written in your notebook, then $m = n$.\n\nConsider $(p, m)$ pairs that satisfy this condition only. Count the kind of $p$ corresponding to each $m$. And if only one $m$ has the most kinds of $p$, then send a letter $[m]$ to God. Otherwise, send a letter [JMO] to God."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_7683c28bf05b",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "**Proof of (1):** Assume that some honest person wrote [sure: $j$ day $p$ says $p_0$ proposed $m$] to his memo pad. According to the instruction, he received the letter [$j$th day $\\dot{p}$ says $p_0$ proposed $m$] from 2007-T or more persons. Especially, from $2007-T > T$, there exists some honest person who sent the letter [$j$th day $p$ says $p_0$ proposed $m$]. Now define $q$ as the honest person who sent this content first. There are two possible reasons why $q$ sent this letter.\n\n(a) $q$ received the letter of this content from 2007 - $2T$ or more people.\n\n(b) $q$ received the letter of the content [$p_0$ proposed $m$] from $p$.\n\nBut in the case of (a), from $2007 - 2T > T$, a certain honest person sent a letter [$j$th day $p$ says $p_0$ proposed $m$] to $q$ earlier than $q$ sent the same letter. This is contrary to the definition of $q$. Therefore, there is the case (b) only, and lemma (1) is proved.\n\n**Proof of (2):** Assume that some honest person wrote [sure: $j$th day $p$ says $p_0$ proposed $m$] to his memo pad on the $k$th day. It means that $2007 - T$ or more villagers, therefore $2007 - 2T$ or more honest people sent a letter [$j$th day $p$ says $p_0$ proposed $m$] to him by the $k$th day. By the way, every honest person sent letters to every villager every day, so every villager receives the letter of this content from $2007 - 2T$ or more persons by the $k$th day, and so every honest person sent the letter of this content to every villager, and therefore every villager will receive the letter of this content from $2007 - T$ or more person by the $k+1$th day. Thus, every honest person wrote [sure: $j$th day $p$ says $p_0$ proposed $m$] in their memo pad by the $k+1$th day. Lemma (2) is proved.\n\n**Proof of (3):** Assume that some honest person wrote [$p_0$'s idea seems to be $m$] in his notebook. According to the instruction, [sure: 0th day $p_0$ says $p_0$ proposed $m$] was written in his memo pad. According to lemma (1), $p_0$ sent the letter [$p_0$ proposed $m$] on the 0th day. Next, assume that $p_0$ sent the letter [$p_0$ proposed $m$] to every villager. Then on the 1st day, every honest person, that means 2007-T or more honest people receive this letter, and send the letter [0th day $p_0$ says $p_0$ proposed $m$] to every villager. Then on the 2nd day, every honest person receives this letter, and writes [0th day $p_0$ says $p_0$ proposed $m$] to their memo pad, and then write [$p_0$'s idea seems to be $m$] to their notebook. Lemma (3) is proved.\n\n**Proof of (4):** Assume that the honest person who wrote [$p_0$'s idea seems to be $m$] in the notebook earliest is $q$, and $q$ wrote this on the $2i+2$th day. According to the instruction, there exist distinct villagers $p_0, p_2, \\dots, p_{2i}$ and [sure: $2j$th day $p_{2j}$] says $p_0$ proposed $m$] in $q$'s notebook. From $2i + 2 \\le 2T + 2$, Then $i \\le T$. So there exists a number $j$ that $p_{2j}$ is a honest person, or there doesn't exist such number $j$. In this case, $i < T$.\n\nIn the case of the former, if $p_{2j}$ is a honest person, according to lemma (1), $p_{2j}$ really sent the letter $[p_0$ proposed $m]$ on the $2j$th day, or $2j = 0$. But the former is contrary to the definition of $q$. So $j = 0$. And thus every honest person wrote $[p_0$'s idea seems to be $m]$ in their notebook on the 2nd day. (This fact is proved by the part of proof of lemma (3))\n\nIn the case of the latter, $q$ sent the letter $[p_0$ proposed $m]$ to every villager on the $2i + 2$th day. And from the same argument as (3), every honest person wrote [sure: $2i+2$th day $q$ says $p_0$ proposed $m$] in their notebook on the $2i+4$th day. By the way, the content [sure: $2j$th day $p_{2j}$ say $p_0$ proposed $m$]($0 \\le j \\le i$) in $q$'s notebook will be also written in every honest person's notebook (reference to lemma (2)). Every $p_{2j}$ isn't honest, so $q$ is different from every $p_{2j}$. Therefore, from these facts, every honest person wrote $[p_0$'s idea seems to be $m]$ in their notebook on the $2i+4$th day. Now $i < T$, then $2i + 4 \\le 2T + 2$. Lemma (4) is proved.\n\nAccording to the lemma (4), on the evening of the $2T+2$th day, the contents of every honest person's notebook are the same. So every honest person will send the same letter to God. Thus the first condition is satisfied. Next, according to the lemma (3), every honest person's idea is written in every honest person's memo pad. And for honest person $p$, at most one $m$ is written as $[p$'s idea seems to be $m]$. Therefore, if every honest person had the same idea of the village name $h$, $h$ gains the most votes. $(2007 - T > \\frac{2007}{2})$ Thus every honest person sends a letter $[m]$ to God. So the second condition is satisfied.\n\nNext, we will prove that if $T \\ge 669$, instructions which fulfill the conditions don't exist. At first, Prove the following lemma.\n\n**Lemma A:** In the problem, if the number of villagers is changed into 3, and put $T = 1$, instructions which fulfill the conditions don't exist.\n\n**Proof of Lemma A:** Assume that instructions which fulfill the conditions exist. Define three villagers as 1, 2 and 3. Assume that this instruction doesn't direct to send a letter to oneself. Consider the following situation X. There was another village in which three villagers 1', 2' and 3' live. And this village also had no name. And in this village, another God gave the same instruction as the same day (1, 2, 3 correspond to 1', 2', 3'). But because of a mistake of the post office, The letter from $i$ to $j$ always arrived as a letter from $i$'to$j'$, and the letter from $i'$ to $j'$ always arrived as a letter from $i$ to $j$($i, j = 1, 2, 3$) And $1, 2, 3, 1', 2', 3'$ are honest people, and consider $a, a, b, b, b, a$ as their ideas of the name of the village respectively. ($a \\ne b$) First, take notice of 1 and 2'. Consider the following village Z.\n\n* Village Z has three villagers 1'', 2'', 3''.\n\n* The same direction was given to village Z.\n\n* 1'' is a honest person, and considers $a$ as an idea of the name of the village Z.\n\n* 2'' is a honest person, and considers $b$ as an idea of the name of the village Z.\n\n* 3'' is a liar. 3'' sends a letter which 3 sent to 2 on the $i$th day to 2'' on the $i$th day. And 3'' sends a letter which 3 sent to 1 on the $i$th day to 1'' on the $i$th day.\n\nIn this situation, Actions of 1\", 2\" in Village Z is the same as actions of 1, 2' in Situation X. From the assumption that the instruction fulfills the conditions, 1\" and 2\" send the same idea x for the name of the village Z to God. x \\neq a or x \\neq b holds, and we can assume x \\neq a.\n\nNext, take notice of 1 and 3'. From the same reason, they send the same idea x for the name of the village Z to God. But they considered the same idea a at first, so the idea they send to God is a (from the second condition). This is a contradiction. So the lemma A is proved. \\u25a0\n\nAnd now assume that there exists an instruction K which fulfill the conditions if $T \\ge 669$. Define 2007 villagers as $A_1, A_2, \\dots, A_{669}, B_1, B_2, \\dots, B_{669}, C_1, C_2, \\dots, C_{669}$. Consider the following instruction J about the village which three persons $\\alpha, \\beta, \\gamma$ live in and $T = 1$.\n\nEach villager must prepare 669 dolls. Define the dolls of $\\alpha, \\beta, \\gamma$ as $a_1, a_2, \\dots, a_{669}, b_1, b_2, \\dots, b_{669}, c_1, c_2, \\dots, c_{669}$. $\\alpha$ should make each doll $a_j$ consider the same idea as $\\alpha$ thinks. And $\\alpha$ should make each doll $a_j$ do the same action as the action which $A_j$ does in the instruction K. If $a_j$ sends a letter $[x]$ to $A_i$ (or $B_i, C_i$), $\\alpha$ must send a letter $[A_j \\to A_i, x]$ to $\\alpha$ (or $\\beta, \\gamma$). And if $\\alpha$ receives the letter of the following form, $\\alpha$ must give this letter to $a_j$ (as the letter from $A_i, B_i, C_i$. And the content of this letter is $[y]$). And if $\\alpha$ received a letter in other forms, $\\alpha$ must ignore it.\n\n* $[A_i \\to A_j, y]$ from $\\alpha$\n\n* $[B_i \\to A_j, y]$ from $\\beta$\n\n* $[C_i \\to A_j, y]$ from $\\gamma$\n\nAnd if every $a_i$ ($i = 1, 2, \\dots, 669$) sent the same letter $[z]$ to God, $\\alpha$ must send the letter $[z]$ to God. $\\beta, \\gamma$ must act the same way. We will prove that the instruction J fulfills the conditions. Assume that only $\\alpha$ is a liar. In the case of $A_1, A_2, \\dots, A_{669}$ are liars and The others are honest people, $B_1, B_2, \\dots, B_{669}, C_1, C_2, \\dots, C_{669}$ will send the same idea to God, So $\\beta, \\gamma$ will send the same idea. And the instruction J also fulfills the second condition. We can prove other cases by the same way. But this is contrary to the Lemma A. So it is proved that if $T \\ge 669$, instructions which fulfill the conditions don't exist.\n\nThe answer is 668",
          "pages": [
            "P0",
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Now let us prove that this instruction satisfies the problem's condition. We will prove the following. Notice that $2007 > 3T$.\n\n(1) If some honest person wrote [sure: $j$th day $p$ says $p_0$ proposed $m$] in his memo pad, villager $p$ really sent the letter [$p_0$ proposal $m$] on the $j$th day.\n\n(2) If some honest person wrote [sure: $j$ day $p$ says $p_0$ proposed $m$] in his memo pad on the $k$th day, every honest person wrote the same content in their memo pads by the $k+1$th day.\n\n(3) Now assume that $p_0$ is a honest person. If some honest person wrote [$p_0$'s idea seems to be $m$] in his notebook, $p_0$ really proposed $m$. And if $p_0$ proposed $m$, every honest person would write [$p_0$'s idea seems to be $m$] in their notebook by the $2T+2$th day.\n\n(4) If some honest person wrote [$p$'s idea seems to be $m$] in his notebook, every honest person would write the same content in their memo pads by the $2T+2$th day."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_bcb33c40b230",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Let the number called by a player in the $m$th turn be $N_m$. Then sequence $(N_1, \\dots, N_l)$ is called \"history up to the $l$th turn\". We call $j$ which satisfies $j \\neq N_1, \\dots, N_l$ \"free in the $l+1$th turn\". We are going to prove a proposition that if $n \\equiv 0, 4, 5 \\pmod 6$, $P$ can absolutely win and that if $n \\equiv 1, 2, 3 \\pmod 6$, $Q$ can absolutely win.\n\n(i) for $0 \\le n \\le 5$\n\nIf $n = 0, 1, 2$, the proposition is surely true.\n\nAssume that $n = 3$. If the $Q$ calls 1 or 2 in the second turn, the sum of the numbers that $P$ have said is 5 or 4. Hence, $Q$ can absolutely win.\n\nAssume that $n = 4$. If $P$ calls 2 in the first turn, and calls 1 or 4 in the third turn, the sum of the number that $Q$ have said is 3 or 6. Hence, $P$ can absolutely win.\n\nFor $n = 5$, we call (1, 4) and (2, 5) a pair. If $P$ calls 3 in the first turn, and after the turn, $P$ calls the other number of the pair including the number which $Q$ called in the last turn, then $P$ can absolutely win.\n\nWith that, the proposition is proved for $0 \\le n \\le 5$.\n\n(ii) We are going to prove that if a proposition holds for $n = k$, it also holds for $n = k + 6$.\n\nFor $n = k$, let the player who has the winning strategy be $A$, and the other $B$. Let $M = \\{k+1, k+2, k+3, k+4, k+5, k+6\\}$, and presume the sets of the numbers $(k+1, k+4), (k+2, k+5)$, and $(k+3, k+6)$ to be pairs. Let the $l$th turn be $A$'s turn.\n\n(1) In the $l$th turn, when there are some free numbers except the elements of $M$, it is only necessary for $A$ to act according to the following tactics.\n\n(a) When $A$ is $P$ and $l=1$, call the number $j$ which $A$ should call according to the winning strategy for $n=k$.\n\n(b) When $B$ called $i \\in M$ in $l-1$th turn, call in the $l$th turn another number $j$ of the pair including $i$.\n\n(c) When $B$ called $i \\notin M$ in the $l-1$th turn, let $c' = (N'_1, \\dots, N'_{l-1})$, where elements of $cc''$ are the elements of $c$ excluding elements of $M$, and the order of the elements of $c'$ is similar to $c$. Then $c'$ is the history for $n=k$. Because of the tactics(1)(b), if $B$ called an element of $M$ in $m-1$th turn($m \\neq l$), $A$ also called an element of $M$ in the $m$th turn. With that, $l \\equiv l' \\pmod 2$. Hence, according to the winning strategy for $n=k$, let the number $j$ be the number which $A$ should call in $l'$th turn when given a history $c'$, and call the number $j$ in the $l$th turn.\n\n(2) In the $l$th turn, if all the \"free\" numbers are included in $M$, $A$ should act according to the following tactics.\n\n(a) When $B$ called $i \\in M$ in the $l-1$th turn is included in $M$, $j \\in M$ which is the pair of $i$ is free in the $l$th turn (because of (1)(b)). Then call $j$ in the $l$th turn. Until the game ends, call $j' \\in M$ which is the pair of the $i' \\in M$ called by $B$ in the last turn.\n\n(b) When the number called by $B$ in the $l-1$th turn is not included in $M$, if $i \\in M$ is free in $l$th turn, the pair $j$ is also free. Then call any element $j_0 \\in M$, and act in the $l$'th turn according to the following tactics ($l' \\ge l+1$).\n\nLet the number which $B$ called in $l'-1$th turn be $i'$, and the pair $j'$. If $j'$ is free in $l'$th turn, call $j'$ in $l'$th turn. If there is no free number in the $l'$th turn, then the game is over. Otherwise, call any element $i'' \\in M$ in the $l'$th turn.\n\nIf $A$ acts according to the tactics above, two following propositions hold.\n\n* When the game is over, the sum of the numbers $j(1 \\le j \\le k)$ called by $A$ is the same as one of the sums that appear when $A$ wins the game in the case of $n=k$.\n\n* When the game is over, each player calls only one number of the pairs.\n\nConsequently, when the game is over, the sum of the numbers which were called by $A$ is equivalent to one of the sums that appear when $A$ wins the game in the case of $n=k$ modulo 3. So $A$ wins. With that, the mathematical induction is completed.\n\nHence, it can be said that $P$ has a winning strategy if and only if $n \\equiv 0, 4, 5 \\pmod 6$",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "1. Let $n$ be a positive integer. Two people P, Q play a game in which they call a integer $m$ ($1 \\le m \\le n$) alternately. P calls the first number. They cannot call the numbers which is already called by himself or by his opponent. The game is over when neither can call numbers. If the sum of the numbers that A have called is divisible by 3, P wins, otherwise Q wins. Find all $n$ which satisfy the condition below.\n\nCondition: P can win the game whatever Q does."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_c272186d8687",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Substituting $x=y=t$ ($t \\ge 0$) into the two inequalities, we get $4f(t) \\le f(2t)$ and $4f(t) \\ge f(2t)$. So we get $f(2t) = 4f(t)$ for $t \\ge 0$. Applying the equality $m$ times, it follows that $f(2^m t) = 2^m f(t)$.\n\nNow, let $g(x) = \\frac{f(x)}{x}$. We are going to prove that $g(nt) = ng(t)$ for any positive integer $n$ and any positive real number $t$. When $n = 2^m$ ($m$: positive integer), the\n\nproposition is already proved. Applying the inequality $g(x) + g(y) \\ge g(x + y)$, it follows that for positive integers $n$ and positive real numbers $t$\n\n$$\ng(nt) \\le g(t) + \\cdots + g(t) = ng(t). \\underbrace{\\qquad}_{n}\n$$\n\nSo if we chose a positive integer $m$ which $2^m > n$ holds, it follows that\n\n$$\ng(2^m t) \\le g(nt) + g((2^m - n)t) \\le ng(t) + (2^m - n)g(t) = 2^m g(t)\n$$\n\nOn the other hand, we got $g(2^m t) = 2^m g(t)$, so it follows that $g(nt)+g((2^m-n)g(t)) \\le ng(t) + (2^m - n)g(t)$. Hence, we get $g(nt) = ng(t)$.\n\nNext, we are going to prove that $g$ is an improper monotone decreasing function. For positive real number $t$, $f(t) + f(2t) \\le \\frac{f(t+2t)}{2}$ holds. Since $f(t) = \\operatorname{tg}(t)$, $f(2t) = 2\\operatorname{tg}(2t) = 4\\operatorname{tg}(t)$, $f(3t) = 3\\operatorname{tg}(3t) = 9\\operatorname{tg}(t)$, the inequality implies $5\\operatorname{tg}(t) \\le \\frac{9}{2}\\operatorname{tg}(t)$, so we get $g(t) \\le 0$ for positive real number $t$. Hence, for $0 < x \\le y$, $g(x) \\ge g(x) + g(y - x) \\ge g(y)$, so $g$ is an improper monotone decreasing function.\n\nNow, let $g(1) = a \\le 0$. We are going to prove that $g(t) = at$ for positive real number $t$. When we assume that $g(t) < at$ for positive real number $t$, there exists a rational number $\\frac{p}{q}$ ($p,q$ are positive integers) which satisfies $\\frac{p}{q} > t$ and $g(t) < \\frac{pa}{q}$.\n\nOn the other hand, $g(\\frac{p}{q}) = \\frac{1}{q}g(p) = \\frac{p}{q}g(1) = \\frac{pa}{q}$ shows that $g(t) < g(\\frac{p}{q})$ and $\\frac{p}{q} > t$.\n\nHowever, this conflicts with the fact that $g$ is an improper monotone increasing function. When we assume that $g(t) > at$, we also get contradiction. With that, we get $g(t) = at$ for positive real number $t$.\n\nHence, $f(x) = xg(x) = ax^2$ ($a \\le 0$). Besides, $f(x)+f(y) - \\frac{f(x+y)}{2} = \\frac{a}{2}(x-y)^2 \\le 0$, $\\frac{f(x)}{x} + \\frac{f(y)}{y} - \\frac{f(x+y)}{x+y} = 0$ hold for such $f$. With that, such $f$ satisfies the conditions in this problem's statement.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "2. Find all functions $f$, which is defined on positive real numbers and taking real numbers such that\n\n$$\nf(x) + f(y) \\leq \\frac{f(x + y)}{2}, \\quad \\frac{f(x)}{x} + \\frac{f(y)}{y} \\geq \\frac{f(x + y)}{x + y}\n$$\n\nfor all positive real numbers $x$ and $y$."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_20976d46af9d",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Let $M_A, M_B, M_C$ be the midpoint of the arcs BC, CA, AB, not containing A, B, C respectively, and $l_A, l_B, l_C$ be the tangent of $\\Gamma$ at $M_A, M_B, M_C$. Then, note that $l_A \\parallel BC, l_B \\parallel CA, l_C \\parallel AB$.\n\nNow, let D be the common point of lines $l_B$ and $l_C$, similarly E be the common point of lines $l_C$ and $l_A$, F be the common point of lines $l_A$ and $l_B$.\n\nSince $\\Gamma_A$ is tangent to $\\Gamma$ at P, there exists a homothety $T$ with center P which satisfies $T(\\Gamma_A) = \\Gamma$. Now, let $T$ transform AB into line m.\n\nThen, it follows that $m \\parallel AB$ and that $m$ and $P$ are in the opposite sides of AB. Since AB is tangent to $\\Gamma_A$, $m$ is tangent to $\\Gamma$. Hence, we get $m = l_C$.\n\nSimilarly, we can prove that $T$ transforms AB into $l_B$. Since A is the intersection point of lines AC and AB, $T(A)$ is the common point of lines $l_B$ and $l_C$. Hence, we get $T(A) = D$. Since $T$ is a homothety with center P, three points P, A, D are on the same line.\n\nSimilarly, three points Q, B, E are on the same line, and three points R, C, F are on the same line. So, we get that AB is AD, BQ is BE, CR is CF.\n\nOn the other hand, triangle ABC and triangle DEF are similar and $AB \\parallel DE, BC \\parallel EF, CA \\parallel FD$. So there exists a homothety $S$ where $S(A) = D, S(B) = E, S(C) = F$.\n\nLet the center of homothety $S$ be G. Then the lines AP, BQ, CR are concurrent at G.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "3. Let $\\Gamma$ be the circumcircle of triangle $ABC$. Let $\\Gamma_A$ be the circle which is tangent to $AB$, $AC$ and tangent to $\\Gamma$ internally, $\\Gamma_B$ be the circle which is tangent to $AB$, $BC$ and tangent to $\\Gamma$ internally, and $\\Gamma_C$ be the circle which is tangent to $AC$, $BC$ and tangent to $\\Gamma$ internally. Denote $\\Gamma_A, \\Gamma_B, \\Gamma_C$ are tangent to $\\Gamma$ at $P, Q, R$. Prove that the lines $AP, BQ, CR$ are concurrent."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_96f96f77ac9c",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "proposition is already proved. Applying the inequality $g(x) + g(y) \\ge g(x + y)$, it follows that for positive integers $n$ and positive real numbers $t$\n\n$$\ng(nt) \\le g(t) + \\cdots + g(t) = ng(t). \\underbrace{\\qquad}_{n}\n$$\n\nSo if we chose a positive integer $m$ which $2^m > n$ holds, it follows that\n\n$$\ng(2^m t) \\le g(nt) + g((2^m - n)t) \\le ng(t) + (2^m - n)g(t) = 2^m g(t)\n$$\n\nOn the other hand, we got $g(2^m t) = 2^m g(t)$, so it follows that $g(nt)+g((2^m-n)g(t)) \\le ng(t) + (2^m - n)g(t)$. Hence, we get $g(nt) = ng(t)$.\n\nNext, we are going to prove that $g$ is an improper monotone decreasing function. For positive real number $t$, $f(t) + f(2t) \\le \\frac{f(t+2t)}{2}$ holds. Since $f(t) = \\operatorname{tg}(t)$, $f(2t) = 2\\operatorname{tg}(2t) = 4\\operatorname{tg}(t)$, $f(3t) = 3\\operatorname{tg}(3t) = 9\\operatorname{tg}(t)$, the inequality implies $5\\operatorname{tg}(t) \\le \\frac{9}{2}\\operatorname{tg}(t)$, so we get $g(t) \\le 0$ for positive real number $t$. Hence, for $0 < x \\le y$, $g(x) \\ge g(x) + g(y - x) \\ge g(y)$, so $g$ is an improper monotone decreasing function.\n\nNow, let $g(1) = a \\le 0$. We are going to prove that $g(t) = at$ for positive real number $t$. When we assume that $g(t) < at$ for positive real number $t$, there exists a rational number $\\frac{p}{q}$ ($p,q$ are positive integers) which satisfies $\\frac{p}{q} > t$ and $g(t) < \\frac{pa}{q}$.\n\nOn the other hand, $g(\\frac{p}{q}) = \\frac{1}{q}g(p) = \\frac{p}{q}g(1) = \\frac{pa}{q}$ shows that $g(t) < g(\\frac{p}{q})$ and $\\frac{p}{q} > t$.\n\nHowever, this conflicts with the fact that $g$ is an improper monotone increasing function. When we assume that $g(t) > at$, we also get contradiction. With that, we get $g(t) = at$ for positive real number $t$.\n\nHence, $f(x) = xg(x) = ax^2$ ($a \\le 0$). Besides, $f(x)+f(y) - \\frac{f(x+y)}{2} = \\frac{a}{2}(x-y)^2 \\le 0$, $\\frac{f(x)}{x} + \\frac{f(y)}{y} - \\frac{f(x+y)}{x+y} = 0$ hold for such $f$. With that, such $f$ satisfies the conditions in this problem's statement.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "2. Substituting $x=y=t$ ($t \\ge 0$) into the two inequalities, we get $4f(t) \\le f(2t)$ and $4f(t) \\ge f(2t)$. So we get $f(2t) = 4f(t)$ for $t \\ge 0$. Applying the equality $m$ times, it follows that $f(2^m t) = 2^m f(t)$.\n\nNow, let $g(x) = \\frac{f(x)}{x}$. We are going to prove that $g(nt) = ng(t)$ for any positive integer $n$ and any positive real number $t$. When $n = 2^m$ ($m$: positive integer), the"
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_ecd3d6ae17e4",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Hence, $\\angle ABC > \\frac{\\pi}{2}$. Thus, at least one of $\\angle ABD, \\angle CBD$ is wider than $\\frac{\\pi}{4}$. Without loss of generality, we assume that $\\angle ABD > \\frac{\\pi}{4}$. Let $G_A$ be the foot of the perpendicular from A to BD, $G_D$ be the foot of the perpendicular from D to AB, $G_B$ be the foot of the perpendicular from B to DA. If $BG_B \\le \\sqrt{2}$, all four points can be covered by a band with width $\\sqrt{2}$. This conflicts with the assumption, so it follows that $BG_B > \\sqrt{2}$. Similarly we get $AH_A > \\sqrt{2}$. $AB \\ge AH_A, BD \\ge BG_B$, so it follows that $AB, BD > \\sqrt{2}$.\n\nBy the lemma, $\\min\\{AG_A, BG_B, DG_D\\} \\le 1$. If $AG_A \\le 1$, since $AB > \\sqrt{2}$, and we get $\\sin \\angle ABD < \\frac{1}{\\sqrt{2}}$. Noting that $\\angle ABD > \\frac{\\pi}{4}$, we get $\\angle ABD > \\frac{3\\pi}{4}$. Then, $BG_B < AG_A \\le 1$. If $DG_D \\le 1$, since $BD > \\sqrt{2}$, we get $\\sin \\angle ABD < \\frac{1}{\\sqrt{2}}$. So it follows that $\\angle ABD > \\frac{3\\pi}{4}$. Then $BG_B < DG_D \\le 1$. With that we get $BG_B \\le 1$ in each case. However, when $BG_B \\le 1$, all four points can be covered by a band with width 1. This conflicts with our assumption. With that, all four points A,B,C,D can be covered by a band with width $\\sqrt{2}$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/Japan_2007_Booklet_p14_data_a5d0c17c74.png",
          "title": ""
        },
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/Japan_2007_Booklet_p14_data_272e4c327f.png",
          "title": ""
        }
      ],
      "statement_latex": "When a group X consisting of points in the plane is included in band B, we say that band B covers X. First, we prove the following lemma.\n\n\\textbf{Lemma.} For triangle XYZ, let $H_X$ be the foot of the perpendicular from X to YZ, $H_Y$ be the foot of the perpendicular from Y to ZX, and $H_Z$ be the foot of the perpendicular from Z to XY. When a band with width $w$ covers the triangle XYZ, $\\min\\{XH_X, YH_Y, ZH_Z\\} \\le w$.\n\n\\textbf{Proof of Lemma.} Let B be a band with width $w$ covering triangle XYZ. Then, there exists a line $l$ and a real number $d$ which the following condition holds.\n\n$$\nB = \\{P \\mid \\text{The distance between } P \\text{ and } l \\text{ is less than or equal to } \\frac{d}{2}\\}\n$$\n\nLet $m_X, m_Y, m_Z$ be the lines perpendicular to $l$ which pass through X, Y, Z. Then, we can say that at least one of the following proposition holds.\n\n* The common point of $m_X$ and line YZ is covered by B.\n\n* The common point of $m_Y$ and line ZX is covered by B.\n\n* The common point of $m_Z$ and line XY is covered by B.\n\nWithout loss of generality, assume that B covers the point W which is the common point of $m_Y$ and XZ. Since W is a point on line XZ, $YH_Y \\le YW \\le w$. On the other hand, $Y, W \\in B$, so we get $YW \\le w$. With that, it can be said that $YH_Y \\le YW \\le w$.\n\n% IMAGE: ![](images/Japan_2007_Booklet_p14_data_a5d0c17c74.png)\n\nIf the convex closure of points A, B, C, D is a triangle, the problem's statement is trivial. So we can assume that A, B, C, D make a convex quadrangle ABCD. We are going to show a contradiction, assuming that for any three points among A, B, C, D there exists a band with width 1 containing them, and that ABCD cannot be covered by a band with width $\\sqrt{2}$.\n\nWithout loss of generality, assume that the area of the triangle ABC is the largest in all triangles constituted by three points among A, B, C, D. (Then note that D locates in shadow area.) Let $H_A$ be the foot of the perpendicular from A to BC, $H_B$ be the foot of the perpendicular from B to CA, and $H_C$ be the foot of the perpendicular from C to AB. By the lemma, $\\min\\{AH_A, BH_B, CH_C\\} \\le 1$.\n\n% IMAGE: ![](images/Japan_2007_Booklet_p14_data_272e4c327f.png)\n\nIf $CH_C \\le 1$ or $AH_A \\le 1$, all four points can be covered by a band with width 1, but this conflicts with our assumption. So we get $BH_B \\le 1$.\n\nIf $AB \\ge \\frac{1}{\\sqrt{2}}AC$, it follows that $CH_C \\le \\sqrt{2}BH_B \\le \\sqrt{2}$, so all four points can be covered with a band with width $\\sqrt{2}$. This conflicts with the assumption, so we get $AB < \\frac{1}{\\sqrt{2}}AC$. Similarly, it follows that $BC < \\frac{1}{\\sqrt{2}}AC$.\n\n$$\n\\text{Since } AB, BC < \\frac{1}{\\sqrt{2}}AC,\n$$\n\n$$\n\\cos \\angle ABC = \\frac{AB^2 + BC^2 - AC^2}{2AB \\cdot AC} < 0.\n$$"
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_a1254292827d",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "\\[\n\\begin{aligned}\n& 1 - \\left( \\frac{7}{12} + \\frac{5}{12} \\times \\frac{7}{11} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{7}{10} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9} \\right) \\\\\n&= \\frac{5}{12} - \\left( \\frac{5}{12} \\times \\frac{7}{11} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{7}{10} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9} \\right) \\\\\n&= \\frac{5}{12} \\times \\frac{4}{11} - \\left( \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{7}{10} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9} \\right) \\\\\n&= \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} - \\left( \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9} \\right) \\\\\n&= \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{2}{9} \\\\\n&= \\frac{1}{99}.\n\\end{aligned}\n\\]\n\nSo the answer is $\\frac{98}{99}$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Find the value of\n\n\\[\n\\frac{7}{12} + \\frac{5}{12} \\times \\frac{7}{11} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{7}{10} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9}\n\\]"
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_252c613ce122",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Define $P$ as the intersection point of $AC$ and $BD$. Then from the Pythagorean theorem, $AB^2 = AP^2 + BP^2$, $BC^2 = BP^2 + CP^2$, $CD^2 = CP^2 + DP^2$, $DA^2 = DP^2 + AP^2$. Then $DA^2 = AB^2 + CD^2 - BC^2 = 5^2 + 6^2 - 7^2 = 12$. So $DA = 2\\sqrt{3}$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "A quadrilateral ABCD that satisfies $AB = 5$, $BC = 7$, $CD = 6$ is given. And $AC$ and $BD$ are perpendicular to each other. Find the length of $DA$."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_e7313b2a7102",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Now put $p = n - m, q = n$. Finding all positive integer pairs $(m, n)$ is equivalent to finding all integer pairs $(p, q)$. And then condition (1) and (3) is equivalent to the conditions that $1 \\le q \\le 20$, $\\frac{1}{4} < \\frac{p}{q} < \\frac{2}{7}$. And condition (2) is equivalent to the condition that $p$ and $q$ are relatively prime. And $\\frac{1}{4} < \\frac{p}{q} < \\frac{2}{7}$ is equivalent to $\\frac{7}{2}p < q < 4p$. So,\n\n* If $p \\le 0$, $q$ doesn't exist because of $\\frac{p}{q} \\le 0$\n\n* If $p = 1$, then $\\frac{2}{7} < q < 4$, so $q$ doesn't exist.\n\n* If $p = 2$, then $7 < q < 8$, so $q$ doesn't exist.\n\n* If $p = 3$, then $\\frac{21}{2} < q < 12$, so $q = 11$.\n\n* If $p = 4$, then $14 < q < 16$, so $q = 15$.\n\n* If $p = 5$, then $\\frac{35}{2} < q < 20$, so $q = 18, 19$.\n\n* If $p \\ge 6$, $q$ doesn't exist because $q > \\frac{7}{2}p \\ge 21$.\n\nThen all integer pairs $(p, q)$ are (3, 11), (4, 15), (5, 18), (5, 19). So, all positive integer pairs $(m, n)$ are (13, 18), (8, 11), (11, 15), (14, 19).",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Find all positive integer pairs $(m,n)$ that satisfy the following conditions.\n\n\\[\n(1) m, n \\leq 20\n\\]\n\n(2) $m$ and $n$ are relatively prime.\n\n\\[\n(3) \\frac{5}{7} < \\frac{m}{n} < \\frac{3}{4}\n\\]"
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_f88325664e6b",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "$f(x, y, z) = k(x + y)(y + z)(z + x) - x - y - z$, ($k \\neq 0$) satisfies the conditions (in fact, only this form is a solution) Put $g(x, y, z) = f(x, y, z) + x + y + z$. Then the conditions are equivalent to the condition that $g(x, y, z)$ is divisible by $x + y, y + z, z + x$. And The condition that the degree of $f(x, y, z)$ is 3 and $f$ is with real coefficients are equivalent to the condition that the degree of $g(x, y, z)$ is 3 and $g$ is with real coefficients. Now $g(x, y, z) = k(x + y)(y + z)(z + x)$, ($k \\neq 0$) satisfies all the conditions. Then $f(x, y, z) = k(x + y)(y + z)(z + x) - x - y - z$, ($k \\neq 0$) satisfies all the conditions too.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Find one of the polynomials $f(x, y, z)$ whose degree is 3, with real coefficients, that satisfy the following conditions.\n\n• $f(x, y, z) + x$ is divisible by $y+z$\n\n• $f(x, y, z) + y$ is divisible by $z + x$\n\n• $f(x, y, z) + z$ is divisible by $x + y$\n\nA polynomial $P(x, y, z)$ is divisible by a polynomial $Q(x, y, z)$ means that there\nexists a polynomial $R(x, y, z)$ that satisfies $P(x, y, z) = Q(x, y, z)R(x, y, z)$."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_477ea4512743",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "table 1",
              "pages": [
                "P2"
              ],
              "path": "<table><tr><td>a<sub>1,1</sub></td><td>a<sub>1,2</sub></td><td>a<sub>1,3</sub></td><td>a<sub>1,4</sub></td><td>A<sub>1</sub></td></tr><tr><td>a<sub>2,1</sub></td><td>a<sub>2,2</sub></td><td>a<sub>2,3</sub></td><td>a<sub>2,4</sub></td><td>A<sub>2</sub></td></tr><tr><td>a<sub>3,1</sub></td><td>a<sub>3,2</sub></td><td>a<sub>3,3</sub></td><td>a<sub>3,4</sub></td><td>A<sub>3</sub></td></tr><tr><td>a<sub>4,1</sub></td><td>a<sub>4,2</sub></td><td>a<sub>4,3</sub></td><td>a<sub>4,4</sub></td><td>A<sub>4</sub></td></tr><tr><td>B<sub>1</sub></td><td>B<sub>2</sub></td><td>B<sub>3</sub></td><td>B<sub>4</sub></td><td></td></tr></table>",
              "title": ""
            },
            {
              "alt": "table 2",
              "pages": [
                "P2"
              ],
              "path": "<table><tr><td>1</td><td>2</td><td>5</td><td>11</td><td>19</td></tr><tr><td>3</td><td>6</td><td>7</td><td>12</td><td>28</td></tr><tr><td>4</td><td>8</td><td>9</td><td>14</td><td>35</td></tr><tr><td>10</td><td>13</td><td>15</td><td>16</td><td>54</td></tr><tr><td>18</td><td>29</td><td>36</td><td>53</td><td></td></tr></table>",
              "title": ""
            }
          ],
          "label": null,
          "latex": "Define the numbers written to each grid as shown in the table 1. I can assume that $A_1$ is the minimum and $A_4$ is the maximum in $A_1, A_2, A_3, A_4$, and that $B_1$ is the minimum and $B_4$ is the maximum in $B_1, B_2, B_3, B_4$, by rearranging rows and columns appropriately. Now $m \\le A_4 - A_1, m \\le B_4 - B_1$, so\n\n\\[\n\\begin{aligned}\nm &\\le \\frac{(A_4 - A_1) + (B_4 - B_1)}{2} \\\\\n&= \\frac{1}{2}(a_{4,4} - a_{1,1}) + \\frac{1}{2}(a_{4,4} + a_{4,2} + a_{4,3} + a_{2,4} + a_{3,4} - a_{1,1} - a_{1,2} - a_{1,3} - a_{2,1} - a_{3,1}) \\\\\n&\\le \\frac{1}{2}(16 - 1) + \\frac{1}{2}(16 + 15 + 14 + 13 + 12 - 1 - 2 - 3 - 4 - 5) \\\\\n&= 35 \\text{ \\textbackslash }\n\\end{aligned}\n\\]\n\nAnd there exists a way of writing if $m = 35$(table 2). So the maximum $m$ is 35. This is table 1.\n\n% IMAGE: <table><tr><td>a<sub>1,1</sub></td><td>a<sub>1,2</sub></td><td>a<sub>1,3</sub></td><td>a<sub>1,4</sub></td><td>A<sub>1</sub></td></tr><tr><td>a<sub>2,1</sub></td><td>a<sub>2,2</sub></td><td>a<sub>2,3</sub></td><td>a<sub>2,4</sub></td><td>A<sub>2</sub></td></tr><tr><td>a<sub>3,1</sub></td><td>a<sub>3,2</sub></td><td>a<sub>3,3</sub></td><td>a<sub>3,4</sub></td><td>A<sub>3</sub></td></tr><tr><td>a<sub>4,1</sub></td><td>a<sub>4,2</sub></td><td>a<sub>4,3</sub></td><td>a<sub>4,4</sub></td><td>A<sub>4</sub></td></tr><tr><td>B<sub>1</sub></td><td>B<sub>2</sub></td><td>B<sub>3</sub></td><td>B<sub>4</sub></td><td></td></tr></table>\n\nThis is table 2.\n\n% IMAGE: <table><tr><td>1</td><td>2</td><td>5</td><td>11</td><td>19</td></tr><tr><td>3</td><td>6</td><td>7</td><td>12</td><td>28</td></tr><tr><td>4</td><td>8</td><td>9</td><td>14</td><td>35</td></tr><tr><td>10</td><td>13</td><td>15</td><td>16</td><td>54</td></tr><tr><td>18</td><td>29</td><td>36</td><td>53</td><td></td></tr></table>",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "There is a grid of $5 \\times 5$. And write the integers $1,2,...,16$ in all the grids (each number can be written only once) in the upper left grid of $4 \\times 4$(■). About the 4 rows, write the sum of four numbers that are written in each row at the right end of each row. Similarly, about the 4 columns, write the sum of four numbers that are written in each column at the lower end of each column. And nothing is written in the lower right grid. Find the maximum integer $m$ which satisfies the following condition.\n\nConditions: About step (■), there exists a way of writing the numbers such that you can choose two numbers $a, b$ which $|a - b| \\geq m$ hold from the right end column and also from the lower end row."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_7e809b70cada",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Let $|PQR|$ denote the area of triangle PQR. $AD, BE, CF$ cross at a point $G$ and $AG: GD = BG: GE = CG: GF = 2:1$. Take a point $C'$ on line $GC$ so that $G$ is the midpoint of $CC'$. From $C'G = GC$ and $CG: GF = 2:1$, it follows that $C'F = GF$. Since $AF = BF, C'F = GF$ and $\\angle AFC' = \\angle BFG$, triangles $AFC'$ and $BFG$ are congruent and so $AC' = BG$. Now we have $AC' = BG = \\frac{8}{3}$, $AG = 2$, $GC' = GC = \\frac{10}{3}$, so $AGC'$ is a right triangle with hypotenuse $GC'$. Therefore $|AGC'| = \\frac{8}{3}$. By $C'G = GC$ we get $|AGC| = |AGC'| = \\frac{8}{3}$, and by $BG:GE = 2:1$ we get $|ABC| = 3|AGC| = 8$.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "ABC is a triangle and $D, E, F$ are midpoints of $BC, CA, AB$ respectively. If $AD = 3$, $BE = 4$ and $CF = 5$, what is the area of $ABC$?"
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_f370c6aed3d7",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Take points $E$ and $F$ so that $ABEC$ and $ACFD$ are parallelograms. Then $AB = CE$, $DA = FC$, and by the triangle inequality we get $BC + CF \\ge BF, DC + DE \\ge DE$. Therefore $AB + BC + CD + DA \\ge BF + DE$.\n\nAnd if we consider a case $AC$ and $BD$ crosses at their midpoints, we get $BC + CF = BF, DC + CE = DE$ and $AB + BC + CD + DA = BF + DE$. So the minimum value is $BF + DE$.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Two diagonals $AC$ and $BD$ of quadrilateral $ABCD$ intersect at a point $P$ in the quadrilateral. If we have $AC = 2$, $BD = 3$ and $\\angle APB = 60^\\circ$, what is the smallest possible value of $AB + BC + CD + DA$?"
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_8d1a0f13b321",
      "language": "en",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "\\begin{aligned}\n& 1 - \\left( \\frac{7}{12} + \\frac{5}{12} \\times \\frac{7}{11} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{7}{10} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9} \\right) \\\\\n&= \\frac{5}{12} - \\left( \\frac{5}{12} \\times \\frac{7}{11} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{7}{10} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9} \\right) \\\\\n&= \\frac{5}{12} \\times \\frac{4}{11} - \\left( \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{7}{10} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9} \\right) \\\\\n&= \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} - \\left( \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9} \\right) \\\\\n&= \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{2}{9} \\\\\n&= \\frac{1}{99}.\n\\end{aligned}\n\nSo the answer is $\\frac{98}{99}$.",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "1. Compute $1 - \\left( \\frac{7}{12} + \\frac{5}{12} \\times \\frac{7}{11} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{7}{10} + \\frac{5}{12} \\times \\frac{4}{11} \\times \\frac{3}{10} \\times \\frac{7}{9} \\right)$."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_4e14609051c7",
      "language": "en",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Define $P$ as the intersection point of AC and BD. Then from the Pythagorean theorem, $AB^2 = AP^2 + BP^2$, $BC^2 = BP^2 + CP^2$, $CD^2 = CP^2 + DP^2$, $DA^2 = DP^2 + AP^2$. Then $DA^2 = AB^2 + CD^2 - BC^2 = 5^2 + 6^2 - 7^2 = 12$. So $DA = 2\\sqrt{3}$.",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "2. Let $P$ be the intersection point of $AC$ and $BD$ in a quadrilateral $ABCD$ with $AB = 5$, $BC = 7$, $CD = 6$. Find $DA$."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_98785e2de864",
      "language": "en",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Now put $p = n - m, q = n$. Finding all positive integer pairs $(m, n)$ is equivalent to finding all integer pairs $(p, q)$. And then condition (1) and (3) is equivalent to the conditions that $1 \\le q \\le 20$, $\\frac{1}{4} < \\frac{p}{q} < \\frac{2}{7}$. And condition (2) is equivalent to the condition that $p$ and $q$ are relatively prime. And $\\frac{1}{4} < \\frac{p}{q} < \\frac{2}{7}$ is equivalent to $\\frac{7}{2}p < q < 4p$. So,\n\n* If $p \\le 0$, $q$ doesn't exist because of $\\frac{p}{q} \\le 0$\n\n* If $p = 1$, then $\\frac{2}{7} < q < 4$, so $q$ doesn't exist.\n\n* If $p = 2$, then $7 < q < 8$, so $q$ doesn't exist.\n\n* If $p = 3$, then $\\frac{21}{2} < q < 12$, so $q = 11$.\n\n* If $p = 4$, then $14 < q < 16$, so $q = 15$.\n\n* If $p = 5$, then $\\frac{35}{2} < q < 20$, so $q = 18, 19$.\n\n* If $p \\ge 6$, $q$ doesn't exist because $q > \\frac{7}{2}p \\ge 21$.\n\nThen all integer pairs $(p, q)$ are (3, 11), (4, 15), (5, 18), (5, 19). So, all positive integer pairs $(m, n)$ are (13, 18), (8, 11), (11, 15), (14, 19).",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "3. Find all positive integer pairs $(m, n)$ such that $1 \\le n \\le 20$, $\\frac{1}{4} < \\frac{n-m}{n} < \\frac{2}{7}$, and $n-m$ and $n$ are relatively prime."
    },
    {
      "_provenance": {
        "folder": "JPN_2007a",
        "pages_map": {
          "P0": "page21.md",
          "P1": "page22.md",
          "P2": "page23.md"
        }
      },
      "author": "NULL",
      "booklet title": "Japan_2007_Booklet.pdf",
      "booklet_url": "https://drive.google.com/open?id=1iefL6ZqfYIK41FEb32lgHdmwI33Klyx9",
      "competition name": "Japanese Mathematical Olympiad; Japanese Junior Mathematical Olympiad",
      "copyright_info": "NULL",
      "has_solutions": true,
      "id": "p_fa49cbb75df2",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Since $BE \\parallel AC$ and $\\angle APB = 60^\\circ$, $\\angle DBE = 60^\\circ$. And since $BE = AC = 2$ and $BD = 3$, letting H be the foot of perpendicular from E to line BD we have $BH = 1$, $EH = \\sqrt{3}$ and $HD = BD - BH = 2$. By the Pythagorean theorem we get $DE = \\sqrt{7}$. In the same way we get $BF = \\sqrt{19}$ so the minimum is $BF + DE = \\sqrt{7} + \\sqrt{19}$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Take points E and F so that ABEC and ACFD are parallelograms. Then $AB = CE$, $DA = FC$, and by the triangle inequality we get $BC + CF \\ge BF, DC + DE \\ge DE$. Therefore $AB + BC + CD + DA \\ge BF + DE$.\n\nAnd if we consider a case AC and BD crosses at their midpoints, we get $BC + CF = BF, DC + CE = DE$ and $AB + BC + CD + DA = BF + DE$. So the minimum value is $BF + DE$."
    }
  ],
  "2008": [
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_43518b43fb37",
      "language": "und",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "[2520]\n\nPossible prime factors for a single digit positive integer are 2, 3, 5, 7, and since $2^4 = 16, 3^3 = 27, 5^2 = 25, 7^2 = 49$, are all bigger than 10, orders of 2, 3, 5, 7 that can appear in a prime factorization of a single digit positive integer would be less than or equal to 3, 2, 1, 1 respectively. Hence the least common multiple of 4 single digit positive integers is a divisor of $2^3 \\times 3^2 \\times 5 \\times 7 = 2520$, and in particular, it must be less than or equal to this number. On the other hand, the least common multiple of 4 numbers 5, 7, 8, 9 is 2520, and therefore, 2520 is the desired answer",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Determine the maximum possible value for the least common multiple of 4 distinct single digit positive integers."
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_bc4dc77b86ad",
      "language": "und",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/Japan_2008_p3_data_f5440c0870.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "[3/8]\n\nLet M be the mid-point of the side AD of the square, and let N be the point of tangency of the line CE to the circle O. Since $MD = MN$, and $\\angle MDC = \\angle MNC = 90^\\circ$, we have $\\triangle MNC \\equiv \\triangle MDC$. Similarly, we have $\\triangle MNE \\equiv \\triangle MAE$. From $\\triangle MNC \\equiv \\triangle MDC$ we have $\\angle CMN = \\angle CMD$, which implies that $2\\angle CMN = \\angle DMN$. Similarly, we get $2\\angle EMN = \\angle AMN$ from $\\triangle MNE \\equiv \\triangle MAE$. Consequently, we have\n\n$$\n\\angle EMC = \\angle EMN + \\angle CMN = \\frac{1}{2}(\\angle DMN + \\angle AMN) = 90^\\circ.\n$$\n\nHence, we have $\\angle EMN = 90^\\circ - \\angle CMN = \\angle MNC$, which together with the fact that $\\angle ENM = 90^\\circ = \\angle MNC$ implies that $\\triangle EMN$ and $\\triangle MCN$ are similar triangles. Therefore, we have $EN : NM = NM : NC$. On the other hand, from the fact that $\\triangle MNC \\equiv \\triangle MDC$, we have $NC = DC = 1, NM = DM = \\frac{1}{2}$, from which we obtain $EN = \\frac{1}{4}$. From $\\triangle MNE \\equiv \\triangle MAE$ we get $EA = EN = \\frac{1}{4}$ so that we have $BE = \\frac{3}{4}$, and therefore, the area of $\\triangle CBE = \\frac{1}{2} \\cdot 1 \\cdot \\frac{3}{4} = \\frac{3}{8}$. Alternatively:\n\n% IMAGE: ![](images/Japan_2008_p3_data_f5440c0870.png)\n\nWe can argue in the same way as above to conclude that $\\triangle MNC \\equiv \\triangle MDC$, $\\triangle MNE \\equiv \\triangle MAE$. Then we can put $AE = t$ and get $EC = EN + NC = EA + DC = t + 1$ and $BE = BA - AE = 1 - t$. By applying the Pythagorean theorem to the right triangle CBE, we get $(1+t)^2 = (1-t)^2 + 1^2$. Solving for $t$ we get $t = \\frac{1}{4}$, and we get the area of the $\\triangle CBE = \\frac{3}{8}$ as above.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let ABCD be a square of side length 1. Let O be the circle having the side AD of the square as its diameter, and pick a point E on the side AB of the square in such a way that the line CE becomes a tangent line to the circle O. Determine the area of the triangle CBE."
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_887daec1fea8",
      "language": "und",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "[8 different ways]\n\nTo begin with, we note that two or more of 500 yen coins, or of 50 yen coins, or of 5 yen coins could not be included in the change Taro received. This is because if two or more of any of these coins were in the change, two of them could be exchanged for one 1000 yen note, or one 100 yen coin or one 10 yen coin to reduce the total number of coins in the change. Also, the change did",
          "pages": [
            "P2"
          ],
          "status": "truncated"
        }
      ],
      "statement_images": [],
      "statement_latex": "Currently circulating coins in Japanese currency come in 6 different denominations: 500 yen, 100 yen, 50 yen, 10 yen, 5 yen and 1 yen. Taro had 1 each of 1000 yen note, 100 yen coin, 10 yen coin and 1 yen coin. He made a certain purchase from a merchant and handed him all he had and received some change. Assume that Taro made the payment in such a way that he would not receive in the change any coins of the denominations same as what he had had to begin with, nor a 1000 yen note. Furthermore, he chose the method of the payment so that he would end up with the minimum possible number of coins when he received his change. Assume also that the merchant gave Taro the change with minimum possible number of coins. Count the case of no change as a possibility for the purchase price also. Under these conditions how many distinct purchase prices are possible?"
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_a4e7c2ca7eb6",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "not include 1000 yen note, 100 yen coin, 10 yen coin or 1 yen coin, since Taro used all of these in his payment. Therefore, the change must have consisted of zero or one piece each of 500 yen, 50 yen and 5 yen coins. Consequently, the purchase price must have been of the form: 1111 - (500a + 50b + 5c) yen, where each of a, b, c being either 0 or 1.\n\nConversely, let us show that if the purchase price is of the form 1111 - (500a + 50b + 5c) yen, with each one of a, b, c being 0 or 1, then Taro would make his payment in the way specified in the statement of the problem. Note that as each of a, b, c is either 0 or 1, a 500 yen, b 50 yen and c 5 yen coins together would yield the method of payment of 500a + 50b + 5c yen with the minimum number of coins. The change does not contain any of 1000 yen note or 100 yen, 10 yen, 1 yen coins, as we have noted before. Also, the amount of change should be 500a + 50b + 50c yen regardless of the method of payment, and hence the number of coins Taro received as the change is the minimum possible for the amount of change.\n\nSince each of a, b, c can take either 0 or 1, the number of possible values for the purchase price is $2^3 = 8$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "To begin with, we note that two or more of 500 yen coins, or of 50 yen coins, or of 5 yen coins could not be included in the change Taro received. This is because if two or more of any of these coins were in the change, two of them could be exchanged for one 1000 yen note, or one 100 yen coin or one 10 yen coin to reduce the total number of coins in the change. Also, the change did"
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_15b50e6c5815",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "When $p=2$, we get that if $m \\ge 9$, then $f(2, m) \\ge f(2, 9) = 1021$. So, it is sufficient to consider the cases for $m \\le 8$, and we can conclude that $f(2, 1) = 1$, $f(2, 2) = 5$, $f(2, 6) = 125$ are the only cases which give a factor of 1000 for $f(2, m)$.\n\nWhen $3 \\le p \\le 31$, we can similarly check that $f(3, 1) = 4$, $f(3, 3) = 40$, $f(7, 1) = 8$, $f(19, 1) = 20$ are the only cases for this range of primes $p$ for which $f(p, m)$ is a factor of 1000.\n\nWhen $p \\ge 32$, we get if $m \\ge 2$ $f(p, m) \\ge f(m, 2) = 1+p+p^2 \\ge 1+32+32^2 > 1000$. So, it is enough to check the cases for $m=1$ only for this range of $p$, and we get $f(199, 1) = 200$, $f(499) = 500$ as the only possibilities for a factor of 1000.\n\nFinally, we search for combinations of these values of $f(p, m)$'s which yield the product 1000, and we find that the desired answer is given by $2^6 \\times 7^1 = 448$ and $2^2 \\times 199^1 = 796$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "For a positive integer $n$, let us denote by $S(n)$ the sum of all the positive factors of $n$ whose remainder when divided by 4 is not equal to 2. Let us first determine $S(n)$.\n\nSuppose the prime factorization of $n$ is given by\n\n$$\n2^m p_1^{m_1} \\cdots p_k^{m_k} \\quad (p_1, \\ldots, p_k \\text{ are distinct odd primes, } m \\ge 0, m_1, \\ldots, m_k \\ge 1).\n$$\n\nSince the fact that an integer has a remainder 2 when divided by 4 is equivalent to the fact that it is divisible by 2 only once, we can see that $S(n)$ is the sum of all numbers of the form\n\n$$\n2^l p_1^{l_1} \\cdots p_k^{l_k} \\quad (\\text{where } 0 \\le l \\le m, 1 \\ne l \\ne 1, 0 \\le l_1 \\le m_1, \\ldots, 0 \\le l_k \\le m_k).\n$$\n\nConsequently, $S(n)$ equals\n\n$$\n\\sum_{l=0, l \\ne 1}^{m} 2^l \\sum_{l_1=0}^{m_1} p_1^{l_1} \\cdots \\sum_{l_k=0}^{m_k} p_k^{l_k}.\n$$\n\n(Note that because of the distributive law the number of terms in each sum corresponds to the number of possible values for each of the exponents.)\n\nFor the sake of simplicity, let for each non-negative integer $m$,\n\n$$\nf(2, m) = \\sum_{l=0, l \\ne 1}^{m} 2^l; \\quad f(p, m) = \\sum_{l=0}^{m} p^l \\quad (\\text{when } p \\text{ is a prime } \\ne 2).\n$$\n\nThen, if $n = 2^m p_1^{m_1} \\cdots p_k^{m_k}$, we have $S(n) = f(2, m)f(p_1, m_1) \\cdots f(p_k, m_k)$. In order to determine positive integers $n$ for which $S(n) = 1000$, let us first determine the pairs $(p, m)$, where $p$ is a prime and $m$ is a positive integer for which $f(p, m)$ is a factor of 1000."
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_a6c646e4969e",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "1, 2, 4, 8, 251, 502, 1004, 2008. We note that the good state can be reached also by going through 251 actions if $d=1$, by 502 actions if $d=2$, by 1004 actions if $d=4$ and by 2008 actions if $d=8$ respectively. By the Lemma, we see that there are no common seating arrangement among the seating arrangements corresponding to 251, 502, 1004, 2008 as the number of actions necessary to get to the good state for the first time. Therefore, to obtain the possible number of seating arrangements to satisfy the requirement of the problem, it is enough to determine how many possible seating arrangements there are which produce the good state after 251, 502, 1004 and 2008 actions.\n\nSo, let $n \\in \\{251, 502, 1004, 2008\\}$, and consider seating arrangements that will produce the good state after $n$ actions. Since the number $\\frac{4016}{n}$ is an even integer, we see that if we decide the seating arrangement for some block consisting of $n$ consecutive chairs by deciding whether a boy or a girl sits in each of these $n$ chairs, then precisely 1 seating arrangement for all the participants satisfying the requirement of the problem can be produced by putting alternately this arrangement of seating and the arrangement obtained by changing a boy by a girl and a girl by a boy in each chair to each of $\\frac{4016}{n}$ distinct blocks of $n$ consecutive chairs. Therefore, there are $2^n$ seating arrangement satisfying the requirement for each $n$.\n\nConsequently, the number of possible arrangements satisfying the requirement of the problem is\n\n$$\n2^{251} + 2^{502} + 2^{1004} + 2^{2008}\n$$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "10. $[2^{251} + 2^{502} + 2^{1004} + 2^{2008}]$\n\nLet us call the situation the [initial state] if every participating boy has a bouquet of flowers and every participating girl has a chocolate bar, and call the situation the [good state] if every participating boy has a chocolate bar and every participating girl has a bouquet of flowers.\n\nSuppose the good state was attained for the first time after $d$ actions, then after $2d$ actions, the situation returns for the first time to the initial state. This is because the good state represents the situation in which the possessions of boys and girls are completely reversed from those in the initial state, and therefore, if we repeat once more the process of reversing the possessions of boys and girls completely, it is clear that the situation returns to the initial state. Furthermore, if for some $d' < 2d$ the situation returned to the initial state after $d'$ actions, then this would mean that after $|d-d'|$ actions the initial state and the good state were interchanged, and since $|d-d'| < d$, this is a contradiction. So, $2d$ is exactly the number of actions necessary to return to the initial state for the first time. Let us prove the following Lemma\n\n**Lemma.** Suppose after $a$ actions the situation returns for the first time to the initial state. If the situation returns to the initial state after $b$ actions, then $b$ must be a multiple of $a$.\n\n**Proof of Lemma b** can be represented as $b = ma+k$ with a nonnegative integer $m$ and a number $k$ satisfying $0 \\le k < a$. From the definition of $a$ it follows that the situation returns to the initial state after $ma$ actions. Consequently, after $b$ actions the situation is the same as the situation reached after $k$ actions from the initial state. If $k > 0$, then this would mean that the situation returns to the initial state in less than $a$ actions, and this contradicts the fact that $a$ was assumed to be the number of actions necessary to return for the first time to the initial state. Therefore, we must have $k = 0$, and this proves the Lemma.\n\nFrom what we obtained above, we see that the situation returns to the initial state after the repetition of even multiples of $d$ actions, and goes into the good state after an odd multiples of $d$ actions. Furthermore, in view of the Lemma, we see that at no other time the initial state or the good state would be attained.\n\nSince there are altogether 4016 people participating, it is clear that after 4016 actions, the situation returns to the initial state. Therefore, $2d$ must be a factor of 4016, and this implies that $d$ must be one of the numbers"
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_423ff823feb7",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "$\\angle CPD) = 135^\\circ$ and $\\angle BCP + \\angle PCD = 135^\\circ + \\angle PCD$. Since $\\angle CPD = 90^\\circ$ and $PC < PD$, we have $\\angle PCD > 45^\\circ$ and hence $\\angle BCP + \\angle PCD > 135^\\circ + 45^\\circ = 180^\\circ$. Therefore, the point $P$ and the point $C$ lie on the same side of the plane divided by the line $BD$. Since the points $A$ and $P$ lie on the same side of the plane divided by the line $BD$, the points $A$ and $C$ also lie on the same side of the plane divided by the line $BD$. This means that the 4 given points $A, B, C, D$ traversed in this order will not form the 4 vertices of a convex quadrilateral.\n\nThus, the desired area is $2 + 4\\sqrt{2}$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "11. [2 + 4\\sqrt{2}]\n\nChoose a point $P$ so that the quadrilateral $ABCP$ becomes a parallelogram. Then, we have $AP = PC = 2$. Since $M$ is the mid-point of $BC$ and $N$ is the mid-point of $BD$, we have $PD = 2MN = 2\\sqrt{2}$. Since $PC^2 + PD^2 = 2^2 + (2\\sqrt{2})^2 = 12 = (2\\sqrt{3})^2 = CD^2$, we see that the $\\triangle PCD$ is a right triangle with $CD$ as its hypotenuse. We also have from the law of cosines that\n\n$$\n\\cos \\angle APD = \\frac{AP^2 + PD^2 - AD^2}{2 \\cdot AP \\cdot PD} = -\\frac{\\sqrt{2}}{2},\n$$\n\nfrom which we get that $\\angle APD = 135^\\circ$.\n\nWe separate two cases depending on whether or not the points $A$ and $C$ lie on the same side of the plane divided by the line $PD$.\n\nIf $A$ and $C$ lie on the opposite sides of the plane divided by the line $PD$, the quadrilateral becomes convex, and its area is the sum of the areas of the parallelogram $ABCP$, the triangle $CDP$ and the triangle $DAP$. Since $\\angle APC = 360^\\circ - \\angle APD - \\angle CPD = 135^\\circ$, we get that the area of the quadrilateral is given by\n\n$$\nAP \\cdot CP \\cdot \\sin \\angle APC + \\frac{1}{2} AP \\cdot DP \\cdot \\sin \\angle APD + \\frac{1}{2} CP \\cdot DP \\cdot \\sin \\angle CPD = 2 + 4\\sqrt{2}.\n$$\n\nOn the other hand, if the points $A$ and $C$ lie on the same side of the plane divided by the line $PD$, then we have $\\angle BCP = 180^\\circ - \\angle CPA = 180^\\circ - (\\angle APD -"
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_a2900f102cd3",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "which establishes the claim of the Lemma.\n\n**Lemma 3.** There exists a combination $(n, a_1, a_2, \\dots, a_n)$ giving $S(a_1, a_2, \\dots, a_n)$ the maximum value and having the additional property that 1 appears among $a_1, a_2, \\dots, a_n$ at most once.\n\n**Proof of Lemma 3.** Suppose $S(a_1, a_2, \\dots, a_n)$ attains the maximum possible value, and suppose there are two or more 1's among $a_1, a_2, \\dots, a_n$. We may assume that $a_{n-1} = a_n = 1$ in view of Lemma 1. Let us define an $n-1$ tuple $(d_1, d_2, \\dots, d_{n-1})$ by\n\n$$\nd_i = a_i \\quad (i < n-1); \\quad d_{n-1} = 2.\n$$\n\nThen, $d_1 + d_2 + \\dots + d_{n-1} = 2008$. For each $k$ with $1 \\le k \\le n-1$, let $D_k = d_1d_2\\dots d_k$. We then have $A_k = D_k$ when $1 \\le k \\le n-2$. We also have $D_{n-1} = 2A_{n-2}$. Furthermore, from the fact that $a_{n-1} = a_n = 1$ it follows that $A_{n-1} = A_n = A_{n-2}$. Consequently, we have $S(a_1, a_2, \\dots, a_n) = S(d_1, d_2, \\dots, d_{n-1})$. This shows that if there are two or more 1's among $a_1, a_2, \\dots, a_n$, then we can introduce $d_1, d_2, \\dots, d_{n-1}$ to reduce the number of 1's among $a_1, a_2, \\dots, a_n$ while keeping the maximality of the value $S(a_1, a_2, \\dots, a_n)$. We can reduce the number of 1's further, if necessary, by starting with $d_1, d_2, \\dots, d_{n-1}$ and going through the same procedure. Thus, there is a combination $(n; a_1, a_2, \\dots, a_n)$ of positive integers which give the maximum value of $S(a_1, a_2, \\dots, a_n)$ with the additional property that 1 appears among $a_1, a_2, \\dots, a_n$ at most once.\n\n**Lemma 4.** There exists a combination $(n; a_1, a_2, \\dots, a_n)$ of positive integers which gives the maximum value for $S(a_1, a_2, \\dots, a_n)$ and for which there are at most three 2's among $a_1, a_2, \\dots, a_n$.\n\n**Proof of Lemma 4.** Suppose there exists an $n$ tuple $a_1, a_2, \\dots, a_n$ which gives the maximum value for $S(a_1, a_2, \\dots, a_n)$ and there are $4$ or more $2$'s among $a_1, a_2, \\dots, a_n$. In view of Lemma 1, we may assume that there exists a $k$ with $1 \\le k \\le n-3$ such that $a_k = a_{k+1} = a_{k+2} = a_{k+3} = 2$. Introduce an $n-1$ tuple $(e_1, e_2, \\dots, e_{n-1})$ by defining\n\n$$\ne_i = a_i \\quad (i < k); \\quad 3 = a_i + k; \\quad i = k, k+1; \\quad i > k+1.\n$$\n\nIf $k > 1$ call $P = A_1 + A_2 + \\dots + A_{k-1}$. If $k = 1$, let $P = 0$. Also, if $k < n-3$ let $Q = \\frac{A_{k+4} + A_{k+5} + \\dots + A_n}{A_{k+3}}$, and $Q = 0$ if $k = n-3$. Then, we have\n\n$$\nS(a_1, a_2, \\dots, a_n) = P + 2A_{k-1} + 4A_{k-1} + 8A_{k-1} + 16A_{k-1} + 16QA_{k-1}.\n$$\n\nWe also have\n\n$$\nS(e_1, e_2, \\dots, e_{n-1}) = P + 3A_{k-1} + 9A_{k-1} + 18A_{k-1} + 18QA_{k-1}.\n$$\n\nIt follows from these identities that we have\n\n$$\nS(e_1, e_2, \\dots, e_{n-1}) - S(a_1, a_2, \\dots, a_n) = 2QA_{k-1} \\ge 0.\n$$\n\nSince $e_1+e_2+\\cdots+e_{n-1} = 2008$, the combination $(n-1; e_1, e_2, \\cdots, e_{n-1})$ satisfies the condition of the problem, and since $S(a_1, a_2, \\cdots, a_n)$ has the maximum value, $S(e_1, e_2, \\cdots, e_{n-1})$ also takes the maximum value. Therefore, if there are 4 or more 2's among $a_1, a_2, \\cdots, a_n$, then we can reduce the number of 2's without losing the maximality of the value $S(a_1, a_2, \\cdots, a_n)$. This proves the assertion of this Lemma.\n\nNow going back to the problem, we note that, in view of Lemmas 1, 2, 3, 4, it is enough to check the following 3 cases in order to determine the maximum value of $S(a_1, a_2, \\cdots, a_n)$:\n\n$$\n(1) \\quad a_1 = a_2 = \\cdots = a_{669} = 3, \\quad a_{670} = 1.\n$$\n\n$$\n(2) \\quad a_1 = a_2 = \\cdots = a_{667} = 3, \\quad a_{668} = a_{669} = a_{670} = 2, \\quad a_{671} = 1.\n$$\n\n$$\n(3) \\quad a_1 = a_2 = \\cdots = a_{668} = 3, \\quad a_{669} = a_{670} = 2.\n$$\n\nLet $X = 3 + 3^2 + \\cdots + 3^{667}$ and $Y = 3^{667}$. Then\n\nIn the case (1): $S(a_1, a_2, \\cdots, a_n) = X + 3Y + 9Y + 9Y = X + 21Y$,\n\nIn the case (2): $S(a_1, a_2, \\cdots, a_n) = X + 2Y + 4Y + 8Y + 8Y = X + 22Y$,\n\nIn the case (3): $S(a_1, a_2, \\cdots, a_n) = X + 3Y + 6Y + 12Y = X + 21Y$,\n\nso that we have the desired maximum value to be $X + 22Y = \\frac{47}{2} \\cdot 3^{667} - \\frac{3}{2}$.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "$[\\frac{47}{2} \\cdot 3^{667} - \\frac{3}{2}]$\n\nFor $(a_1, a_2, \\dots, a_n)$ satisfying the condition of the problem, let us put $A_0 = 1$ and\n\n$$\nS(a_1, a_2, \\dots, a_n) = A_1 + A_2 + \\dots + A_n.\n$$\n\n**Lemma 1.** For $(a_1, a_2, \\dots, a_n)$ which yields the maximum possible value of $S(a_1, a_2, \\dots, a_n)$, we must have $a_i \\ge a_{i+1}$ for each $i$ satisfying $1 \\le i \\le n-1$.\n\n**Proof of Lemma 1.** Suppose there exists a $k$ with $1 \\le k \\le n-1$, for which $a_k < a_{k+1}$. Let us define an $n$-tuple of positive integers $(b_1, b_2, \\dots, b_n)$ by setting\n\n$$\nb_i = a_i \\text{ if } i \\ne k, k+1; \\quad b_k = a_{k+1}, \\quad b_{k+1} = a_k.\n$$\n\nSince $b_1 + b_2 + \\dots + b_n = 2008$, $(b_1, b_2, \\dots, b_n)$ satisfies the condition of the problem. To prove the Lemma, therefore, it is enough to show that $S(a_1, a_2, \\dots, a_n) < S(b_1, b_2, \\dots, b_n)$. holds. Let us put $B_i = b_1b_2\\dots b_i$ for each $i$. It is clear that $A_i = B_i$ holds for each $i \\ne k$. We also have\n\n$$\nB_k - A_k = (a_{k+1} - a_k)A_{k-1} > 0,\n$$\n\nand therefore, the Lemma is proved.\n\n**Lemma 2.** If $(a_1, a_2, \\dots, a_n)$ with $a_1 + a_2 + \\dots + a_n = 2008$ gives the maximum possible value to $S(a_1, a_2, \\dots, a_n)$, then $a_i \\le 3$ must hold for each $i$, $1 \\le i \\le n$.\n\n**Proof of Lemma 2.** Suppose there exists a $k$ with $1 \\le k \\le n$, for which $a_k \\ge 4$. We may assume that $a_1 \\ge 4$ in view of Lemma 1. Let us define an $n+1$ tuple $(c_1, c_2, \\dots, c_{n+1})$ by setting\n\n$$\nc_1 = a_1 - 2; \\quad c_2 = 2; \\quad c_i = a_{i-1} \\text{ (for } 2 < i \\le n+1).\n$$\n\nSince $c_1 + c_2 + \\dots + c_{n+1} = 2008$, to prove the Lemma it is enough to show that $S(a_1, a_2, \\dots, a_n) < S(c_1, c_2, \\dots, c_{n+1})$. Let us set $Q = \\frac{A_2+A_3+\\dots+A_n}{A_1}$. Then we have\n\n$$\nS(a_1, a_2, \\dots, a_n) = a_1 + Qa_1.\n$$\n\nWe also have\n\n$$\nS(c_1, c_2, \\dots, c_{n+1}) = (a_1 - 2) + 2(a_1 - 2) + 2Q(a_1 - 2).\n$$\n\nFrom these identities and from the fact that $a_1 \\ge 4$ it follows that\n\n$$\nS(c_1, c_2, \\dots, c_{n+1}) = S(a_1, a_2, \\dots, a_n) = (2a_1 - 6) + Q(a_1 - 4) > 0,\n$$"
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_aecf91ba397d",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Since $e_1+e_2+\\cdots+e_{n-1} = 2008$, the combination $(n-1; e_1, e_2, \\cdots, e_{n-1})$ satisfies the condition of the problem, and since $S(a_1, a_2, \\cdots, a_n)$ has the maximum value, $S(e_1, e_2, \\cdots, e_{n-1})$ also takes the maximum value. Therefore, if there are 4 or more 2's among $a_1, a_2, \\cdots, a_n$, then we can reduce the number of 2's without losing the maximality of the value $S(a_1, a_2, \\cdots, a_n)$. This proves the assertion of this Lemma.\n\nNow going back to the problem, we note that, in view of Lemmas 1, 2, 3, 4, it is enough to check the following 3 cases in order to determine the maximum value of $S(a_1, a_2, \\cdots, a_n)$:\n\n$$\n(1) \\quad a_1 = a_2 = \\cdots = a_{669} = 3, \\quad a_{670} = 1.\n$$\n\n$$\n(2) \\quad a_1 = a_2 = \\cdots = a_{667} = 3, \\quad a_{668} = a_{669} = a_{670} = 2, \\quad a_{671} = 1.\n$$\n\n$$\n(3) \\quad a_1 = a_2 = \\cdots = a_{668} = 3, \\quad a_{669} = a_{670} = 2.\n$$\n\nLet $X = 3 + 3^2 + \\cdots + 3^{667}$ and $Y = 3^{667}$. Then\n\nIn the case (1): $S(a_1, a_2, \\cdots, a_n) = X + 3Y + 9Y + 9Y = X + 21Y$,\n\nIn the case (2): $S(a_1, a_2, \\cdots, a_n) = X + 2Y + 4Y + 8Y + 8Y = X + 22Y$,\n\nIn the case (3): $S(a_1, a_2, \\cdots, a_n) = X + 3Y + 6Y + 12Y = X + 21Y$,\n\nso that we have the desired maximum value to be $X + 22Y = \\frac{47}{2} \\cdot 3^{667} - \\frac{3}{2}$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Lemma 3. There exists a combination $(n, a_1, a_2, \\dots, a_n)$ giving $S(a_1, a_2, \\dots, a_n)$ the maximum value and having the additional property that 1 appears among $a_1, a_2, \\dots, a_n$ at most once.\n\nProof of Lemma 3. Suppose $S(a_1, a_2, \\dots, a_n)$ attains the maximum possible value, and suppose there are two or more 1's among $a_1, a_2, \\dots, a_n$. We may assume that $a_{n-1} = a_n = 1$ in view of Lemma 1. Let us define an $n-1$ tuple $(d_1, d_2, \\dots, d_{n-1})$ by\n\n$$\nd_i = a_i \\quad (i < n-1); \\quad d_{n-1} = 2.\n$$\n\nThen, $d_1 + d_2 + \\dots + d_{n-1} = 2008$. For each $k$ with $1 \\le k \\le n-1$, let $D_k = d_1d_2\\dots d_k$. We then have $A_k = D_k$ when $1 \\le k \\le n-2$. We also have $D_{n-1} = 2A_{n-2}$. Furthermore, from the fact that $a_{n-1} = a_n = 1$ it follows that $A_{n-1} = A_n = A_{n-2}$. Consequently, we have $S(a_1, a_2, \\dots, a_n) = S(d_1, d_2, \\dots, d_{n-1})$. This shows that if there are two or more 1's among $a_1, a_2, \\dots, a_n$, then we can introduce $d_1, d_2, \\dots, d_{n-1}$ to reduce the number of 1's among $a_1, a_2, \\dots, a_n$ while keeping the maximality of the value $S(a_1, a_2, \\dots, a_n)$. We can reduce the number of 1's further, if necessary, by starting with $d_1, d_2, \\dots, d_{n-1}$ and going through the same procedure. Thus, there is a combination $(n; a_1, a_2, \\dots, a_n)$ of positive integers which give the maximum value of $S(a_1, a_2, \\dots, a_n)$ with the additional property that 1 appears among $a_1, a_2, \\dots, a_n$ at most once.\n\nLemma 4. There exists a combination $(n; a_1, a_2, \\dots, a_n)$ of positive integers which gives the maximum value for $S(a_1, a_2, \\dots, a_n)$ and for which there are at most three 2's among $a_1, a_2, \\dots, a_n$.\n\nProof of Lemma 4. Suppose there exists an $n$ tuple $a_1, a_2, \\dots, a_n$ which gives the maximum value for $S(a_1, a_2, \\dots, a_n)$ and there are $4$ or more $2$'s among $a_1, a_2, \\dots, a_n$. In view of Lemma 1, we may assume that there exists a $k$ with $1 \\le k \\le n-3$ such that $a_k = a_{k+1} = a_{k+2} = a_{k+3} = 2$. Introduce an $n-1$ tuple $(e_1, e_2, \\dots, e_{n-1})$ by defining\n\n$$\ne_i = a_i \\quad (i < k); \\quad 3 = a_i + k; \\quad i = k, k+1; \\quad i > k+1.\n$$\n\nIf $k > 1$ call $P = A_1 + A_2 + \\dots + A_{k-1}$. If $k = 1$, let $P = 0$. Also, if $k < n-3$ let $Q = \\frac{A_{k+4} + A_{k+5} + \\dots + A_n}{A_{k+3}}$, and $Q = 0$ if $k = n-3$. Then, we have\n\n$$\nS(a_1, a_2, \\dots, a_n) = P + 2A_{k-1} + 4A_{k-1} + 8A_{k-1} + 16A_{k-1} + 16QA_{k-1}.\n$$\n\nWe also have\n\n$$\nS(e_1, e_2, \\dots, e_{n-1}) = P + 3A_{k-1} + 9A_{k-1} + 18A_{k-1} + 18QA_{k-1}.\n$$\n\nIt follows from these identities that we have\n\n$$\nS(e_1, e_2, \\dots, e_{n-1}) - S(a_1, a_2, \\dots, a_n) = 2QA_{k-1} \\ge 0.\n$$"
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_4f95fb30036f",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "The assertion of the problem is obvious if $P(x)$ is a constant. Therefore, we assume in the sequel that $P(x)$ is a polynomial of degree $m$, where $m$ is a positive integer. As $P(x)$ is a polynomial with integer coefficients and satisfies $P(n^2) = 0$, there exists, by the factorization theorem, a polynomial $Q(x)$ with integer coefficients such that\n\n$$\nP(x) = Q(x)(x - n^2)\n$$\n\nholds.\n\nSuppose that $P(a^2) = 1$ holds for some nonzero rational number $a$. We can represent $a$ as $a = \\frac{q}{p}$ with $p$ being a positive integer, $q$ a nonzero integer and $p, q$ relatively prime. Therefore, if we substitute $x = a^2$ in the equation above, we obtain\n\n$$\nP(a^2) = Q(a^2)(a^2 - n^2) = \\frac{1}{p^{2m}} \\left( p^{2(m-1)} Q\\left(\\left(\\frac{q}{p}\\right)^2\\right) \\right) (q^2 - (pn)^2),\n$$\n\nfrom which we conclude as $P(a^2) = 1$ that\n\n$$\n\\left( p^{2(m-1)} Q\\left(\\left(\\frac{q}{p}\\right)^2\\right) \\right) (q^2 - (pn)^2) = p^{2m}.\n$$\n\nWe note that both $p^{2(m-1)}Q\\left(\\left(\\frac{q}{p}\\right)^2\\right)$ and $q^2 - (pn)^2$ are integers, and therefore, the validity of the identity above implies that $q^2 - (pn)^2$ must be a factor of $p^{2m}$. However, since $p, q$ are relatively prime, neither $q - pn$ nor $q + pn$ has a common prime factor with $p$. Furthermore, since none of $n, p, q$ is zero, it is easy to check that it is impossible for $q - pn$ and $q + pn$ to have absolute value 1 simultaneously. Putting these facts together we conclude that neither $q - pn$ and $q + pn$ can be a factor of $p^{2m}$, and hence $q^2 - (pn)^2 = (q - pn)(q + pn)$ cannot be a factor of $p^{2m}$, contradicting the conclusion obtained above from the assumption $P(a^2) = 1$, and this contradiction proves the assertion of the problem.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "A Polynomial $P(x)$ with integer coefficients satisfies $P(n^2) = 0$ for some nonzero integer $n$. Show that $P(a^2) \\neq 1$ must hold for any nonzero rational number $a$."
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_9fb0bd06c957",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Pick some player and call him $A$. Let $A_1$ be $A$ and for $i = 2, 3, \\dots$ designate by $A_i$ the player sitting at the $i$-1-th position from the player $A$ counted clockwise. For a non-negative integer $k$ and a positive integer $i$ denote by $F(k, i)$ the number obtained by subtracting the total umber of red cards possessed by the players $A_1, A_2, \\dots, A_i$ from the total number of white cards possessed by the same set of players after the $k$-th turn. By 0-th turn we mean the initial distribution of red and white cards. Let us first prove the following lemma.\n\n**Lemma 1.** If we choose the player A suitably, then we can make $F(0, i) \\ge 0$ for every positive integer $i$.\n\n**Proof.** Choose a player arbitrarily and call him B. Define $B_i$ and $G(k, i)$ starting with B in the same way as we defined $A_i$ and $F(k, i)$ from A. As the total number of red cards possessed by the players $B_1, B_2, \\dots, B_{2008}$ equals the total number of white cards possessed by the same set of players, we have $G(0, i) = G(0, i + 2008)$, and therefore, we can choose a number $m$ ($1 \\le m \\le 2008$) such that $G(0, m) = \\min_{i \\ge 1} G(0, i)$. Now, let A be $B_{m+1}$, then since $A_i = B_{m+i}$, $F(0, i)$ equals the number obtained by subtracting the total number of red cards possessed initially by the players $B_{m+1}, B_{m+2}, \\dots, B_{m+i}$ from the total number of white cards possessed initially by the same set of players. Consequently, we have $F(0, i) = G(0, m+i) - G(0, m) \\ge 0$.\n\nFrom now on we consider the player A satisfying the condition of Lemma 1. We can now prove the following lemma.\n\n**Lemma 2.** $F(k, i) \\ge 0$ holds for every choice of the nonnegative integer $k$ and the positive integer $i$.\n\n**Proof.** We prove the assertion by using the mathematical induction on $k$.\n\nThe assertion is valid for $k=0$ by our choice of A.\n\nSuppose the assertion holds for the case $k=l$. We will show that the existence of $j$ for which $F(l+1,j) < 0$ will lead to a contradiction. As $F(l+1,j) = F(l+1,j+2008)$, we may suppose that $j \\ge 2$. We see from the definition of $F(l,j)$ and the fact that the total number of cards possessed by $A_1, A_2, \\dots, A_j$ is even that $F(l,j)$ is also even. The value of $F(l,j)-F(l+1,j)$ is determined completely by the kind of cards $A_1$ receives and $A_j$ passes on at the $l+1$-th turn, and this value is -2, 0 or 2. Since $F(l,j) \\ge 0$ and $F(l+1,j) < 0$, we see that only possible combination is $F(l,j) = 0$ and $F(l+1,j) = -2$ and this can happen only if $A_1$ receives a red card and $A_j$ passes on a white card at the $l$-th turn. But if $A_j$ passes on a white card at the $l$-th turn, this means that $A_j$ must have 2 white cards at the end of the $l$-th turn, which implies that $F(l,j-1) = F(l,j) - 2 = -2 < 0$, which contradicts the induction hypothesis. Thus, we must have $F(l+1,i) \\ge 0$ for all positive integers $i$. This completes the mathematical induction and the proof of Lemma 2.\n\nBy letting $i=2007$ in Lemma 2, we get $F(k, 2007) \\ge 0$ for every $k \\ge 0$. Combined with the fact $F(k, 2008) = 0$ for every $k \\ge 0$, we can conclude that $A_{2008}$ always possesses at least one red card, and consequently, $A_1$ receives a red card at every turn. Starting with this fact, we can prove by using mathematical induction on $n$ that for every positive integer $n$, every one of the players $A_1, A_2, \\dots, A_n$ possesses at least 1 red card at the end of $n$-th turn. Combined with the fact that $A_{2008}$ always possesses at least 1 red card, this tells us that every one of the players $A_1, A_2, \\dots, A_{2008}$ possesses at least 1 red card at the end of 2007-th turn. Since the total number of red cards is 2008, this means that every player has exactly 1 red card at the end of 2007-th turn, which implies that the situation where every player possesses exactly 1 white and 1 red cards must be reached in at most 2007 turns.\n\nOn the other hand, if initially a certain player has 2 white cards, the player",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "truncated"
        }
      ],
      "statement_images": [],
      "statement_latex": "There are 2008 pieces each of red cards and white cards. These 4016 cards are mixed and put on a pile. Then, each of the 2008 participating players is dealt 2 cards from the pile, and then all of the players are seated in a circular arrangement facing interior of the circle. At every turn of the game each player will perform the following act simultaneously:\n\nIf a player possesses at least one red card, he will pass one red card to the player sitting next to him on the left-side. If a player does not have any red card in his possession, then he will pass one white card to the player on his left.\n\nDetermine the maximum possible number of turns necessary to reach for the first time the situation where every player will have one each of red and white cards."
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_d38e6a537915",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "**Lemma 1.** If we choose the player A suitably, then we can make $F(0, i) \\ge 0$ for every positive integer $i$.\n\n**Proof.** Choose a player arbitrarily and call him B. Define $B_i$ and $G(k, i)$ starting with B in the same way as we defined $A_i$ and $F(k, i)$ from A. As the total number of red cards possessed by the players $B_1, B_2, \\dots, B_{2008}$ equals the total number of white cards possessed by the same set of players, we have $G(0, i) = G(0, i + 2008)$, and therefore, we can choose a number $m$ ($1 \\le m \\le 2008$) such that $G(0, m) = \\min_{i \\ge 1} G(0, i)$. Now, let A be $B_{m+1}$, then since $A_i = B_{m+i}$, $F(0, i)$ equals the number obtained by subtracting the total number of red cards possessed initially by the players $B_{m+1}, B_{m+2}, \\dots, B_{m+i}$ from the total number of white cards possessed initially by the same set of players. Consequently, we have $F(0, i) = G(0, m+i) - G(0, m) \\ge 0$.\n\nFrom now on we consider the player A satisfying the condition of Lemma 1. We can now prove the following lemma.\n\n**Lemma 2.** $F(k, i) \\ge 0$ holds for every choice of the nonnegative integer $k$ and the positive integer $i$.\n\n**Proof.** We prove the assertion by using the mathematical induction on $k$.\n\nThe assertion is valid for $k=0$ by our choice of A.\n\nSuppose the assertion holds for the case $k=l$. We will show that the existence of $j$ for which $F(l+1,j) < 0$ will lead to a contradiction. As $F(l+1,j) = F(l+1,j+2008)$, we may suppose that $j \\ge 2$. We see from the definition of $F(l,j)$ and the fact that the total number of cards possessed by $A_1, A_2, \\dots, A_j$ is even that $F(l,j)$ is also even. The value of $F(l,j)-F(l+1,j)$ is determined completely by the kind of cards $A_1$ receives and $A_j$ passes on at the $l+1$-th turn, and this value is -2, 0 or 2. Since $F(l,j) \\ge 0$ and $F(l+1,j) < 0$, we see that only possible combination is $F(l,j) = 0$ and $F(l+1,j) = -2$ and this can happen only if $A_1$ receives a red card and $A_j$ passes on a white card at the $l$-th turn. But if $A_j$ passes on a white card at the $l$-th turn, this means that $A_j$ must have 2 white cards at the end of the $l$-th turn, which implies that $F(l,j-1) = F(l,j) - 2 = -2 < 0$, which contradicts the induction hypothesis. Thus, we must have $F(l+1,i) \\ge 0$ for all positive integers $i$. This completes the mathematical induction and the proof of Lemma 2.\n\nBy letting $i=2007$ in Lemma 2, we get $F(k, 2007) \\ge 0$ for every $k \\ge 0$. Combined with the fact $F(k, 2008) = 0$ for every $k \\ge 0$, we can conclude that $A_{2008}$ always possesses at least one red card, and consequently, $A_1$ receives a red card at every turn. Starting with this fact, we can prove by using mathematical induction on $n$ that for every positive integer $n$, every one of the players $A_1, A_2, \\dots, A_n$ possesses at least 1 red card at the end of $n$-th turn. Combined with the fact that $A_{2008}$ always possesses at least 1 red card, this tells us that every one of the players $A_1, A_2, \\dots, A_{2008}$ possesses at least 1 red card at the end of 2007-th turn. Since the total number of red cards is 2008, this means that every player has exactly 1 red card at the end of 2007-th turn, which implies that the situation where every player possesses exactly 1 white and 1 red cards must be reached in at most 2007 turns.\n\nOn the other hand, if initially a certain player has 2 white cards, the player\nsitting on his right has 2 red cards and every other player has exactly 1 white and 1 red cards, the situation where every player has exactly 1 white and 1 red cards can be reached for the first time at the end of the 2007-th turn.\n\nThus, the maximum number of turns necessary to achieve the desired situation is 2007.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Pick some player and call him $A$. Let $A_1$ be $A$ and for $i = 2, 3, \\dots$ designate by $A_i$ the player sitting at the $i$-1-th position from the player $A$ counted clockwise. For a non-negative integer $k$ and a positive integer $i$ denote by $F(k, i)$ the number obtained by subtracting the total umber of red cards possessed by the players $A_1, A_2, \\dots, A_i$ from the total number of white cards possessed by the same set of players after the $k$-th turn. By 0-th turn we mean the initial distribution of red and white cards. Let us first prove the following lemma."
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_7977b4d52988",
      "language": "und",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "The circumference of the circle are divided into 2 disjoint arcs by the points X, Y. If the 2 points Z, W lie on a same arc given by this division, then by the well-known theorem on inscribed angles, we have $\\angle XZY = \\angle XWY$, and since these angles have the same direction, we have $(XZY) = (XWY)$ in this case. On the other hand, if Z and W lie on different arcs, from a well-known property of a quadrilateral inscribed in a circle, we can conclude that $\\angle XZY = 180^\\circ - \\angle XWY$. Since the direction of these angles are reversed in this situation, we have $(XZY) = 180^\\circ - (-(XWY)) = (XWY)$ in this case also.",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let us denote by (XYZ) the directed angle determined by the 3 points X, Y, Z. More precisely, we set (XYZ) to be equal to $\\alpha$ if the line XY comes on top of the line YZ when XY is rotated around Y counterclockwise by $\\alpha$ degrees. When an integral multiple of 180° is added to such an $\\alpha$, the same condition on the line XY will be satisfied, so, in the sequel we identify two values differing by an integral multiple of 180°, when we refer to directed angles. Let us prove the following simple lemma.\n\n**Lemma.** If four distinct points X, Y, Z, W lie on the circumference of a same circle, then $(XZY) = (XWY)$ holds."
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_f090df331a8a",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "$P'(Q')$ be the foot of the perpendicular line drawn from $P(Q)$, respectively) to the line $BC$. Then, since $P'(Q'$, respectively) is the midpoint of the line segment $HB(HC$, respectively), we have $P'Q' = \\frac{1}{2}BC = \\frac{1}{2}PQ$.\n\nIf we let $\\theta$ be the angle formed by the lines $PQ$ and $BC$ ($0^\\circ \\le \\theta \\le 90^\\circ$ and $\\theta = 0$ if the two lines are parallel), then we see that $P'Q' = PQ \\cos \\theta$ holds so that we get $\\cos \\theta = \\frac{1}{2}$ and therefore, $\\theta = 60^\\circ$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let us denote by $M, N$ the midpoints of the sides AB and AC of the triangle ABC, respectively. From the fact that $OM \\perp AM, ON \\perp AN$ it follows that the four points A, O, M, N lie on the circumference of a same circle, and hence by Lemma, we have $(MON) = (MAN)$. Since A, O, P, Q also lie on the circumference of a same circle, we also have $(POQ) = (PAQ)$. Furthermore, since the three points A, P, M lie on a same line and so do the three points A, Q, N, we have $(MAN) = (PAQ)$, and therefore, we conclude that $(MON) = (POQ)$, from which we obtain $(MOP) = (MON) - (PON) = (POQ) - (PON) = (NOQ)$.\n\nIf we denote by $B'$ the point situated symmetrically to the point B with respect to the point P, then we have $\\vec{AB}' = 2\\vec{MP}$ since $\\vec{BA} = 2\\vec{BM}$ and $\\vec{BB}' = 2\\vec{BP}$ hold. Similarly, if we let $C'$ be the point situated symmetrically to the point C with respect to the point Q, then we have $\\vec{AC}' = 2\\vec{NQ}$.\n\nSince $\\vec{MP} \\cdot (\\vec{NQ})$ coincides with the vector obtained by rotating $\\vec{OM} \\cdot (\\vec{ON})$, respectively counterclockwise by 90° and multiplied by $\\tan(MOP) (= \\tan(NOQ))$, we can conclude that $\\vec{AB}' \\cdot (\\vec{AC}')$ coincides with the vector obtained by rotating $\\vec{OM} \\cdot (\\vec{ON})$, respectively counterclockwise by 90° and multiplied by $2\\tan(MOP)$. Therefore, $\\vec{B'C}'$ coincides with the vector obtained by rotating $\\vec{MN}$ counterclockwise by 90° and multiplied by $2\\tan(MOP)$. In particular, we have $\\vec{B'C}' \\perp \\vec{BC}$, since $\\vec{MN} \\parallel \\vec{MN}$.\n\nDenote by $H$ the point of intersection of the lines $B'C'$ and $BC$, and let"
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_00c1e734688a",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "exists a c for which $f(c) \\neq c$. Since $f(0) = a = 0$. $c \\neq 0$, and hence we have by (3) $f(c) = 0$. By substituting $x = b$ and $y = c$ in (1), we obtain\n\n$$\nf(b+c)f(b-c) = b^2. \\quad (6)\n$$\n\nSince, $b \\neq 0$, $f(b+c) \\neq 0$, $f(b-c) \\neq 0$ must hold. As $f(0) = 0$, we also have $b+c \\neq 0$ and $b-c \\neq 0$. If we apply (3) to $u = b+c$ and $u = b-c$, we conclude that $f(b+c) = b+c$ and $f(b-c) = b-c$ and therefore, $f(b+c)f(b-c) = b^2-c^2$. However, since $c \\neq 0$, this contradicts (6). Thus, we conclude that if there exists a $b \\neq 0$ for which $f(b) \\neq 0$, then $f(x) = x$ for all $x$. It is easy to check that the function $f(x) = x$ satisfies the functional equation (1).\n\nAs we covered all the possibilities we conclude that the only functions $f$ that satisfy the functional equation (1) are:\n\n$$\nf(x) = x\n$$\n\nand\n\n$$\nf(x) = a \\text{ (if } x = 0\\text{); } 0 \\text{ (if } x \\neq 0\\text{)},\n$$\n\nwhere $a$ can be an arbitrary real number.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let $f(0) = a$ and in the given functional equation\n\n$$\nf(x+y)f(f(x)-y) = xf(x) - yf(y) \\quad (1)\n$$\n\nsubstitute $x = y = 0$, then we get\n\n$$\nf(0)f(a) = 0,\n$$\n\nfrom which we obtain $f(0) = 0$ or $f(a) = 0$. Since $f(0) = 0$ implies that $a = 0$ by definition, we see that $f(a) = 0$ always holds.\n\nLet $t$ be an arbitrary real number. By substituting $x = 0, y = t$, into (1), we obtain\n\n$$\nf(t)f(a-t) = -tf(t) \\quad (2)\n$$\n\nfrom which we can conclude that either $f(t) = 0$ or $f(a-t) = -t$ holds. Therefore, if $u \\neq 0$ and $f(u) \\neq 0$, then since $f(a-u) = -u \\neq 0$, by substituting $t = a-u$ we obtain $f(u) = u-a$. Consequently, we get the implication\n\n$$\nu \\neq 0 \\Rightarrow [f(u) = 0 \\text{ or } f(u) = u-a] \\quad (3)\n$$\n\nLet us first consider the case where $f(u) = 0$ holds for every $u \\neq 0$. We will show that such an $f$ satisfies the functional equation (1). If $a = 0$, then the function $f$ is the identically zero function, and it is obvious that the equation (1) is satisfied in this case. So, let us suppose that $a \\neq 0$. Since $vf(v) = 0$ holds for all $v$ by the right-hand side of the functional equation (1) is always 0. On the other hand, the left-hand side of (1) is $\\neq 0$ only when both $x+y=0$ and $f(x)-y=0$ are satisfied. We will show this cannot happen. For, if $x=y=0$, then $f(x)-y=f(0)=a \\neq 0$, while if $0 \\neq x = -y$, then $f(x)-y=-y \\neq 0$. Therefore, the left-hand side of (1) is always 0 also, and thus our function $f$ satisfies (1).\n\nNext we consider the case where there exists $u \\neq 0$ for which $f(u) \\neq 0$. Let us denote one such $u$ by $b$. If we substitute $x = a, y = -b$ in the equation (1), we get $f(a-b)f(b) = bf(-b)$, while by (2) we have $f(b)f(a-b) = -bf(b)$, and since $b \\neq 0$, we conclude that\n\n$$\nf(-b) = -f(b) \\neq 0 \\quad (4)\n$$\n\nWe also have, in view of (3) that\n\n$$\nf(b) = b - a, \\quad f(-b) = -b - a. \\quad (5)\n$$\n\nCombining (4) and (5), we get that $a = 0$, and therefore, $f(b) = b$. We now show that $f(x) = x$ must hold for all $x$ in this case. So, suppose that there"
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_28ada37f10c0",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "If the former holds, then we have $\\frac{1}{a_l} < p_{n+1} - p_n = \\frac{d}{3}$, while if the latter holds, then $\\frac{1}{a_l} < q'_{n+1} - q_n = -\\frac{d}{3}$. In either case, we get $-\\frac{3}{d} < a_l < \\frac{3}{d}$, which implies that for each $l \\in \\{1, \\dots, n+1\\}$, there are only finitely many possible integral values that $a_l$ can take. Furthermore if we fix $(a_1, \\dots, a_{n+1})$, the number of integers $b$ that satisfy the property $p_{n+1} < b + \\sum_{k=1}^{n+1} \\frac{1}{a_k} < q'_{n+1}$ is also finite.\n\nConsequently, we can conclude that there exist at most a finite number of elements of the set $A_{n+1}$ which lie in between $p_{n+1}$ and $q'_{n+1}$. If we define $q_{n+1}$ to be equal to the minimum of such exceptional numbers of $A_{n+1}$ if such exists and equal to $q'_{n+1}$ if there is no such exceptional element, then we can see that $p_{n+1}$ and $q_{n+1}$ will satisfy the statement of our assertion for $n+1$, and therefore, our induction process is complete and our assertion is proved.",
          "pages": [
            "P2",
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "We will show that there exists no positive integer $n$ for which the statement of the problem is satisfied. Let us denote by $A_n$ the set of all rational numbers $r$ for which there exist an integer $b$ and nonzero integers $a_1, \\dots, a_n$ such that $r = b + \\sum_{k=1}^{n} \\frac{1}{a_k}$. In order to establish our claim, it suffices to show that for any positive integer $n$ the set $A_n$ does not exhaust the set of all rational numbers. We will show more: in fact there exists a pair $p_n, q_n$ of rational numbers with $p_n < q_n$ such that there exists no member of the set $A_n$ which lies strictly in between $p_n$ and $q_n$. We will show the existence of such a pair recursively.\n\nFor $n = 1$ it suffices to take $p_1 = \\frac{1}{3}$ and $q_1 = \\frac{1}{2}$. Now suppose, we were able to choose for some $n$ a pair $p_n, q_n$ such that $p_n < q_n$ for which there is no element from the set $A_n$ lying strictly between $p_n$ and $q_n$. Set $d = q_n - p_n$, and define $p_{n+1} = p_n + \\frac{d}{3}$ and $q'_{n+1} = q_n - \\frac{d}{3}$. Suppose that there exist an integer $b$ and nonzero integers $a_1, \\dots, a_{n+1}$ for which\n\n$$\np_{n+1} < b + \\sum_{k=1}^{n+1} \\frac{1}{a_k} < q'_{n+1}\n$$\n\nholds.\n\nBy the induction hypothesis, we have for each $l \\in \\{1, \\dots, n+1\\}$, either\n\n$$\np_n \\ge b + \\sum_{k=1, k \\neq l}^{n+1} \\frac{1}{a_k}\n$$\n\nor\n\n$$\nb + \\sum_{k=1, k \\neq l}^{n+1} \\frac{1}{a_k} \\ge q_n.\n$$"
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_4eae76601bb8",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "$$\n-(501 + 250 + 125 + 62 + 31 + 15 + 7 + 3 + 1) = 1006.\n$$\n\nAlternatively, since\n\n$$\n\\begin{aligned} 1004 \\times 1005 \\times \\dots \\times 2008 &= \\frac{1 \\times 2 \\times 3 \\times 4 \\times \\dots \\times 2008}{1 \\times 2 \\times \\dots \\times 1003} \\\\ &= 1 \\times 3 \\times 5 \\times \\dots \\times 2007 \\times \\frac{2 \\times 4 \\times 6 \\times \\dots \\times 2006}{1 \\times 2 \\times 3 \\times \\dots \\times 1003} \\times 2008 \\\\ &= 1 \\times 3 \\times 5 \\times \\dots \\times 2007 \\times 2^{1003} \\times (2^3 \\times 251) \\\\ &= 2^{1006} \\times 1 \\times 3 \\times 5 \\times \\dots \\times 2007 \\times 251, \\end{aligned}\n$$\n\nfrom which we conclude that the given number can be divided by 2 exactly 1006 times.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "2. [1006].\n\nFor a real number $x$, denote by $\\lfloor x \\rfloor$ the greatest integer $\\le x$. Then, for every positive integer $n$, there are exactly $\\lfloor \\frac{n}{2} \\rfloor$ even numbers among $1, 2, \\dots, n$ and therefore, $1 \\times 2 \\times 3 \\times \\dots \\times n$ can be divided by 2 at least $\\lfloor \\frac{n}{2} \\rfloor$ times, and if we go through the division by 2 $\\lfloor \\frac{n}{2} \\rfloor$ times, then you get as the quotient $1 \\times 2 \\times \\dots \\times \\lfloor \\frac{n}{2} \\rfloor \\times q$, where $q$ is a product of odd integers. Similarly, $1 \\times 2 \\times \\dots \\times \\lfloor \\frac{n}{2} \\rfloor$ can be divided by 2 at least $\\lfloor \\frac{\\lfloor \\frac{n}{2} \\rfloor}{2} \\rfloor = \\lfloor \\frac{n}{4} \\rfloor$ times, and if we carry through the division by 2 so many times you get the quotient $1 \\times 2 \\times \\dots \\lfloor \\frac{n}{2} \\rfloor \\times q'$, where $q'$ is a product of odd integers. If you repeat this procedure $k-1$ times, where $k$ is the smallest positive integer for which $2^k > n$, then we see that $1 \\times 2 \\times 3 \\times \\dots \\times n$ can be divided by 2 exactly $\\lfloor \\frac{n}{2} \\rfloor + \\lfloor \\frac{n}{4} \\rfloor + \\lfloor \\frac{n}{8} \\rfloor + \\dots + \\lfloor \\frac{n}{2^k} \\rfloor$ times, since after you carry through the division by 2 so many times you end up as the quotient with a number which is a product of odd integers only.\n\nSince $2^{10} = 1024 < 2008 < 2028 = 2^{11}$, and $2^9 = 512 < 1003 < 1024 = 2^{10}$, we can conclude from the discussion above by letting $n = 2008$ and $1003$, respectively, that $1 \\times 2 \\times \\dots \\times 2008$ can be divided by 2 exactly $\\lfloor \\frac{2008}{2} \\rfloor + \\lfloor \\frac{2008}{4} \\rfloor + \\lfloor \\frac{2008}{8} \\rfloor + \\dots + \\lfloor \\frac{2008}{1024} \\rfloor$ times and that $1 \\times 2 \\times \\dots \\times 1003$ can be divided by 2 exactly $\\lfloor \\frac{1003}{2} \\rfloor + \\lfloor \\frac{1003}{4} \\rfloor + \\lfloor \\frac{1003}{8} \\rfloor + \\dots + \\lfloor \\frac{1003}{512} \\rfloor$ times. Since the desired answer is the difference of these two numbers, we get\n\n\\[\n(1004 + 502 + 251 + 125 + 62 + 31 + 15 + 7 + 3 + 1)\n\\]\n"
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_0a3399cd6431",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "(2) The largest number among $q_1, q_2, q_3$ is 2.\n\n(3) The largest number among $r_1, r_2, r_3$ is 1.\n\nLet us find the number of the triplets $(p_1, p_2, p_3)$ which satisfy the requirement (1). (We distinguish triplets obtained from the same 3 numbers by changing their order in the arrangement). There are $5^3 = 125$ triplets $(p_1, p_2, p_3)$ for which every $p_i$ ($i = 1, 2, 3$) satisfies $0 \\le p_i \\le 4$, and $4^3 = 64$ triplets for which $0 \\le p_i \\le 3$ for each $i$. The number of those triplets $(p_1, p_2, p_3)$ satisfying the condition (1) is given by the difference of these two numbers, and thus it is $125 - 64 = 61$. Similarly, the number of triplets $(q_1, q_2, q_3)$ satisfying the condition (2) is $3^3 - 2^3 = 19$ and the number of triplets $(r_1, r_2, r_3)$ satisfying (3) is $2^3 - 1^3 = 7$. Therefore, the number of triplets $(a, b, c)$ satisfying the condition of the problem is $61 \\times 19 \\times 7 = 8113$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "The prime factorization of 720 is given by $2^4 \\times 3^2 \\times 5^1$. Therefore, none of $a, b, c$ has prime factors other than 2, 3, 5, so we can write\n\n$$\na = 2^{p_1}3^{q_1}5^{r_1}, b = 2^{p_2}3^{q_2}5^{r_2}, c = 2^{p_3}3^{q_3}5^{r_3}.\n$$\n\nwhere, for each $i, p_i, q_i, r_i$ are nonnegative integers. The fact that the least common multiple of $a, b, c$ is $720 = 2^4 \\times 3^2 \\times 5^1$ is equivalent to the validity of all of the following three conditions:\n\n(1) The largest number among $p_1, p_2, p_3$ is 4."
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_a721461f0f8b",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Based on the results obtained so far, let us try to determine the coloring of the 4-th and further rows starting with the 4-th row and going down.\n\nTo begin with, we see that if the 4-th row exists, it must have exactly the same coloring pattern as the 3-rd row, since for each square on the 4-th row, the square on the 3-rd row lying immediately above it is already adjacent to each of the two different colors.\n\nThus we have that the color of (4.1) is blue and that of (4.2) is red, but then we see that we need the 5-th row since otherwise the square (4.1) would not be adjacent to a square colored black. But then since any of the squares on the 4-th row is not adjacent to a black square, we see that all the squares on the 5-th row must be colored black.\n\nThe square (5.1) colored black, then, is seen not to be adjacent to a red square, so we need the 6-th row, and the square (6.1) must be colored red. As the square (5.2) is not adjacent to a blue square, we see that the square (6.2) has to have the blue color; continuing in this way, we can conclude that the coloring of the 6-th row must be the one obtained by interchanging the blue and red in the 4-th row.\n\nRepeating the same argument we see that if for some positive integer $i$ the $(3i+1)$-th row exists, then both the $(3i+2)$-th row, and the $(3i+3)$-th row must exist and the coloring of the $(3i+1)$-th row must be identical with the $(3i)$-th row, the $(3i+2)$-th row has all squares colored black and the coloring of the $(3i+3)$-th row is obtained by interchanging red and blue in $(3i+1)$-th row. In particular, the number $m$ of rows necessary must be a multiple of 3.\n\nFurthermore, we see that for any positive integers $k, l$ any rectangular (or square) grid of $3k \\times 2l$ squares with the coloring scheme described as above satisfies the conditions of the problem. We also note that interchanging rows and columns (thereby turning the $i$-th row into the $i$-th column, and the $j$-th column into the $j$-th row, we can get from a $3k \\times 2l$ rectangular grid with a coloring satisfying the conditions of the problem a $2l \\times 3k$ rectangular grid with a coloring satisfying the conditions of the problem as well.\n\nThus, we conclude that in order to get a coloring of $m \\times n$ rectangular grids (with $m \\cdot n$ squares) which satisfies the conditions of the problem we have to have $m$ to be a multiple of 3 and $n$ to be a multiple of 2 (or $m$ to be a multiple of 2 and $n$ a multiple of 3.) And if these conditions are met, the desired coloring of the grid is obtained by folding the pattern of the $3 \\times 2$ upper left corner subgrid over the horizontal line lying in between the 3-rd row and the 4-th row and repeating the folding an appropriate number of times, and then folding the resulting $3k \\times 2$ grid over the vertical line lying in between the 2-nd and the 3-rd column appropriate number of times to obtain the coloring of $3k \\times 2l$ grid which satisfies the conditions of the problem (assuming that $m = 3k, n = 2l$.)\n\nNow we are in the position to answer the questions (1) and (2) of the problem:\n\n(1) From the discussion above, we see that the following arrangement of colors satisfy the condition of the problem.\n\nRemark: We see that from the discussion made above that the arrangement of colors satisfying the conditions of the problem is unique modulo the interchanges of colors. Therefore, the answer to the question (1) must be the one above or one of the 5 other patterns obtained by interchanging colors from the pattern above.\n\n(2) (3s, 2t), (2t, 3s) ($s, t$ are positive integers) are the desired answers.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let us denote by $(i, j)$ the unit square lying in the $i$-th row and $j$-th column in the given grid. For two unit squares lying in the same row, call the square corresponding to the smaller value of $j$ to be lying to the left of the other one, and the one corresponding to the larger value of $j$ to be lying to the right of the other one. Similarly, for two squares lying in the same column, call the one corresponding to the smaller value of $i$ to be lying above the other, and the one corresponding to the larger value of $i$ to be lying below the other.\n\nLet us first consider the case for $n=1$. Since there is only one square adjacent to the square lying on the top of the column, there can be no coloring of squares satisfying the conditions of the problem. Similarly, the desired coloring cannot exist in the case of $m=1$,\n\nWe will investigate the possibility of a desired coloring in the cases for $m \\ge 2$, $n \\ge 2$, by starting with the square located at the upper left corner.\n\nWithout loss of generality, we may assume that we start by coloring the square (1,1) by red, (1,2) by blue and (2,1) by black. Then, the color of (2,2) must be either blue or black, since if (2,2) is colored red, then (1,2) would become adjacent to two red squares, violating the required condition. We suppose that (2,2) is colored by black and continue our investigation. In case blue is chosen for (2,2), we will obtain a coloring satisfying the conditions of the problem if we interchange rows and columns and go through the argument with colors blue and black interchanged.\n\nNow since the color of (2,1) is black, it must become adjacent to a blue colored square. Therefore, we must have the 3rd row, and the square (3,1) must be colored blue. Then, we see that the square (3,2) must be colored red, since if it is colored blue, then the square (2,2) which was colored black would be adjacent to two blue squares violating the requirement of the problem, while if it is colored black, then the square (3,1) which was colored blue would be adjacent to two black squares, again violating the requirement.\n\nLet us next determine the colors of all the squares lying on the top three rows.\n\nIf there exists the 3rd column, we see that the color of each of the squares (1,3), (2,3), (3,3) must be the same as the color of its left neighbor, since otherwise the requirement of the problem will be violated, as each of the left neighbors is already adjacent to two squares with different colors, different also from its own.\n\nArguing in the same way, we see that if for some positive integer $i$ the $(2i+1)$-th column exists, then the $(2i+2)$-th column must exist, and therefore, the number $n$ of columns must necessarily be even, and the coloring of top 3 rows in this case must be as in the following diagram."
    },
    {
      "_provenance": {
        "folder": "JPN_2008",
        "pages_map": {
          "P0": "page31.md",
          "P1": "page32.md",
          "P2": "page33.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2008.pdf",
      "booklet_url": "https://drive.google.com/open?id=183yxhcTgopz0YprGPq6mJHevtf1lTDw2",
      "competition name": "The 18th Japanese Mathematical Olympiad; The 6th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_a23c1bedbe11",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Remark: We see that from the discussion made above that the arrangement of colors satisfying the conditions of the problem is unique modulo the interchanges of colors. Therefore, the answer to the question (1) must be the one above or one of the 5 other patterns obtained by interchanging colors from the pattern above.\n\n(2) (3s, 2t), (2t, 3s) ($s, t$ are positive integers) are the desired answers.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Now we are in the position to answer the questions (1) and (2) of the problem:\n\n(1) From the discussion above, we see that the following arrangement of colors satisfy the condition of the problem."
    }
  ],
  "2009": [
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_329a9856fdbe",
      "language": "und",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "[9996]\n\nNote that $n^2 + 4n = (n + 2)^2 - 4$ and that if $m < n$, then $m^2 + 4m < n^2 + 4n$.\nSince $100^2 = 10000$, we see that the desired solution is either $100^2 - 4 = 9996$ or\n$101^2 - 4 = 10197$. whichever has the smaller difference (in absolute value) from\n$10000$. So, the answer is 9996.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Determine the number which can be represented in the form $n^2 + 4n$ for some positive integer $n$ and for which the absolute value of its difference from the number 10000 is the smallest."
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_b424342d27c0",
      "language": "und",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/Japan_2009_p3_data_49214a351a.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "$\\frac{8}{3}$\n\nLet $C_1, C_2$ be the center of the circle $O_1, O_2$, respectively. Since the circles $O_1$ and $O_2$ are externally tangent at the point $P$, 3 points $C_1, P$ and $C_2$ are situated on a straight line in this order. Therefore, $\\angle C_1PA = \\angle C_2PB$ holds. As the triangles $C_1PA$ and $C_2PB$ are isosceles, we have $\\angle C_1AP = \\angle C_1PA = \\angle C_2PB = \\angle C_2BP$. Therefore, the triangles $\\triangle C_1PA$ and $\\triangle C_2PB$ are similar, and we get $AP : PB = C_1P : C_2P = 2 : 4$, from which we conclude that $PB = \\frac{4}{2+4} \\times AB = \\frac{8}{3}$.\n\n% IMAGE: ![](images/Japan_2009_p3_data_49214a351a.png)\n\nAlternate Solution:\n\nSuppose we draw the graphs of the circles $O_1$ and $O_2$ tangent externally at the point $P$, rotate the picture by $180^\\circ$ around the point $P$, and then enlarge the result 2 times. Then we see that the original circle $O_1$ gets mapped onto the circle which is originally $O_2$, and the point $A$ on the original circle $O_1$ gets mapped onto the point $B$ on the original circle $O_2$. Therefore, we can conclude that $AP : PB = 1 : 2$, and we can deduce as in the preceding argument that $PB = \\frac{8}{3}$.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/Japan_2009_p1_data_3009bf1fd0.png",
          "title": ""
        }
      ],
      "statement_latex": "A circle $O_1$ of radius 2 and a circle $O_2$ of radius 4 are externally tangent at the point $P$. Points $A$ and $B$, both distinct from the point $P$ are chosen on the circumference of the circles $O_1$ and $O_2$, respectively, in such a way that the points $A, P$ and $B$ are collinear. Determine the length of the line segment $PB$ if the length of $AB$ is 4.\n\n% IMAGE: ![](images/Japan_2009_p1_data_3009bf1fd0.png)"
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_7a35c2f528dd",
      "language": "und",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "[(1, 2, 11), (1, 11, 2), (2, 3, 7)]\n\nTaking the sum and the difference of the corresponding sides of the given 2 equations, we obtain, respectively\n\n\\[\n(ab + c) + (a + bc) = (b + 1)(a + c) = 36\n\\]\n\n\\[\n(a + bc) - (ab + c) = (b - 1)(c - a) = 10\n\\]\n\nSince both a and c are positive integers, we see that b+1, b-1 are factors of 36, 10, respectively. From this fact, we can conclude that only possible values of b are 2, 3, 11.",
          "pages": [
            "P2"
          ],
          "status": "truncated"
        }
      ],
      "statement_images": [],
      "statement_latex": "Determine all the triples $(a, b, c)$ of positive integers which satisfy the following 2 identities. Distinguish two triples which are obtained by permuting the order of the same set of three numbers.\n\n\\[\nab + c = 13, \\quad a + bc = 23.\n\\]"
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_79c352ab9a06",
      "language": "und",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Note that $n^2 + 4n = (n + 2)^2 - 4$ and that if $m < n$, then $m^2 + 4m < n^2 + 4n$.\nSince $100^2 = 10000$, we see that the desired solution is either $100^2 - 4 = 9996$ or\n$101^2 - 4 = 10197$. whichever has the smaller difference (in absolute value) from\n$10000$. So, the answer is 9996.",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "1. [9996]\n\nNote that $n^2 + 4n = (n + 2)^2 - 4$ and that if $m < n$, then $m^2 + 4m < n^2 + 4n$.\nSince $100^2 = 10000$, we see that the desired solution is either $100^2 - 4 = 9996$ or\n$101^2 - 4 = 10197$. whichever has the smaller difference (in absolute value) from\n$10000$. So, the answer is 9996."
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_8f0f4662c3fb",
      "language": "und",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P0"
              ],
              "path": "images/Japan_2009_p3_data_49214a351a.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "Let $C_1, C_2$ be the center of the circle $O_1, O_2$, respectively. Since the circles $O_1$ and $O_2$ are externally tangent at the point $P$, 3 points $C_1, P$ and $C_2$ are situated on a straight line in this order. Therefore, $\\angle C_1PA = \\angle C_2PB$ holds. As the triangles $C_1PA$ and $C_2PB$ are isosceles, we have $\\angle C_1AP = \\angle C_1PA = \\angle C_2PB = \\angle C_2BP$. Therefore, the triangles $\\triangle C_1PA$ and $\\triangle C_2PB$ are similar, and we get $AP : PB = C_1P : C_2P = 2 : 4$, from which we conclude that $PB = \\frac{4}{2+4} \\times AB = \\frac{8}{3}$.\n\n% IMAGE: ![](images/Japan_2009_p3_data_49214a351a.png)\n\nAlternate Solution:\n\nSuppose we draw the graphs of the circles $O_1$ and $O_2$ tangent externally at the point $P$, rotate the picture by $180^\\circ$ around the point $P$, and then enlarge the result 2 times. Then we see that the original circle $O_1$ gets mapped onto the circle which is originally $O_2$, and the point $A$ on the original circle $O_1$ gets mapped onto the point $B$ on the original circle $O_2$. Therefore, we can conclude that $AP : PB = 1 : 2$, and we can deduce as in the preceding argument that $PB = \\frac{8}{3}$.",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/Japan_2009_p3_data_49214a351a.png",
          "title": ""
        }
      ],
      "statement_latex": "2. $\\frac{8}{3}$\n\nLet $C_1, C_2$ be the center of the circle $O_1, O_2$, respectively. Since the circles $O_1$ and $O_2$ are externally tangent at the point $P$, 3 points $C_1, P$ and $C_2$ are situated on a straight line in this order. Therefore, $\\angle C_1PA = \\angle C_2PB$ holds. As the triangles $C_1PA$ and $C_2PB$ are isosceles, we have $\\angle C_1AP = \\angle C_1PA = \\angle C_2PB = \\angle C_2BP$. Therefore, the triangles $\\triangle C_1PA$ and $\\triangle C_2PB$ are similar, and we get $AP : PB = C_1P : C_2P = 2 : 4$, from which we conclude that $PB = \\frac{4}{2+4} \\times AB = \\frac{8}{3}$.\n\n% IMAGE: ![](images/Japan_2009_p3_data_49214a351a.png)\n\nAlternate Solution:\n\nSuppose we draw the graphs of the circles $O_1$ and $O_2$ tangent externally at the point $P$, rotate the picture by $180^\\circ$ around the point $P$, and then enlarge the result 2 times. Then we see that the original circle $O_1$ gets mapped onto the circle which is originally $O_2$, and the point $A$ on the original circle $O_1$ gets mapped onto the point $B$ on the original circle $O_2$. Therefore, we can conclude that $AP : PB = 1 : 2$, and we can deduce as in the preceding argument that $PB = \\frac{8}{3}$."
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_2ac15daf9bd3",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "If $b = 2$, we obtain by solving the simultaneous equations $a + c = 12, c - a = 10$ that $(a, b, c) = (1, 2, 11)$.\nIf $b = 3$, we obtain by solving the simultaneous equations $a + c = 9, c - a = 5$ that $(a, b, c) = (2, 3, 7)$\nIf $b = 11$, we obtain by solving the simultaneous equations $a + c = 3, c - a = 1$ that $(a, b, c) = (1, 11, 2)$.\n\nSince it is easy to check that all of these triples satisfy the requirement, the\ndesired answer is (1, 2, 11), (1, 11, 2), (2, 3, 7).\n\n**Alternate Solution:**\n\nSince $ab + c = 13$, we have $abc = (13 - c)c = -(c - \\frac{13}{2})^2 + \\frac{169}{4} \\le \\frac{169}{4}$, but since $a, b, c$ are positive integers, we must have $abc \\le 42$. Since we also have $a + bc = 23$, we see that only possible values that $a$ can have are 1, 2, 21, 22.\nIf $a = 21$ or $a = 22$, then $ab + c > 21$, so the condition $ab + c = 13$ is not satisfied.\nIf $a = 1$, we obtain by solving the simultaneous equations $b + c = 13, bc = 22$ that $(b, c) = (2, 11), (11, 2)$.\nIf $a = 2$, we obtain by solving the simultaneous equations $2b + c = 13, bc = 21$ that $(b, c) = (3, 7)$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "3. [(1, 2, 11), (1, 11, 2), (2, 3, 7)]\n\nTaking the sum and the difference of the corresponding sides of the given 2 equations, we obtain, respectively\n\n\\[\n(ab + c) + (a + bc) = (b + 1)(a + c) = 36\n\\]\n\n\\[\n(a + bc) - (ab + c) = (b - 1)(c - a) = 10\n\\]\n\nSince both a and c are positive integers, we see that b+1, b-1 are factors of 36, 10, respectively. From this fact, we can conclude that only possible values of b are 2, 3, 11."
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_2db5a0618302",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "If there is a pair consisting of an yellow ball and a blue one to be placed next to each other, let us regard the pair combined as one ball and count the number of 5 non-red balls consisting of 2 yellow, 2 blue and 1 combination into 5 spots which are located in between adjacent pair of red balls. This number is $\\frac{5!}{2!2!1!} = 30$. Since one can place an yellow ball on the left or blue ball on the left when you combine a pair of balls, yielding distinguishable placements in the end, we get $2 \\times 30 = 60$ distinguishable placements in which one pair of an yellow and a blue are placed next to each other.\n\nThus, we have altogether $40 + 60 = 100$ distinguishable ways of lining up these balls.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "5. [100\\text{ways}]\n\nSince at least one non-red ball has to be placed between any pair of red balls and since there are 6 red balls and 6 non-red balls, it is easy to see that an yellow and a blue balls can be placed next to each other at most once.\n\nIn the case where no 2 non-red balls are placed next to each other, red balls and non-red balls alternate in their placement, and if the red ball is placed at the left-most position, then the number of distinguishable ways to place balls to satisfy the requirement is equal to the number of placing 3 non-distinguishable yellow balls and 3 non-distinguishable blue balls in 6 places (in between 2 adjacent red balls and at the right-most spot), which is equal to $\\frac{6!}{3!13!} = 20$. Similarly, if red-balls and non-red balls are placed alternatively, but the left-most ball has to be non-red, there are also 20 ways of placing the balls. Therefore, there are $20 \\times 2 = 40$ ways of placing the balls in which red balls and non-red balls alternate."
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_88876a83d576",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "4\n\na_4(x^{12} - x^4) + a_3(x^9 - x^3) + a_2(x^6 - x^2) + a_1(x^3 - x)$. If we divide $x^{12} - x^4$, $x^9 - x^3$ and $x^6 - x^2$ by $x^5 - 1$ we get the remainders $x^2 - x^4$, $x^4 - x^3$ and $x - x^2$, respectively. Therefore, the remainder which results when we divide $f(x^3) - f(x)$ by $x^5 - 1$ is $(-a_4 + a_3)x^4 + (-a_3 + a_1)x^3 + (a_4 - a_2)x^2 + (a_2 - a_1)x$. Consequently, the fact that $f(x^3) - f(x)$ is divisible by $x^5 - 1$ is equivalent to the validity of $-a_4 + a_3 = -a_3 + a_1 = a_4 - a_2 = a_2 - a_1 = 0$. These together imply that $a_1 = a_2 = a_3 = a_4$ so that we can conclude that $f(x)$ must be of the form $f(x) = ax^4 + ax^3 + ax^2 + ax + b$, with some pair of real numbers $a, b$. When this is the case, we can determine from $f(x^3) - f(x) = (x^5 - 1)g(x)$ that $g(x) = ax^7 + ax^4 + ax^2 + ax$. From the fact that neither $f(x)$ nor $g(x)$ are identically zero, we get that the constant $a$ must be non-zero and $b$ can be arbitrary. Hence we see that $(f(x), g(x)) = (ax^4 + ax^3 + ax^2 + ax + b, ax^7 + ax^4 + ax^2 + ax)$ gives a pair $(f(x), g(x))$, satisfying the given functional equation. Since any polynomial of degree 4 or less can be represented in the form $a_4x^4 + a_3x^3 + a_2x^2 + a_1x + a_0$ for some choice of real numbers $a_4, a_3, a_2, a_1, a_0$, the argument above shows that the polynomial $f(x)$ desired must be of the form $f(x) = ax^4 + ax^3 + ax^2 + ax + b$ for some choice of non-zero real number $a$ and a real number $b$.\n\nAlternate Solution:\n\nWe can use the following theorem from the complex function theory (de Moivre's Theorem):\n\nFor an arbitrary angle $\\theta$ and a positive integer $n$\n\n$$\n(\\cos \\theta + i \\sin \\theta)^n = \\cos n\\theta + i \\sin n\\theta\n$$\n\nholds. Here $i$ represents the imaginary unit $\\sqrt{-1}$.\n\nNow, if we let $\\theta = \\frac{2\\pi}{5}$ and set $\\omega = \\cos\\theta + i\\sin\\theta$, then by de Moivre's Theorem, we get $\\omega^5 = 1$. For any positive integer $k$, we also have $(\\omega^k)^5 = (\\omega^5)^k = 1$ so that each of the five numbers $1, \\omega, \\omega^2, \\omega^3, \\omega^4$ gives a complex-valued root to the equation $x^5 - 1 = 0$. From the fact that $\\omega^k = \\cos k\\theta + i \\sin k\\theta$, it follows that these five numbers are all distinct, and therefore by the factorization theorem, we obtain that\n\n$$\nx^5 - 1 = (x - 1)(x - \\omega)(x - \\omega^2)(x - \\omega^3)(x - \\omega^4).\n$$\n\nDividing both sides of the equation above by $x - 1$, we get\n\n$$\nx^4 + x^3 + x^2 + x + 1 = (x - \\omega)(x - \\omega^2)(x - \\omega^3)(x - \\omega^4).\n$$\n\nIf we substitute $x = \\omega, \\omega^2, \\omega^3, \\omega^4$ into the identity $f(x^3) - f(x) = (x^5 - 1)g(x)$, we obtain, since $x^5 - 1 = 0$,\n\n$$\nf(\\omega^3) = f(\\omega), \\quad f(\\omega^6) = f(\\omega^2), \\quad f(\\omega^9) = f(\\omega^3), \\quad f(\\omega^{12}) = f(\\omega^4),\n$$\n\nrespectively. Since $\\omega^6 = \\omega$, $\\omega^9 = \\omega^4$, $\\omega^{12} = \\omega^2$, we see that the identities $f(\\omega) = f(\\omega^2) = f(\\omega^3) = f(\\omega^4)$ hold. Let $b$ denote the common value of these quantities, then since $f(\\omega) - b = f(\\omega^2) - b = f(\\omega^3) - b = f(\\omega^4) - b = 0$, we can conclude from the factorization theorem that $f(x) - b$ is divisible by\n\n$$\n(x - \\omega)(x - \\omega^2)(x - \\omega^3)(x - \\omega^4) = x^4 + x^3 + x^2 + x + 1.\n$$\n\nTherefore, there exists a polynomial $h(x)$ such that $f(x) = h(x)(x^4 + x^3 + x^2 + x + 1) + b$.\n\nIf $h(x) = 0$, we get $f(x^3) - f(x) = 0$, which forces $g(x) = 0$, contradicting the assumption. Therefore, we must have $h(x) \\neq 0$, and this shows that the degree of $f(x)$ must be at least 4. When $h(x)$ is a non-zero constant function, then the\n\ncorresponding $f(x)$ has the minimal degree of 4, and if we write $h(x) = a$ for some non-zero number $a$, we get\n\n$$\n(f(x), g(x)) = (a(x^4 + x^3 + x^2 + x) + b, a(x^7 + x^4 + x^2 + x))\n$$\n\nas before.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "## 8. [$ax^4 + ax^3 + ax^2 + ax + b$] Here, $a, b$ are real numbers and $a \\neq 0$.\n\nLet us try to find a polynomial $f(x)$ of degree at most 4, which satisfies the condition of the problem with some non-zero polynomial $g(x)$. As the given equation can be rewritten in the form $f(x^3) - f(x) = (x^5 - 1)g(x)$, we see that $f(x^3) - f(x)$ must be divisible by $x^5 - 1$. Let us represent $f(x)$ as $f(x) = a_4x^4 + a_3x^3 + a_2x^2 + a_1x + a_0$, where $a_4, a_3, a_2, a_1, a_0$ are real numbers. Then, we get $f(x^3) - f(x) =$"
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_c772e4dacf32",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "This room assignment clearly satisfies the condition of the problem. There are 3 other choices for the combination of the rooms for $I_{AB}$ and $I_{CD}$ to go in to start the argument above. But for each of the choices made, the exactly same argument as above, gives a room assignment (all distinct) which satisfies the requirement. There are also $\\frac{4!}{2!2!}$ ways of choosing the languages A, B and once the choice is made C, D are determined. There are 2 \\times 2 ways of determining the rooms for $I_{AB}$, $I_{CD}$ to go in, and once these are decided, then as we saw above a room assignment for all the interpreters satisfying the requirement of the problem is determined uniquely. Hence the number of room assignments satisfying the requirement under the condition (i) is $\\frac{4!}{2!2!} \\times 2 \\times 2 = 24$.\n\nNext we consider the case (ii),\n\nLet the language *L* be the common language for both of the rooms $R_{L_1}$ and $R_{L_2}$. Let $(R_A, A)$, $(R_B, B)$, $(R_C, C)$ be the 3 remaining rooms with their respective common languages. *L*, *A*, *B*, *C* are distinct languages. Let *X* be the remaining language different from any of *L*, *A*, *B*, *C*. All of the 4 people staying in the rooms $R_{L_1}$ and $R_{L_2}$ are proficient in the language *L*, so none of the people staying in other 3 rooms are proficient in *L*. The interpreter $I_{XA}$ cannot stay in any of the rooms $R_{L_1}$, $R_{L_2}$, $R_B$, $R_C$ because the common language of the room he stays must either be *A* or *X*. Hence he has to stay in the room $R_A$. Similarly, $I_{XB}$ has to stay in the room $R_B$ and $I_{XC}$ in the room $R_C$. The interpreter $I_{AB}$ can stay either in $R_A$ or $R_B$. Let us suppose that he stays in $R_A$. (Subsequent argument will work in the same way if we assume that $I_{AB}$ stays $R_B$ instead.) Then, 2 people to stay in the room $R_A$ are decided so the interpreter $I_{AC}$ has to stay in $R_C$, and this determines the 2 people who should go into the room $R_C$, which in turn determines that the interpreter $I_{BC}$ has to go into the room $R_B$. Remaining 4 interpreters $I_{LA}$, $I_{LB}$, $I_{LC}$, $I_{LX}$ can go into the remaining 2 rooms $R_{L_1}$ and $R_{L_2}$ (with 2 people in a room) in any combination. There are $\\frac{4!}{2!2!} = 3$ ways of determining who should occupy these 2 rooms (Note that we do not distinguish the rooms in counting the number of possible distributions.) As we saw above, if we decide whether the interpreter $I_{AB}$ goes into the room $R_A$ or $R_B$, then the occupants of the rooms $R_A$, $R_B$, $R_C$ will be determined completely. Thus, when the combination of common languages is determined, then there are $3 \\times 2 = 6$ ways of room assignments. The combination of the common languages is determined if the language *L* is picked from the 5 given 1 languages and then the language *X* is chosen from the remaining 4. Consequently, there are $5 \\times 4 = 20$ ways of determining the combination of the common languages, and the number of room assignments satisfying the requirement under the condition (ii) is $6 \\times 20 = 120$ and the total number of the room assignments is $24 + 120 = 144$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let us call the interpreter proficient in the pair of different languages X, Y $I_{XY}$. Suppose the interpreters are assigned to 5 rooms satisfying the condition of the problem. For each room call the language which the 2 occupants of the room can speak the **common** language of the room. By assumptions made for the problem, for each of the languages, say L, there are exactly 4 interpreters who are proficient in L. If there are 3 or more rooms having a language L as the common language, then there must be $2 \\times 3 = 6$ or more interpreters who are proficient in L, which contradicts the assumption. Hence for each of the languages, the number of rooms which have that language as the common language must be at most 2. Suppose two different languages $L_1$ and $L_2$ are the common languages of 2 different rooms, then 4 interpreters proficient in the language $L_1$ must be staying in the 2 rooms whose common language is $L_1$, 4 interpreters proficient in the language $L_2$ must be staying in the 2 rooms whose common language is $L_2$. But, then the interpreter $I_{L_1 L_2}$ would have to be staying in 2 different rooms, which is impossible. Therefore, the following 2 cases exhaust all the possibilities:\n\n(i) The common languages are all different for the 5 rooms.\n\n(ii) There exists a pair of rooms whose common languages are the same.\n\nFirst, let us consider the case (i).\n\nSince there are 5 languages and 5 rooms, every language is a common language of one and only one room. Denote by G the German, and the room whose common language is German by $R_G$. Suppose languages A, B are the languages different from German that the 2 interpreters staying in $R_G$ are proficient in, respectively. There are 2 other interpreters besides those 2 in the room $R_G$ who are proficient in German. These 2 are staying in different rooms, since if they are staying in a same room, then there would be 2 rooms whose common language is German, contradicting the assumption of (i). So, let those 2 rooms be $R_C$ and $R_D$ with respective common language being C and D. If the languages C and A are the same, then there would be 2 interpreters whose proficient languages are G and A, contradicting the assumption. Thus C has to be different from A, and for the same reason, C is different from B. Similarly, D has to be different from both A and B, now the common languages of the 2 rooms besides $R_G, R_C, R_D$ must be A and B, respectively. Call these 2 rooms $R_A$ and $R_B$, respectively. We know that the interpreter $I_{AB}$ must be staying in the room $R_A$ or $R_B$, and $I_{CD}$ in $R_C$ or $R_D$. Suppose $I_{AB}$ is staying in the room $R_A$ and $I_{CD}$ is staying in the room $R_C$. Then, there are 1 spot each in the rooms $R_D$ and $R_A$, 2 spots in the room $R_B$ to be filled by the remaining 4 interpreters $I_{AC}, I_{AD}, I_{BC}, I_{BD}$. Among these 4 interpreters, only 2 who are proficient in the language B, namely $I_{BC}$ and $I_{BD}$ can go into the room $R_B$. But then, the only interpreter who can go into the room $R_D$ is $I_{AD}$ who is proficient in the language D, and the remaining interpreter $I_{AC}$ goes into the room $R_A$. Summarizing we get the room assignment as follows:\n\n$$\nR_G : I_{GA}, I_{GB}, R_A : I_{AB}, I_{AC}, R_B : I_{BC}, I_{BD}, R_C : I_{GC}, I_{CD}, R_D : I_{GD}, I_{AD}.\n$$"
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_740d3bbb88ce",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "In particular, if we choose, for each fixed $n$ such that $1 \\le n \\le 99$, $a$ and $b$ in such a way that $a+b=20$ and $ab=n$ are satisfied, then we get\n\n$$\n\\sqrt{20 + 2\\sqrt{n}} = \\sqrt{10 + \\sqrt{100-n}} + \\sqrt{10 - \\sqrt{100-n}}\n$$\n\nTherefore, we obtain\n\n$$\n\\begin{aligned} \\sqrt{2}S &= \\sum_{n=1}^{99} \\sqrt{20 + 2\\sqrt{n}} = \\sum_{n=1}^{99} \\left( \\sqrt{10 + \\sqrt{100-n}} + \\sqrt{10 - \\sqrt{100-n}} \\right) \\\\ &= \\sum_{n=1}^{99} \\left( \\sqrt{10 + \\sqrt{n}} + \\sqrt{10 - \\sqrt{n}} \\right) = S + T, \\end{aligned}\n$$\n\nwhich yields $(\\sqrt{2} - 1)S = T$, and therefore, we get $\\frac{S}{T} = \\frac{1}{\\sqrt{2}-1} = 1 + \\sqrt{2}$. as the desired solution to the problem.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "10. $[1 + \\sqrt{2}]$\n\nLet us denote by *S* and *T* the numerator and the denominator, respectively of the fraction to be computed. Namely,\n\n$$\nS = \\sum_{n=1}^{99} (\\sqrt{10 + \\sqrt{n}}), \\quad T = \\sum_{n=1}^{99} (\\sqrt{10 - \\sqrt{n}}).\n$$\n\nFirst, we note that for a pair of positive real numbers *a*, *b*, we have\n\n$$\n\\sqrt{a+b+2\\sqrt{ab}} = \\sqrt{a} + \\sqrt{b}.\n$$"
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_18254d859737",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "then we have\n\n$$\n\\begin{align*}\n2T &= \\sum_{k=1}^{9} \\sum_{r=1}^{43} \\left( \\left[ \\frac{kr}{44} \\right] + \\left[ \\frac{k(44 - r)}{44} \\right] \\right) \\\\\n&= \\sum_{k=1}^{9} \\sum_{r=1}^{43} \\left( \\left[ \\frac{kr}{44} \\right] + \\left[ k - \\frac{kr}{44} \\right] \\right)\n\\end{align*}\n$$\n\nand\n\n$$\n\\left[ \\frac{kr}{44} \\right] + \\left[ k - \\frac{kr}{44} \\right] \\equiv \\begin{cases} k, & \\frac{kr}{44} \\text{ is an integer} \\\\ k-1, & \\frac{kr}{44} \\text{ is not an integer} \\end{cases}\n$$\n\nWhen $k$ and $r$ vary over $1 \\le k \\le 9$, $1 \\le r \\le 43$, respectively, the quantity $\\frac{kr}{44}$ takes an integer-value only when the pair $(k,r)$ is one of the following 8 pairs: (4, 11), (8, 11), (2, 22), (4, 22), (6, 22), (8, 22), (4, 33), (8, 33). Therefore, we have\n\n$$\n\\begin{align*}\n2T - 8 &= \\sum_{k=1}^{9} \\sum_{r=1}^{43} (k - 1) \\\\\n&= \\sum_{k=1}^{9} 43(k - 1) \\\\\n&= 43 \\cdot \\frac{9 \\cdot 8}{2} = 1548.\n\\end{align*}\n$$\n\nFrom this it follows that $T = \\frac{1548+8}{2} = 778$, and we finally obtain that $S = 1935/2 - 778 = 379/2$ as the desired answer.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "11. $[\\frac{379}{2}]$.\n\nThe left-hand side of the given equation represents an integer. So, the right-hand side must also be an integer and thus we can write $x = \\frac{n}{44}$, for some integer $n$. We then have $n = 44m + r$, where $m, r$ are integers and $0 \\le r \\le 43$. Therefore, the given equation can be transformed as\n\n$$\n\\begin{aligned} \\sum_{k=1}^{9} \\left[ k \\left( m + \\frac{r}{44} \\right) \\right] &= 44m + r \\iff \\sum_{k=1}^{9} km + \\sum_{k=1}^{9} \\left[ \\frac{kr}{44} \\right] = 44m + r \\\\ \\iff m &= r - \\sum_{k=1}^{9} \\left[ \\frac{kr}{44} \\right]. \\end{aligned}\n$$\n\nFrom the transformed equation above, it is clear that if we fix $r$, then a corresponding $m$ can be determined uniquely. Therefore, there are 44 real solutions $x$ of the given equation since there are 44 possible values $r$ can take. Let us denote by $S$ the sum of these 44 solutions $x$, and write $m_r$ for the value of $m$ corresponding to $r$. Then we have\n\n$$\n\\begin{aligned} 44S &= \\sum_{r=0}^{43} (44m_r + r) = \\sum_{r=0}^{43} \\left( 44 \\left( r - \\sum_{k=1}^{9} \\left[ \\frac{kr}{44} \\right] \\right) + r \\right) \\\\ &= \\sum_{r=0}^{43} 45r - 44 \\sum_{r=0}^{43} \\sum_{k=1}^{9} \\left[ \\frac{kr}{44} \\right] \\\\ &= 45 \\cdot \\frac{43 \\cdot 44}{2} - 44 \\sum_{r=0}^{43} \\sum_{k=1}^{9} \\left[ \\frac{kr}{44} \\right], \\end{aligned}\n$$\n\nfrom which it follows that\n\n$$\nS = \\frac{45 \\cdot 43}{2} - \\sum_{r=0}^{43} \\sum_{k=1}^{9} \\left[ \\frac{kr}{44} \\right] = \\frac{1935}{2} - \\sum_{r=0}^{43} \\sum_{k=1}^{9} \\left[ \\frac{kr}{44} \\right].\n$$\n\nNow we let $T$ be given by\n\n$$\nT = \\sum_{r=0}^{43} \\sum_{k=1}^{9} \\left[ \\frac{kr}{44} \\right] = \\sum_{r=1}^{43} \\sum_{k=1}^{9} \\left[ \\frac{kr}{44} \\right] = \\sum_{k=1}^{9} \\sum_{r=1}^{43} \\left[ \\frac{kr}{44} \\right],\n$$"
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_18822f13fd7b",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "then we have\n\n$$\n\\begin{align*}\n2T &= \\sum_{k=1}^{9} \\sum_{r=1}^{43} \\left( \\left[ \\frac{kr}{44} \\right] + \\left[ \\frac{k(44 - r)}{44} \\right] \\right) \\\\\n&= \\sum_{k=1}^{9} \\sum_{r=1}^{43} \\left( \\left[ \\frac{kr}{44} \\right] + \\left[ k - \\frac{kr}{44} \\right] \\right)\n\\end{align*}\n$$\n\nand\n\n$$\n\\left[ \\frac{kr}{44} \\right] + \\left[ k - \\frac{kr}{44} \\right] \\equiv \\begin{cases} k, & \\frac{kr}{44} \\text{ is an integer} \\\\ k-1, & \\frac{kr}{44} \\text{ is not an integer} \\end{cases}\n$$\n\nWhen $k$ and $r$ vary over $1 \\le k \\le 9$, $1 \\le r \\le 43$, respectively, the quantity $\\frac{kr}{44}$ takes an integer-value only when the pair $(k,r)$ is one of the following 8 pairs: (4, 11), (8, 11), (2, 22), (4, 22), (6, 22), (8, 22), (4, 33), (8, 33). Therefore, we have\n\n$$\n\\begin{align*}\n2T - 8 &= \\sum_{k=1}^{9} \\sum_{r=1}^{43} (k - 1) \\\\\n&= \\sum_{k=1}^{9} 43(k - 1) \\\\\n&= 43 \\cdot \\frac{9 \\cdot 8}{2} = 1548.\n\\end{align*}\n$$\n\nFrom this it follows that $T = \\frac{1548+8}{2} = 778$, and we finally obtain that $S = 1935/2 - 778 = 379/2$ as the desired answer.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "11. \\left[\\frac{379}{2}\\right].\n\nThe left-hand side of the given equation represents an integer. So, the right-hand side must also be an integer and thus we can write $x = \\frac{n}{44}$, for some integer $n$. We then have $n = 44m + r$, where $m, r$ are integers and $0 \\le r \\le 43$. Therefore, the given equation can be transformed as\n\n$$\n\\begin{aligned} \\sum_{k=1}^{9} \\left[ k \\left( m + \\frac{r}{44} \\right) \\right] &= 44m + r \\iff \\sum_{k=1}^{9} km + \\sum_{k=1}^{9} \\left[ \\frac{kr}{44} \\right] = 44m + r \\\\ \\iff m &= r - \\sum_{k=1}^{9} \\left[ \\frac{kr}{44} \\right]. \\end{aligned}\n$$\n\nFrom the transformed equation above, it is clear that if we fix $r$, then a corresponding $m$ can be determined uniquely. Therefore, there are 44 real solutions $x$ of the given equation since there are 44 possible values $r$ can take. Let us denote by $S$ the sum of these 44 solutions $x$, and write $m_r$ for the value of $m$ corresponding to $r$. Then we have\n\n$$\n\\begin{aligned} 44S &= \\sum_{r=0}^{43} (44m_r + r) = \\sum_{r=0}^{43} \\left( 44 \\left( r - \\sum_{k=1}^{9} \\left[ \\frac{kr}{44} \\right] \\right) + r \\right) \\\\ &= \\sum_{r=0}^{43} 45r - 44 \\sum_{r=0}^{43} \\sum_{k=1}^{9} \\left[ \\frac{kr}{44} \\right] \\\\ &= 45 \\cdot \\frac{43 \\cdot 44}{2} - 44 \\sum_{r=0}^{43} \\sum_{k=1}^{9} \\left[ \\frac{kr}{44} \\right], \\end{aligned}\n$$\n\nfrom which it follows that\n\n$$\nS = \\frac{45 \\cdot 43}{2} - \\sum_{r=0}^{43} \\sum_{k=1}^{9} \\left[ \\frac{kr}{44} \\right] = \\frac{1935}{2} - \\sum_{r=0}^{43} \\sum_{k=1}^{9} \\left[ \\frac{kr}{44} \\right].\n$$\n\nNow we let $T$ be given by\n\n$$\nT = \\sum_{r=0}^{43} \\sum_{k=1}^{9} \\left[ \\frac{kr}{44} \\right] = \\sum_{r=1}^{43} \\sum_{k=1}^{9} \\left[ \\frac{kr}{44} \\right] = \\sum_{k=1}^{9} \\sum_{r=1}^{43} \\left[ \\frac{kr}{44} \\right],\n$$"
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_75b72b00dcab",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Here, we mean by $f(P)$ the value $f(x, y)$, where $(x, y)$ are the coordinates of the\npoint $P$. If $f$ satisfies the property stated above, we will say that $f(x, y)$ cuts off $T$\nfrom $S$.\n\nLet us prove the claim made above by induction on the number $n$ of points of $S$. Clearly, the claim holds if $n = 1$. So, suppose the claim is valid for $k \\le n - 1$ and show that it holds for $n$. Let us represent $S$ as $\\{P_1, P_2, \\dots, P_n\\}$. Denote by $X(S)$ the set of all those subsets $T$ of $S$ which satisfy the condition of Lemma 1. Define $S'$ to be the set $S \\setminus \\{P_n\\}$, and define $X(S')$ in the same way. Define a mapping $F: X(S) \\to X(S')$ by setting $F(T) = T \\cap S'$ for $T \\in X(S)$. It is easy to see that $F^{-1}(T') \\subset \\{T, T \\cup \\{P_n\\}\\}$ holds for any $T \\in X(S')$. Let $T \\in X(S')$ and let $f(x, y)$ be a linear function which cuts off $T$ from $S'$. If $f(P_n) \\ge 0$, then for any sufficiently small $\\epsilon > 0$, the linear function $f(x, y) + \\epsilon$ cuts off $T \\cup \\{P_n\\}$ from $S$. Therefore, $T \\cup \\{P_n\\} \\in X(S)$, while if $f(P_n) \\le 0$, the function $f(x, y) - \\epsilon$ for sufficiently small $\\epsilon > 0$ will cut off $T'$ from $S$ so that $T \\in X(S)$. Therefore, we can conclude that the mapping $F$ defined above is surjective, and for every $T \\in X(S')$ we have that $|F^{-1}(T')|$ equals either 1 or 2. We now prove the following:\n\n**Lemma 2.** For $T \\in X(S')$, the following 2 conditions are mutually equivalent:\n\n(1) There exists a linear function $f(x, y)$ which cuts off $T$ from $S'$ and for which $f(P_n) = 0$.\n\n(2) $|F^{-1}(T)| = 2$.\n\n**Proof:** It follows from what we stated above that the condition (2) is equivalent to the statement $F^{-1}(T) = \\{T, T \\cup \\{P_n\\}\\}$. Now, if (1) is satisfied, for a sufficiently small $\\epsilon > 0$, the function $f(x, y) - \\epsilon$ cuts off $T$ from $S$, and the function $f(x, y) + \\epsilon$ cuts off $T \\cup \\{P_n\\}$ from $S$. Therefore, we have $T, T \\cup \\{P_n\\} \\in X(S)$ and (2) is satisfied.\n\nConversely, suppose (2) is satisfied. Let $f(x, y)$ and $g(x, y)$ be linear functions\ncutting off $T$, $T \\cup \\{P_n\\}$, respectively, from $S$. Let $\\lambda = -\\frac{f(P_n)}{g(P_n)}$. Then the linear\nfunction $f(x, y) + \\lambda g(x, y)$ takes the value 0 at the point $P_n$, and cuts off $T$ from\n$S'$, since $\\lambda > 0$. Therefore, (1) is satisfied. Thus, Lemma 2 is proved.\n\nLet us continue with the proof of Lemma 1. Since $F$ is surjective, Lemma 2 implies that the number $|X(S)| - |X(S')|$ coincides with the number of $T$'s satisfying the condition (1) of Lemma 2. We may assume that the $x$-coordinates of the points $P_1, \\dots, P_n$ are all distinct, by changing the coordinate system, if necessary. Let $a$ be a real number different from the $x$-coordinate of the point $P_n$. For each $P_i \\in S'$, let $(a, y_i)$ be the point of intersection of the lines $x = a$ and $P_n P_i$. Then, from the assumption that no 3 points from the set $S$ are colinear it follows that numbers $y_1, y_2, \\dots, y_{n-1}$ are all distinct. We also see that the fact $T$ satisfies the condition (1) of Lemma 2 is equivalent to the statement that\n\n$$\nT = \\{ P_i \\in S' \\mid h(y_i) > 0 \\}\n$$\n\nfor some linear function $h(y)$ of 1 variable. Total number of such $T$'s is $2(n-1)$,\nand the induction hypothesis says that $|X(S')| = (n-1)^2 - (n-1) + 2$ so that\nwe have $|X(S)| = |X(S')| + 2(n-1) = n^2 - n + 2$, which proves the assertion of\nLemma 1.\n\nNow, let $P(n) = \\frac{n^3 - 3n^2 + 8n}{3}$. Then, $P(1) = 2$ and $P(n+1) - P(n) = n^2 - n + 2$\nand we can prove the following claim:\n\n**Claim:** Let $S$ be a set consisting of $n$ points in the space, no 4 among them lying on a same plane. Then the number of subsets of $S$ which can be obtained as an intersection of $S$ with some half space equals the number $P(n)$.\n\nA proof of this claim can be obtained as for the proof of Lemma 1 above by replacing\nthe **plane** by the **space** and **straight lines** by **planes**. Thus the answer to this\nproblem is given by $P(10) = 260$.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "12. [260].\n\nFirst, let us explain some terminologies used in the sequel.\n\nFor sets A and B, we denote by $A \\setminus B$ the set of those elements in A not in B.\nFor a finite set A, we denote by $|A|$ the number of elements in A. For a mapping\n$F: A \\to B$ and for $b \\in B$, we denote by $F^{-1}(b)$ the set $\\{a \\in A | F(a) = b\\}$. We\ncall a mapping $F: A \\to B$ surjective if for every $b \\in B$ the set $F^{-1}(b)$ is not empty.\nIn order to give the answer to the problem, we prove a couple of lemmas.\n\n**Lemma 1**\n\nA plane is partitioned into 2 parts by a straight line on it. One of the parts (excluding the line itself) is called a half-plane. Let S be a subset of a plane consisting of n points, no 3 among them lie on a same straight line. Then the number of subsets of S which can be obtained as an intersection of S with some half-plane is n² - n + 2.\n\n**Proof:**\n\nFix an *xy*-coordinate system in the plane. Then we claim that a subset *T* of the set *S* satisfies the condition of Lemma 1 if and only if the following condition is satisfied:\n\nThere exists a linear function $f(x, y)$ of 2 variables $x, y$ such that\n\n$$\n\\begin{cases}\nf(P) > 0, & P \\in T \\\\\nf(P) < 0, & P \\in S \\setminus T\n\\end{cases}\n$$"
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_7a0b2af26d79",
      "language": "und",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "A proof of this claim can be obtained as for the proof of Lemma 1 above by replacing the **plane** by the **space** and **straight lines** by **planes**. Thus the answer to this problem is given by $P(10) = 260$.",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let $S$ be a set consisting of $n$ points in the space, no 4 among them lying on a same plane. Then the number of subsets of $S$ which can be obtained as an intersection of $S$ with some half space equals the number $P(n)$."
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_f94e32979c94",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "To begin with, we transform $8^n + n$ into the following expression:\n\n$$\n8^n + n = (2n)^3 + n = (2^n + n)((2^n)^2 - n \\cdot 2^n + n^2) - (n^3 - n).\n$$\n\nSince $(2^n)^2 - n \\cdot 2^n + n^2$ is an integer, from the expression above it follows that the statement $8^n + n$ is divisible by $2^n + n$ is equivalent to the statement $n^3 - n$ is divisible by $2^n + n$.\n\nIf $n=1$, then $n^3 - n = 0$, so $8^n + n$ is divisible by $2^n + n$ in this case. If $n \\ge 2$, $n^3 - n > 0$, so we must have $n^3 - n \\ge 2^n + n$; in particular, it is necessary that $n^3 > 2^n$. Let us, therefore, set $f(n) = \\frac{n^3}{2^n}$. Then, if $n \\ge 4$ we have\n\n$$\n\\frac{f(n+1)}{f(n)} = \\frac{1}{2} \\cdot \\left(\\frac{n+1}{n}\\right)^3 = \\frac{1}{2} \\cdot \\left(1 + \\frac{1}{n}\\right)^3 \\le \\frac{1}{2} \\cdot \\left(1 + \\frac{1}{4}\\right)^3 = \\frac{125}{128} < 1.\n$$\n\nTherefore, we get $f(4) > f(5) > \\dots$. Since $f(10) = \\frac{1000}{1024} < 1$, we see that if $n \\ge 10$, then $f(n) < 1$, i.e., $n^3 < 2^n$.\n\nThus, we see that it is enough to check that for which $n$ satisfying $2 \\le n < 10$, $n^3 - n$ is divisible by $2^n + n$. For, $n = 2, 3, 4, 5, 6, 7, 8, 9$ we get\n\n$$\n(n^3 - n, 2^n + n) = (6, 6), (24, 11), (60, 20), (120, 37), (210, 70) \\\\ (336, 135), (504, 264), (720, 521),\n$$\n\nand we conclude that $n^3 - n$ is divisible by $2^n + n$, when $n = 2, 4, 6$. Together with $n = 1$, we get that the desired solution is $n = 1, 2, 4, 6$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Determine all positive integers $n$ for which $8^n + n$ is divisible by $2^n + n$."
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_fee10693d2d0",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Suppose we line up the numbers written on the blackboard in a non-increasing order and represent them as $a_1, a_2, \\dots, a_m$, with $a_k \\ge a_{k+1}$ for each $k$. We mark each of the numbers $a_1, a_2, \\dots, a_m$ by $\\bigcirc$ or $\\times$ in order in the following way. Start with $a_1$, and at each step compare the sum of those numbers already marked by $\\bigcirc$ with the sum of those already marked by $\\times$. If the former is less than the latter then mark the next number by $\\bigcirc$, otherwise mark it by $\\times$.\n\nLet us show by induction on $i$ that after the time when the number $a_i$ gets marked, the difference between the sum of those numbers marked by $\\bigcirc$ and the sum of those marked by $\\times$ is no bigger than $a_i$.\n\nFor $i=1$, this difference is clearly $a_1$.\n\nSuppose the assertion holds for $i = k-1$. Let us denote by $d$ the difference of the sum of those numbers marked by $\\bigcirc$ and the sum of those marked by $\\times$ prior to the time of the marking of $a_k$. By the rule of our marking procedure, this difference after the marking of $a_k$ becomes $|d - a_k|$. In view of the assumptions made on the numbers on the blackboard to begin with, we have $a_{k-1} = a_k$ or $= a_k + 1$. By the induction\n\nhypothesis, we have $0 \\le d \\le a_k + 1$, and therefore, we get $-a_k \\le d - a_k \\le 1 \\le a_k$.\nThus we conclude that the assertion holds for $i = k$.\n\nSince the last number $a_m = 1$, we see that the difference of those numbers marked by $\\O$ and those marked by $\\times$ when the markings of all the numbers are done does not exceed 1. On the other hand, since by assumption the sum of all the numbers written on the blackboard is even, the difference of the sum of those marked by $\\O$ and those marked by $\\times$ cannot equal 1. Thus, we can conclude that the two sums in question must coincide.\n\n**Alternate Solution:**\n\nSince there are only finite number of possibilities for marking the given set of numbers by $\\O$ and $\\times$, there must be ways to get the marking done for which the difference of the sum of those marked by $\\O$ and the sum of those marked by $\\times$ is the minimum. Choose one such method of marking. We will show that for this choice of the marking method the difference in question must be 0. Suppose on the contrary this difference is greater than 0. Since the sum of all the numbers given is even, this difference cannot be equal to 1, and hence is greater than or equal to 2. Without the loss of generality, we may assume that the sum of those numbers marked by $\\O$ is bigger. Now consider the following procedure:\n\nDenote by $t$ the number smallest among the numbers marked by $\\O$.\nIf $t=1$, then choose one of those $1$'s marked by $\\O$ and change its marking to $\\times$.\nIf $t > 1$, then choose one of those $t$'s marked by $\\O$ and change its marking to $\\times$\nand choose one of those $t-1$'s marked by $\\times$ and change its marking to $\\O$.\n\nWe note that the procedure outlined above is possible, since by assumption the sum of the numbers marked by $\\O$ is greater than the sum of those marked by $\\times$ so there exist numbers marked by $\\O$ and thus we can choose the one smallest among them. Furthermore, if $t > 1$, then by assumption there must be at least one $t-1$ among the numbers written on the blackboard and all those must be marked by $\\times$.\n\nFinally, we see that after performing the procedure above, we end up with the situation where the difference of the sum of those marked by $\\O$ and the sum of those marked by $\\times$ is 2 less than the case for the marking method chosen originally, and this contradicts the minimality assumption. Thus the difference in question for the marking method chosen originally must equal 0.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let $N$ be a positive integer. Suppose some collection of integers are written on a blackboard satisfying the following properties.\n\n* Every number $k$ written satisfies $1 \\le k \\le N$.\n\n* Every $k$ with $1 \\le k \\le N$ is written at least once.\n\n* The sum of all the numbers written is even.\n\nProve that by marking some of the numbers written by $\\mathcal{O}$ and the rest by $\\times$, it is\npossible to make the sum of those marked by $\\mathcal{O}$ equal to the sum of those marked\nby $\\times$."
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_66e0b5e2670d",
      "language": "und",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "We may assume without loss of generality that $n_1 \\ge n_2$. Since $0 < a_1 b_2 < k \\cdot k^{n_2+1} = k^{n_2+2}$, we can represent\n\n$$\na_1 b_2 = \\sum_{j=0}^{n_2+1} d_j k^j\n$$\n\nby choosing $d_j$ with $0 \\le d_j \\le k-1$ ($j = 0, 1, \\dots, n_2+1$) suitably.\nSet $e_j = d_0 + d_1 + \\dots + d_j$ ($j = 0, 1, \\dots, n_2+1$).\nNow let us separate the two cases:\n\n* When $n_1 > n_2$.\n\nWe have\n\n$$\nb_1 b_2 = \\sum_{j=0}^{n_1} k^j \\times \\sum_{j=0}^{n_2+1} d_j k^j \\equiv \\sum_{j=0}^{n_2+1} e_j k^j \\pmod{k^{n_2+2}}\n$$",
          "pages": [
            "P2"
          ],
          "status": "truncated"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let $k$ be an integer greater than or equal to 2, and let $n_1, n_2, n_3$ be positive integers, and $a_1, a_2, a_3$ be integers greater than or equal to 1 and less than or equal to $k-1$. Define\n\n$$\nb_i = a_i \\sum_{j=0}^{n_i} k^j \\quad (i = 1, 2, 3).\n$$\n\nDetermine all possible combinations $(n_1, n_2, n_3)$ if $b_1 b_2 = b_3$."
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_d89a5c4f448a",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "hypothesis, we have $0 \\le d \\le a_k + 1$, and therefore, we get $-a_k \\le d - a_k \\le 1 \\le a_k$.\nThus we conclude that the assertion holds for $i = k$.\n\nSince the last number $a_m = 1$, we see that the difference of those numbers marked by $\\O$ and those marked by $\\times$ when the markings of all the numbers are done does not exceed 1. On the other hand, since by assumption the sum of all the numbers written on the blackboard is even, the difference of the sum of those marked by $\\O$ and those marked by $\\times$ cannot equal 1. Thus, we can conclude that the two sums in question must coincide.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        },
        {
          "images": [],
          "label": null,
          "latex": "**Alternate Solution:**\n\nSince there are only finite number of possibilities for marking the given set of numbers by $\\O$ and $\\times$, there must be ways to get the marking done for which the difference of the sum of those marked by $\\O$ and the sum of those marked by $\\times$ is the minimum. Choose one such method of marking. We will show that for this choice of the marking method the difference in question must be 0. Suppose on the contrary this difference is greater than 0. Since the sum of all the numbers given is even, this difference cannot be equal to 1, and hence is greater than or equal to 2. Without the loss of generality, we may assume that the sum of those numbers marked by $\\O$ is bigger. Now consider the following procedure:\n\nDenote by $t$ the number smallest among the numbers marked by $\\O$.\nIf $t=1$, then choose one of those $1$'s marked by $\\O$ and change its marking to $\\times$.\nIf $t > 1$, then choose one of those $t$'s marked by $\\O$ and change its marking to $\\times$\nand choose one of those $t-1$'s marked by $\\times$ and change its marking to $\\O$.\n\nWe note that the procedure outlined above is possible, since by assumption the sum of the numbers marked by $\\O$ is greater than the sum of those marked by $\\times$ so there exist numbers marked by $\\O$ and thus we can choose the one smallest among them. Furthermore, if $t > 1$, then by assumption there must be at least one $t-1$ among the numbers written on the blackboard and all those must be marked by $\\times$.\n\nFinally, we see that after performing the procedure above, we end up with the situation where the difference of the sum of those marked by $\\O$ and the sum of those marked by $\\times$ is 2 less than the case for the marking method chosen originally, and this contradicts the minimality assumption. Thus the difference in question for the marking method chosen originally must equal 0.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Suppose we line up the numbers written on the blackboard in a non-increasing order and represent them as $a_1, a_2, \\dots, a_m$, with $a_k \\ge a_{k+1}$ for each $k$. We mark each of the numbers $a_1, a_2, \\dots, a_m$ by \\(\\bigcirc\\) or $\\times$ in order in the following way. Start with $a_1$, and at each step compare the sum of those numbers already marked by \\(\\bigcirc\\) with the sum of those already marked by $\\times$. If the former is less than the latter then mark the next number by \\(\\bigcirc\\), otherwise mark it by $\\times$.\n\nLet us show by induction on $i$ that after the time when the number $a_i$ gets marked, the difference between the sum of those numbers marked by \\(\\bigcirc\\) and the sum of those marked by $\\times$ is no bigger than $a_i$.\n\nFor $i=1$, this difference is clearly $a_1$.\n\nSuppose the assertion holds for $i = k-1$. Let us denote by $d$ the difference of the sum of those numbers marked by \\(\\bigcirc\\) and the sum of those marked by $\\times$ prior to the time of the marking of $a_k$. By the rule of our marking procedure, this difference after the marking of $a_k$ becomes $|d - a_k|$. In view of the assumptions made on the numbers on the blackboard to begin with, we have $a_{k-1} = a_k$ or $= a_k + 1$. By the induction"
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_484ff62c73fc",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Alternate Solution:\n\nIf we rewrite the relation $b_1 b_2 = b_3$ by using the summation formula for the geometric series, we get\n\\[\na_1 a_2 \\cdot \\frac{k^{n_1+1}-1}{k-1} \\times \\frac{k^{n_2+1}-1}{k-1} = a_3 \\cdot \\frac{k^{n_3+1}-1}{k-1}.\n\\]\nBy multiplying the both sides of the equation above by $(k-1)^2$, we get\n\\[\na_1 a_2 (k^{n_1+1} - 1) (k^{n_2+1} - 1) = a_3 (k^{n_3+1} - 1) (k-1) \\quad (*)\n\\]\nSince $k^{n_2+1} - 1 \\ge k^2 - 1 > a_3(k-1)$ imply that $k^{n_1+1} - 1 < k^{n_3+1} - 1$ hods, we get $n_1 < n_3$. We similarly get $n_2 < n_3$. We can also assume that $n_1 \\ge n_2$ without loss of generality.\n\nAssume that $n_2 \\ge 2$. Considering the equation (*) in $\\mod k^3$, we get $a_1 a_2 \\equiv -a_3(k-1) \\pmod{k^3}$. However, since\n\\[\n0 < a_1 a_2 + a_3 (k-1) < k^2 + k(k-1) < 2k^2 \\le k^3\n\\]\nhold, we get a contradiction. Thus, we conclude that $n_2 = 1$.\n\nIf we then divide the both sides of the equation (*) by $k-1$, we obtain\n\\[\na_1 a_2 (k^{n_1+1} - 1)(k+1) = a_3 (k^{n_3+1} - 1).\n\\]\nSuppose now $n_1 \\ge 2$. If we consider the both sides of the equation above in mod $k^3$, then we get $-a_1a_2(k+1) \\equiv -a_3 \\pmod{k^3}$. However, since\n\\[\n\\begin{aligned}\na_1a_2(k+1) - a_3 &\\ge (k+1) - (k-1) = 2 > 0, \\\\\na_1a_2(k+1) - a_3 &\\le (k-1)^2(k+1) - 1 = k^3 - k^2 - k < k^3\n\\end{aligned}\n\\]\nhold, we get a contradiction. Therefore, we must have $n_1 = 1$.\n\nSummarizing we get\n\\[\na_1a_2(k^2 - 1)(k + 1) = a_3(k^{n_3+1} - 1),\n\\]\nand furthermore, since\n\\[\n\\begin{aligned}\nk^{n_3+1} - 1 &\\le a_3(k^{n_3+1} - 1) = a_1a_2(k^2 - 1)(k + 1) \\\\\n&\\le (k-1)^2(k^2 - 1)(k + 1) \\\\\n&= k^5 - k^4 - 2k^3 + 2k^2 + k - 1 \\\\\n&< k^5 - 1,\n\\end{aligned}\n\\]\nwe obtain $n_3 < 4$.\n\nIf we suppose $n_3 = 2$, then we get $a_1a_2(k+1)^2 = a_3(k^2+k+1)$, so we conclude that $0 < a_1a_2 < a_3 < k$ holds, since $(k+1)^2 > k^2+k+1$. However, if we consider the both sides of $a_1a_2(k+1)^2 = a_3(k^2+k+1)$ in mod $k$, we get $a_1a_2 \\equiv a_3 \\pmod{k}$, which gives a contradiction. As $n_3 > n_1 = 1$, we conclude from $b_1b_2 = b_3$ that $(n_1, n_2, n_3) = (1, 1, 3)$. We can get $(k, a_1, a_2, a_3)$ satisfying the conditions of the problem when $(n_1, n_2, n_3) = (1, 1, 3)$ as in the preceding solution to the problem.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "We may assume without loss of generality that $n_1 \\ge n_2$. Since $0 < a_1 b_2 < k \\cdot k^{n_2+1} = k^{n_2+2}$, we can represent\n\\[\na_1 b_2 = \\sum_{j=0}^{n_2+1} d_j k^j\n\\]\nby choosing $d_j$ with $0 \\le d_j \\le k-1$ ($j = 0, 1, \\dots, n_2+1$) suitably.\nSet $e_j = d_0 + d_1 + \\dots + d_j$ ($j = 0, 1, \\dots, n_2+1$).\nNow let us separate the two cases:\n\n* When $n_1 > n_2$.\n\nWe have\n\\[\nb_1 b_2 = \\sum_{j=0}^{n_1} k^j \\times \\sum_{j=0}^{n_2+1} d_j k^j \\equiv \\sum_{j=0}^{n_2+1} e_j k^j \\pmod{k^{n_2+2}}\n\\]\n\n* When $n_1 = n_2$.\n\nIn this case\n\\[\nb_1 b_2 \\equiv \\sum_{j=0}^{n_1} k^j \\times \\sum_{j=0}^{n_2+1} d_j k^j \\equiv \\sum_{j=0}^{n_2} e_j k^j \\pmod{k^{n_2+1}}\n\\]\nis valid, and we can conclude that $d_1 = d_2 = \\cdots = d_{n_2} = 0$ hold as in the case where $n_1 > n_2$. If we let $a_1 a_2 = c_0 + c_1 k$ ($0 \\le c_0, c_1 \\le k-1$), then we have\n\\[\na_1 b_2 = c_0 + (c_0 + c_1)(k + k^2 + \\cdots + k^{n_2}) + c_1 k^{n_2+1}.\n\\]\nSince $c_0 + c_1$ is a multiple of $k$ as $d_1 = 0$, and since $0 < c_0 + c_1 \\le 2k-2$, we have $c_0 + c_1 = k$. If we assume that $n_1 = n_2 \\ge 2$, then we get $d_2 = 1$, contradicting $d_2 = 0$. Thus, we get $n_1 = n_2 = 1$, and $n_3 = 2n_1 + 1 = 3$.\n\nConversely, if $(n_1, n_2, n_3) = (1, 1, 3)$, we will show that $(k, a_1, a_2, a_3)$ which satisfy the requirement exist. Since we have\n\\[\na_1(1+k) \\times a_2(1+k) = a_1 a_2(k+1)^2, \\quad a_3(1+k+k^2+k^3) = a_3(k+1)(k^2+1),\n\\]\nif we can find $a_1, a_2$ satisfying $a_1 a_2 = \\frac{k^2+1}{2}$, $1 \\le a_i \\le k-1$ ($i=1, 2$) for some odd integer $k$, then such a pair $a_1, a_2$ together with $a_3 = \\frac{k+1}{2}$ will satisfy the desired conditions. By checking odd numbers in turn starting with 3, we find that the quadruple $(k, a_1, a_2, a_3) = (7, 5, 5, 4)$ satisfies the requirement. Thus, the only triple $(n_1, n_2, n_3)$ to satisfy the requirement of the problem is $(1, 1, 3)$."
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_0f029a8d55ae",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Suppose now $n_1 \\ge 2$. If we consider the both sides of the equation above in mod $k^3$, then we get $-a_1a_2(k+1) \\equiv -a_3 \\pmod{k^3}$. However, since\n\n$$\n\\begin{aligned}\na_1a_2(k+1) - a_3 &\\ge (k+1) - (k-1) = 2 > 0, \\\\\na_1a_2(k+1) - a_3 &\\le (k-1)^2(k+1) - 1 = k^3 - k^2 - k < k^3\n\\end{aligned}\n$$\n\nhold, we get a contradiction. Therefore, we must have $n_1 = 1$.\n\nSummarizing we get\n\n$$\na_1a_2(k^2 - 1)(k + 1) = a_3(k^{n_3+1} - 1),\n$$\n\nand furthermore, since\n\n$$\n\\begin{aligned}\nk^{n_3+1} - 1 &\\le a_3(k^{n_3+1} - 1) = a_1a_2(k^2 - 1)(k + 1) \\\\\n&\\le (k-1)^2(k^2 - 1)(k + 1) \\\\\n&= k^5 - k^4 - 2k^3 + 2k^2 + k - 1 \\\\\n&< k^5 - 1,\n\\end{aligned}\n$$\n\nwe obtain $n_3 < 4$.\n\nIf we suppose $n_3 = 2$, then we get $a_1a_2(k+1)^2 = a_3(k^2+k+1)$, so we conclude that $0 < a_1a_2 < a_3 < k$ holds, since $(k+1)^2 > k^2+k+1$. However, if we consider the both sides of $a_1a_2(k+1)^2 = a_3(k^2+k+1)$ in mod $k$, we get $a_1a_2 \\equiv a_3 \\pmod{k}$, which gives a contradiction. As $n_3 > n_1 = 1$, we conclude from $b_1b_2 = b_3$ that $(n_1, n_2, n_3) = (1, 1, 3)$. We can get $(k, a_1, a_2, a_3)$ satisfying the conditions of the problem when $(n_1, n_2, n_3) = (1, 1, 3)$ as in the preceding solution to the problem.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Since $0 \\le e_0 = d_0 \\le k-1$, we get $a_3 = e_0$ and $a_3 \\equiv e_1 \\pmod k$. Consequently, we see that $d_1 = e_1 - e_0$ is a multiple of $k$, and from $0 \\le d_1 < k-1$, we must have $d_1 \\ne 0$. This in turn implies that $e_0 = e_1 = a_3$ and hence $e_1 = a_3 \\equiv e_2 \\pmod k$, and in the same way as above we conclude that $d_2 = 0$.\n\nRepeating this argument we obtain that $d_1 = d_2 = \\cdots = d_{n_2+1} = 0$, which implies that $a_1 b_2 = d_0 \\le k-1$, which, in turn, contradicts the assumption that $n_1, n_2, a_1, a_2$ are all positive integers. Thus, we see that there are no triples $(n_1, n_2, n_3)$ which satisfy the requirements in this case.\n\n* When $n_1 = n_2$.\n\nIn this case\n\n$$\nb_1 b_2 \\equiv \\sum_{j=0}^{n_1} k^j \\times \\sum_{j=0}^{n_2+1} d_j k^j \\equiv \\sum_{j=0}^{n_2} e_j k^j \\pmod{k^{n_2+1}}\n$$\n\nis valid, and we can conclude that $d_1 = d_2 = \\cdots = d_{n_2} = 0$ hold as in the case where $n_1 > n_2$. If we let $a_1 a_2 = c_0 + c_1 k$ ($0 \\le c_0, c_1 \\le k-1$), then we have\n\n$$\na_1 b_2 = c_0 + (c_0 + c_1)(k + k^2 + \\cdots + k^{n_2}) + c_1 k^{n_2+1}.\n$$\n\nSince $c_0 + c_1$ is a multiple of $k$ as $d_1 = 0$, and since $0 < c_0 + c_1 \\le 2k-2$, we have $c_0 + c_1 = k$. If we assume that $n_1 = n_2 \\ge 2$, then we get $d_2 = 1$, contradicting $d_2 = 0$. Thus, we get $n_1 = n_2 = 1$, and $n_3 = 2n_1 + 1 = 3$.\n\nConversely, if $(n_1, n_2, n_3) = (1, 1, 3)$, we will show that $(k, a_1, a_2, a_3)$ which satisfy the requirement exist. Since we have\n\n$$\na_1(1+k) \\times a_2(1+k) = a_1 a_2(k+1)^2, \\quad a_3(1+k+k^2+k^3) = a_3(k+1)(k^2+1),\n$$\n\nif we can find $a_1, a_2$ satisfying $a_1 a_2 = \\frac{k^2+1}{2}$, $1 \\le a_i \\le k-1$ ($i=1, 2$) for some odd integer $k$, then such a pair $a_1, a_2$ together with $a_3 = \\frac{k+1}{2}$ will satisfy the desired conditions. By checking odd numbers in turn starting with 3, we find that the quadruple $(k, a_1, a_2, a_3) = (7, 5, 5, 4)$ satisfies the requirement. Thus, the only triple $(n_1, n_2, n_3)$ to satisfy the requirement of the problem is $(1, 1, 3)$.\n\nAlternate Solution:\n\nIf we rewrite the relation $b_1 b_2 = b_3$ by using the summation formula for the geometric series, we get\n\n$$\na_1 a_2 \\cdot \\frac{k^{n_1+1}-1}{k-1} \\times \\frac{k^{n_2+1}-1}{k-1} = a_3 \\cdot \\frac{k^{n_3+1}-1}{k-1}.\n$$\n\nBy multiplying the both sides of the equation above by $(k-1)^2$, we get\n\n$$\na_1 a_2 (k^{n_1+1} - 1) (k^{n_2+1} - 1) = a_3 (k^{n_3+1} - 1) (k-1) \\quad (*)\n$$\n\nSince $k^{n_2+1} - 1 \\ge k^2 - 1 > a_3(k-1)$ imply that $k^{n_1+1} - 1 < k^{n_3+1} - 1$ hods, we get $n_1 < n_3$. We similarly get $n_2 < n_3$. We can also assume that $n_1 \\ge n_2$ without loss of generality.\n\nAssume that $n_2 \\ge 2$. Considering the equation (*) in $\\mod k^3$, we get $a_1 a_2 \\equiv -a_3(k-1) \\pmod{k^3}$. However, since\n\n$$\n0 < a_1 a_2 + a_3 (k-1) < k^2 + k(k-1) < 2k^2 \\le k^3\n$$\n\nhold, we get a contradiction. Thus, we conclude that $n_2 = 1$.\n\nIf we then divide the both sides of the equation (*) by $k-1$, we obtain\n\n$$\na_1 a_2 (k^{n_1+1} - 1)(k+1) = a_3 (k^{n_3+1} - 1).\n$$"
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_f02c581757ef",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Alternate Solution:\n\nThe proof of the fact that $f(x)$ is monotone increasing in the wide sense is the same as the preceding solution. We now separate the 2 cases as follows:\n\n(1) When $f(x)$ is injective, i.e., when $f(a) = f(b) \\Rightarrow a = b$.\n\n(2) When $f(x)$ is not injective, i.e., when there exist a pair $a, b$ ($a \\neq b$) for which $f(a) = f(b)$.\n\nThe fact that $f(x) = \\sqrt{x}$ for the case (1) can be shown as in the preceding solution.\n\nLet us show that $f(x) = 0$ must hold in the case (2). Choose a pair $a, b$ ($a < b$) for which $f(a) = f(b)$. Let $t$ be an arbitrary non-negative real number and substitute $(x, y) = (t, a)$, $(t, b)$ into the functional equation, then we get\n\n$$\n\\begin{aligned}\nf(t^2) + f(a) &= f(t^2 + a + tf(4a)), \\\\\nf(t^2) + f(b) &= f(t^2 + b + tf(4b)),\n\\end{aligned}\n$$\n\nfrom which we get, in view of the fact that $f(a) = f(b)$,\n\n$$\nf(t^2 + a + tf(4a)) = f(t^2 + b + tf(4b)).\n$$\n\nIn particular, for $t > 0$ for which $t^2 + a + tf(4a) = b$ (such a $t$ exists since $a < b$) we get $f(b) = f(b')$ if we put $b' = t^2 + b + tf(4b)$. We thus have $f(a) = f(b')$ with $b' = (t^2 + a + tf(4a)) + (b - a) + t(f(4b) - f(4a)) \\ge b + (b-a) = 2b - a$ since $f(4b) \\ge f(4a)$. Summarizing this we now see that if $f(a) = f(b)$ holds for some pair of non-negative real numbers $a, b$ ($a < b$), then there exists a $b'$ for which\n\n$$\nf(a) = f(b'), \\quad b' \\ge 2b - a\n$$\n\nhold.\n\nRepeating the procedure above to obtain $b'$ from the pair $(a, b)$, we get a sequence $b_1, b_2, \\dots$ of positive numbers for which\n\n$$\n\\begin{aligned}\n\\bullet & b_1 = b \\\\\n\\bullet & f(a) = f(b_n) \\quad (n = 1, 2, \\dots), \\\\\n\\bullet & b_{n+1} \\ge 2b_n - a \\quad (n = 1, 2, \\dots)\n\\end{aligned}\n$$\n\nFrom $b_{n+1} \\ge 2b_n - a$ we get $b_{n+1} - a \\ge 2(b_n - a)$, from which it follows that $b_n - a \\ge 2^{n-1}(b_n - a)$. Since $b_n - a > 0$, we see that $b_n$ can be taken to be arbitrarily large by choosing $n$ larger and larger.\n\nLet now $x$ be an arbitrary positive number for which $x \\ge a$, then for a sufficiently large $n$ we have $a \\le x \\le b_n$, and since $f$ is monotone increasing in the wide sense and since $f(a) = f(b_n)$, we get $f(x) = f(a)$. Thus, we have shown that $x \\ge a \\Rightarrow f(x) = f(a)$. If we take both $x$ and $y$ to be sufficiently large real numbers and substitute these in the functional equation, we get the identity $f(a) + f(a) = f(a)$, from which we conclude that $f(a) = 0$. Consequently, we have $f(x) = f(a) = 0$ if $x \\ge a$. Since $f(x)$ is non-negative valued, and is monotone increasing in the wide sense, we also have $0 \\le x \\le a \\Rightarrow 0 \\le f(x) \\le f(a) = 0$ as well, and therefore, $f(x) = 0$ for all $x \\ge 0$.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "First of all, let us show that the function $f$ is monotone increasing in the wide sense, namely it satisfies the property that $a < b \\implies f(a) \\le f(b)$. So, suppose $a < b$. Then we can choose a number $t > 0$ such that $b = t^2+a+tf(4a)$. Substituting $x = t, y = a$ into the given functional equation, we obtain $f(t^2) + f(a) = f(b)$. Since $f(t^2) \\ge 0$, we then obtain $f(a) \\le f(b)$, showing the desired monotone property of $f$. Furthermore, we note that the same argument shows that if $f(t) > 0$ for an arbitrary $t > 0$, then $a < b \\implies f(a) < f(b)$.\n\nWe separate the following two cases:\n\n(1) : $f(t) > 0$ is satisfied for an arbitrary $t > 0$.\n\n(2) : $f(t) = 0$ for some $t > 0$.\n\nLet us first determine $f(x)$ in the case (1). As we stated above, in this case, we have $a < b \\implies f(a) < f(b)$, and therefore, we must have $f(a) = f(b) \\implies a = b$. ($f$ is said to be **injective** if it satisfies this property.) For arbitrary non-negative real numbers $a$ and $b$, substitute $(x, y) = (\\sqrt{a}, b)$, $(\\sqrt{b}, a)$ into the given functional equation, then we obtain\n\n$$\n\\begin{align*}\nf(a) + f(b) &= f(a + b + \\sqrt{a}f(4b)), \\\\\nf(b) + f(a) &= f(b + a + \\sqrt{b}f(4a))\n\\end{align*}\n$$\n\nfrom which we get $f(a+b+\\sqrt{a}f(4b)) = f(b+a+\\sqrt{b}f(4a))$. Since $f$ is injective in the case (1), we conclude that $a+b+\\sqrt{a}f(4b)=b+a+\\sqrt{b}f(4a)$, and hence $\\sqrt{a}f(4b)=\\sqrt{b}f(4a)$ holds for every pair of non-negative real numbers $a$ and $b$. By substituting $a=1$ and $b=\\frac{x}{4}$, where $x$ is an arbitrary non-negative real number, into the last equation we get $f(x)=\\frac{f(4)}{2}\\sqrt{x}$. Therefore, we can write $f(x)=k\\sqrt{x}$ for some $k>0$. If we substitute $x=y=1$ into the functional equation for this choice of $f$, we obtain that $2k=k\\sqrt{2}+2k$, from which we get, since $k>0$, $2=\\sqrt{2}+2k$, and therefore, $k=1$. Thus, we conclude that $f(x)=\\sqrt{x}$. Conversely, if $f(x)=\\sqrt{x}$, then we get for any pair of non-negative real numbers $x$ and $y$,\n\n$$\n\\begin{align*}\nf(x^2) + f(y) &= x + \\sqrt{y} \\\\\nf(x^2 + y + x f(4y)) &= \\sqrt{x^2 + y + x\\sqrt{4y}} = \\sqrt{(x + \\sqrt{y})^2} = x + \\sqrt{y}.\n\\end{align*}\n$$\n\nSo the function $f(x) = \\sqrt{x}$ satisfies the given functional equation. Thus, the desired answer in the case (1) is $f(x) = \\sqrt{x}$.\n\nNext, consider the case (2). Suppose for some $t > 0$ $f(t) = 0$. Then by substituting $(x, y) = (\\sqrt{t}, t)$ into the functional equation and simplifying the result, we obtain $f(2t + \\sqrt{tf}(4t)) = 0$. Now, we choose one $t_1 > 0$ for which $f(t_1) = 0$, and then define inductively\n\n$$\nt_{n+1} = 2t_n + \\sqrt{t_n}f(4t_n) \\quad (n = 1, 2, \\dots).\n$$\n\nThen, we can show by induction on $n$ that for each $n = 1, 2, \\dots$, $f(t_n) = 0$ holds.\nFrom the definition it follows that $t_{n+1} \\ge 2t_n$, from which it follows that $t_n \\ge$\n$2^{n-1}t_1$, and since $t_1 > 0$, $t_n$ gets arbitrarily large as $n$ gets larger and larger. So, if we let $x$ be an arbitrary non-negative real number, then there exists a $t_n$ for which $x < t_n$. Since $f$ is non-negative valued and monotone increasing in the wide sense, we have $0 \\le f(x) \\le f(t_n) = 0$, from which we conclude that $f(x)$ is identically 0. It is easy to check that the function $f(x) = 0$ satisfies the given functional equation (with both sides of the equation becoming 0.) Therefore, $f(x) = 0$ is the only solution for the case (2), and the desired solution for the problem is $f(x) = \\sqrt{x}$ and 0."
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_5970e96e11c4",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "sides and horizontal sides by a and increasing the number of diagonals by a, we get a shorter path from A to B, since $1 + 1 > \\sqrt{2}$. Thus, we can take a to be 0. Therefore, a shortest path can be obtained by letting (a, b, c) = (0, 2, 3), namely, paths of the type described above gives shortest paths from A to B. The number of such paths can be obtained by considering the number of ways of choosing from 5 possible spots 2 spots to go along horizontal sides, which is equal to $\\frac{5!}{2^5 \\cdot 3!} = 10$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/Japan_2009_p24_data_35b5fb8aee.png",
          "title": ""
        }
      ],
      "statement_latex": "Let us first show that among the paths from the point A to the point B along some of the sides and diagonals of the given squares, the shortest one must consist of 2 horizontal sides of 2 squares and 3 diagonals of 3 squares, traversed from left to right along the horizontal sides and from the lower left vertex to upper right vertex of the diagonals. It is clear that such a path exists, and the length of the path would be the same regardless of the order horizontal sides and diagonals are chosen. Suppose such a path from A to B goes through some vertex P of one of the squares, then it must pass through at least one of the following 3 types of points: a vertex of one of the squares lying on the vertical line through and above P, or lying on the horizontal line through P and on the right of P, or the vertex of the same square diagonally opposite to the point P. It is clear that a shortest path from A to B should reach from P to any of these points by going directly up, or directly to the right, or along the diagonal, respectively. Therefore, it is enough to consider paths which proceed from P one step upward, or one step to the right, or along the diagonal upward and right to the opposite vertex.\n\n% IMAGE: ![](images/Japan_2009_p24_data_35b5fb8aee.png)\n\nLet us denote by $a, b, c$ the number of vertical sides, horizontal sides and diagonals of squares making up a path from A to B. Then, the length of the path is given by $a + b + \\sqrt{2}$. Since it is necessary to move 3 steps upward and 5 steps to the right to reach the point B from the point A, we must have $a + c = 3$, $b + c = 5$. We note that $b \\ge a$ so that if $a \\ge 1$, then decreasing the number of both vertical"
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_bdf35f36e9eb",
      "language": "und",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [
            {
              "alt": "",
              "pages": [
                "P2"
              ],
              "path": "images/Japan_2009_p26_data_4fb449f155.png",
              "title": ""
            }
          ],
          "label": null,
          "latex": "ABCD must be a rhombus with the side length 1. Thus the area of the pentagon ABCDE is the sum of the areas of the equilateral triangle ADE and that of the rhombus ABCD. The area of ADE equals $\\frac{1}{2} \\cdot 1 \\cdot \\frac{\\sqrt{3}}{2} = 1 + \\frac{\\sqrt{3}}{4}$, so, it suffices to consider the maximum of the area of the rhombus ABCD. Since the sides of the rhombus ABCD have length 1, it is clear that its area is no more than 1, and since it equals 1, when the rhombus is a square, the maximum area must be 1. We can easily check that the pentagon ABCDE is convex when the rhombus ABCD is a square, so we can conclude that the desired solution for the problem is $1 + \\frac{\\sqrt{3}}{4}$.\n\n% IMAGE: ![](images/Japan_2009_p26_data_4fb449f155.png)",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let ABCDE be a convex pentagon with all of its sides having length 1 and for which some pair of diagonals intersect perpendicularly. It is sufficient to consider the two cases where the $AC \\perp AD$ or $AC \\perp BD$, since all other cases can be handled in the same way as for one of these two cases.\n\nLet us first consider the case where $AC \\perp AD$.\n\nIn this case, we have $AC, AD \\le CD = 1$, since the triangle $\\triangle ACD$ is a right triangle with $\\angle CAD = 90^\\circ$. So, if we consider the triangle $\\triangle ABC$, we have $\\angle BCA = \\angle CAB \\ge \\angle ABC$, since $AB = BC \\ge CA$. Together with the fact that $\\angle BCA + \\angle CAB + \\angle ABC = 180^\\circ$, we obtain $\\angle CAB \\ge 60^\\circ$. Arguing in the same way for the triangle $\\triangle AED$, we obtain that $\\angle DAE \\ge 60^\\circ$. But, then we get that $\\angle BAE = \\angle CAB + \\angle CAD + \\angle DAE \\ge 60^\\circ + 90^\\circ + 60^\\circ > 180^\\circ$, contradicting the fact that $ABCDE$ is a convex pentagon. Thus this case does not occur.\n\nNext consider the case where $AC \\perp BD$.\n\nLet P be the point of intersection of AC and BD, then since $\\angle BPC = \\angle BPA = 90^\\circ$ the triangles $\\triangle APB$ and $\\triangle CPB$ are congruent. Consequently, we have $AP = CP$, and since $\\angle APD = \\angle CPD = 90^\\circ$, we see also that the triangles $\\triangle APD$ and $\\triangle CPD$ are congruent. Thus we have $AD = CD = 1$. Now we have $AD = DE = EA = 1$, which shows that the triangle $\\triangle ADE$ is an equilateral triangle with the side length 1. From $AB = BC = CD = DA = 1$, we also see that the quadrilateral"
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_5a4677cd3f3c",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "If we make the value of $a$ bigger, $b, c, d$ also get bigger, so if $n$ is the smallest possible integer satisfying the requirement, then $a$ also has to be the smallest non-negative integer satisfying the conditions above. By substituting $a = 0, 1, \\dots$, and checking to see when all of $b, c, d$ become non-negative integers, we see that $a = 1$ is the smallest value for $a$ for which all of $b, c, d$ are non-negative integers and their values are $b = 1, c = 1, d = 0$. Thus the answer to the problem is $n = 2^1 \\cdot 3^1 \\cdot 5^1 \\cdot 7^0 = 30$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/Japan_2009_p26_data_4fb449f155.png",
          "title": ""
        }
      ],
      "statement_latex": "## 6. [30].\n\nLet us first prove the following Theorem:\n\n### Theorem\n\nSuppose that a positive integer $n$ has the prime factorization $n = p_1^{e_1} p_2^{e_2} \\cdots p_m^{e_m}$. (Here, $p_1, p_2, \\cdots, p_m$ are distinct prime numbers and $e_1, e_2, \\cdots, e_m$ are positive integers.) Then the total number of factors of $n$ equals $(e_1 + 1)(e_2 + 1) \\cdots (e_m + 1)$.\n\n**Proof:** Any factor of $n$ can be represented in the form $p_1^{f_1} p_2^{f_2} \\cdots p_m^{f_m}$ with $f_j$ being an integer satisfying $0 \\le f_j \\le e_j$ for each $j = 1, 2, \\cdots, m$. It is clear that the different $m$-tuples of integers $(f_1, f_2, \\cdots, f_m)$ correspond to different factors of $n$. Therefore, the total number of factors of $n$ coincides with the number of $m$-tuples $(f_1, f_2, \\cdots, f_m)$ satisfying the conditions above. Since there are exactly $e_j + 1$ choices for $f_j$ for each $j = 1, 2, \\cdots, m$ there are $(e_1 + 1)(e_2 + 1) \\cdots (e_m + 1)$ such $m$-tuples, which proves the claim of the Theorem.\n\nLet us now show that the desired answer for the problem is 30. Suppose $n$ is an integer satisfying the condition of the problem. If $n$ has a prime factor besides 2, 3, 5, 7, then since $14 = 2 \\cdot 7, 16 = 2^4, 18 = 2 \\cdot 3^2, 20 = 2^2 \\cdot 5$, the integer obtained by dividing $n$ by that prime factor is smaller than $n$ and satisfies the condition of the problem as well. So, we may assume that $n$ has only 2, 3, 5,¹ as its prime factors. Therefore, we can write $n = 2^a \\cdot 3^b \\cdot 5^c \\cdot 7^d$, where $a, b, c, d$ are non-negative integers. If we now assume that the number of factors of $14n, 16n, 18n, 20n$ are $p, q, r, s$, respectively, then by the Theorem above, we have\n\n$$\np = (a + 2)(b + 1)(c + 1)(d + 2), \\quad q = (a + 5)(b + 1)(c + 1)(d + 1), \\\\ r = (a + 2)(b + 3)(c + 1)(d + 1), \\quad s = (a + 3)(b + 1)(c + 2)(d + 1).\n$$\n\nIt then follows that we have\n\n$$\n\\begin{align*} q &= p \\iff (a+5)(d+1) = (a+2)(d+2) &\\iff a-1 &= 3d, \\\\ q &= r \\iff (a+5)(b+1) = (a+2)(b+3) &\\iff 2a+1 &= 3b, \\\\ q &= s \\iff (a+5)(c+1) = (a+3)(c+2) &\\iff a+1 &= 2c. \\end{align*}\n$$"
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_0627998d80d9",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "1000 is divisible by 8, the remainder obtained when the last 3-digits of N is divided by 8 must also be 3. From these considerations we conclude that the solution to the problem is given by the number between 0 and 999 which is a multiple of 125 and gives a remainder 3 when divided by 8. The number 875 is the only number satisfying these requirements and is the desired answer.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let $N$ be the product of all the odd integers lying in between 1 and 100. It is clear that the last 3 digits of $N$ equals the remainder obtained when $N$ is divided by 1000. Note that $1000 = 10^3 = 2^3 \\times 5^3 = 8 \\times 125$. From the identity $(8x + a)(8y + b) = 8(axy + a + b) + ab$, valid for any choice of integers $x, y, a, b$, it follows that for any integer $P$ which can be written as a product $P_1P_2$ of integers $P_1$ and $P_2$, the remainder obtained when $P$ is divided by 8 is the same as the product of the remainders obtained when $P_1$ and $P_2$ are divided by 8, respectively. Therefore, the remainder obtained by dividing $N$ by 8 must be the product of the remainders obtained when each odd integer lying in between 1 and 100 are divided by 8. When odd numbers $1, 3, 5, 7, 9, 11, \\dots$ are divided by 8 the remainders $1, 3, -3, -1, 1, \\dots$ are obtained, and one can see easily that the block of 4 numbers $1, 3, -3, -1$, repeats 12 times and followed by $1, 3$ (as $97 = 8 \\times 12 + 1$ and $99 = 8 \\times 13 + 3$). Therefore, we can conclude that the remainder obtained when $N$ is divided by 8 equals the remainder obtained by dividing $3^{25}$ by 8, and this number equals 3, since $3^{25} = 9^{12} \\times 3$, and the remainder obtained by dividing 9 by 8 is 1. Furthermore, since"
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_13fd3a28ddee",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "We can solve this simultaneous equations to get (p, q, r) = (81/2, 99/2, 10), and conclude that\n\n\\[\n\\frac{81}{2}x^2 + \\frac{99}{2}x + 10.\n\\]\n\nSubstituting 9 for x, we get $P(9) = \\frac{81}{2} \\cdot 81 + \\frac{99}{2} \\cdot 9 + 10 = 3736$ for the answer.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "10. [3736].\n\nLet\n\n$A = a+2000, B = b-2000, C = c+2000, D = d-2000, E = e+2000, F = f-2000,$\nand\n\n\\[\nP(x) = (A + x)(B - x)(C + x) + (D - x)(E + x)(F - x).\n\\]\n\n$P(x)$ is a polynomial in $x$, and the left-hand side of the 3 equations given for the problem equals $P(-1)$, $P(0)$ and $P(1)$, respectively. The problem is asking to find the value $P(9)$.\n\nSince we have\n\n\\[\n\\begin{aligned} (A + x)(B - x)(C + x) &= -x^3 + \\text{(terms with degree 2 or less)}, \\\\ (D - x)(E + x)(C - x) &= x^3 + \\text{(terms with degree 2 or less)}, \\end{aligned}\n\\]\n\nwe can represent $P(x)$ in the form $P(x) = px^2 + qx + r$, with some real coefficients $p, q, r$. From the fact that we have $P(-1) = 1$, $P(0) = 10$ and $P(1) = 100$ we obtain\n\n\\[\np - q + r = 1, \\quad r = 10, \\quad p + q + r = 100.\n\\]"
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_60dd8502c762",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "(1): Since $30 = 2 \\times 3 \\times 5$, a positive integer relatively prime to 30 is not a multiple of 2, 3, or 5. Hence integers lying in between 1 and 30 and relatively prime to 30 are 1, 7, 11, 13, 17, 19, 23, 29. Therefore,\n\n$$\nS(30) = 1 + 7 + 11 + 13 + 17 + 19 + 23 + 29 = 120\n$$\n\n(2): First of all, we have $S(1) = 1$, and since 1 is not a prime, we consider the case for $n \\ge 2$.\n\nSuppose that an integer $k$ satisfying $1 \\le k \\le n$ is relatively prime to $n$. Then, $k < n$ and we also have $1 \\le n-k < n$. If we let $d$ be the greatest common divisor of $n$ and $n-k$, then $d$ divides both $n$ and $k-n$. $(n-k)$, and therefore, $d=1$, since $k$ and $n$ are relatively prime by assumption. Thus $n-k$ lies in between 1 and $n$ and is relatively prime to $n$. Therefore, integers lying in between 1 and $n$ and relatively prime to $n$ appear in pairs whose sum equals $n$. (For the case of $n=30$, for instance, they appear in pairs {$(1, 29)$, $(7, 23)$, $(11, 19)$, $(13, 17)$}. Consequently, we can conclude that $S(n)$ must be a multiple of $n$.\n\nIf we suppose that $S(n) = p$, where $p$ is a prime, then since $n$ must be a divisor of $p$ and $n \\ge 2$, $n$ must equal $p$. But, then since $p$ is a prime, every integer $k$ satisfying $1 \\le k \\le p-1$ is relatively prime to $p$, and therefore, we have $S(p) = 1+2+\\cdots+(p-1) = \\frac{p(p-1)}{2}$ and thus $\\frac{p(p-1)}{2} = p$, which yields that $p=3$.\n\nThus we conclude that $n=3$ is the only positive integer for which $S(n)$ is a prime.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "For a positive integer $n$. Let $S(n)$ be the sum of all those integers $k$, $1 \\le k \\le n$, which are relatively prime to $n$ (i.e., the largest common divisor of $k$ and $n$ is 1.)\n\n(1) Find the value of $S(30)$ (you don't need to give a proof.)\n\n(2) Determine all $n$ for which $S(n)$ is a prime.\n\nHere, by a prime we mean an integer greater than or equal to 2, which has no factor other than 1 and itself."
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_a2b4a4b488c0",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Since the line segment $AR$ is the bisector of the angle $\\angle BAC$, we have $BR = CR$. Take a point $S$ on the other side from $A$ with respect to the line $BR$ in such a way that the triangles $\\triangle CRQ$ and $\\triangle BRS$ become congruent. Then, since\n\n$$\n\\angle SBR + \\angle RBA = \\angle QCR + \\angle RBA = 180^{\\circ},\n$$\n\nwe see that the point $S$ lies on the line $AB$. From\n\n$$\n\\begin{aligned}\nPS &= PB + BS = PB + CQ = PQ \\\\\nSR &= QR \\\\\nPR &= PR\n\\end{aligned}\n$$\n\nit follows that the triangles $\\triangle PSR$ and $\\triangle PQR$ are congruent, and therefore, we have $\\angle PRS = \\angle PRQ$. From\n\n$$\n\\angle PRS + \\angle PRQ = \\angle QRS = \\angle QRB + \\angle BRS = \\angle QRB + \\angle CRQ = \\angle CRB\n$$\n\nit follows that $\\angle PRQ = \\frac{1}{2}\\angle CRB$. Since $\\angle CRB + \\angle BAC = 180^{\\circ}$, we obtain $\\angle PRQ = 90^{\\circ} - \\frac{\\alpha}{2}$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let $P, Q$ be points on the side $AB$ and $AC$, respectively, of a triangle $\\triangle ABC$, which satisfy $BP + CQ = PQ$. Let $R$ be the point of intersection, other than $A$, of the bisector of the angle $\\angle BAC$ and the circum-circle of the triangle $\\triangle ABC$. If $\\angle BAC = \\alpha$, express $\\angle PRQ$ in terms of $\\alpha$. Here we denote by $XY$ the length of the line segment $XY$."
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_6ebfe2c0b71d",
      "language": "und",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "(1): Pick a vertex $P$ of the given $2n$-gon and label the vertices consecutively as $1, 2, \\dots, 2n$ starting with $P$ as 1 and going around clockwise. Then for $1 \\le k \\le n$ reassign the number $k$ to the vertex labeled $2k-1$, respectively and the number $n+k$ to the vertex labeled $2k$, respectively. Let us check that this reassignment of numbers to the vertices satisfies the requirement that for each neighboring pair of vertices the difference of the numbers assigned is at least $n-1$. If, for $1 \\le j < 2n$, we compare the numbers reassigned to the vertices originally labeled $j$ and $j+1$, we see that the difference of those numbers is $n$ if $j$ is odd, and is $n-1$ if $j$ is even. And the difference of the numbers reassigned to the vertices originally labeled 1 and $2n$ is $2n-1$. So, the requirement is satisfied.\n\n(2): Note that $k=2n$ is the only integer which satisfies the conditions $1 \\le k \\le 2n$ and $|k-n| \\ge n$. Hence if we reassign the number $n$ to some vertex originally labeled $j$, say, then it is impossible to reassign numbers to both of the two neighboring vertices originally labeled $j-1$ and $j+1$ to satisfy the requirement that the difference of the numbers assigned to each neighboring pair of vertices is $n$ or greater.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let $n$ be an integer greater than or equal to 2. Assign to each vertex of a regular $2n$-gon a distinct number chosen from $\\{1, 2, \\dots, 2n\\}$.\n\n(1) Show that there exists a method of assigning these numbers in such a way that the differences of the numbers assigned to every neighboring pair of vertices are all greater than or equal to $n-1$.\n\n(2) Show that there is no way of assigning these numbers so that the differences of the numbers assigned to every neighboring pair of vertices are all greater than or equal to $n$."
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_415a371f13ea",
      "language": "und",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Let\n\n$$\nS = \\frac{4a+b}{a+4b} + \\frac{4b+c}{b+4c} + \\frac{4c+a}{c+4a}\n$$\n\nWe will show that $\\frac{3}{2} < S < 9$.\n\nFirst, let us show that $\\frac{3}{2} < S$. Let us suppose that $a$ is greater than or equal to $b$ and $c$. Then,\n\n$$\n\\begin{aligned}\n\\frac{4a+b}{a+4b} &= \\frac{(a+b)+3a}{(a+b)+3b} \\ge 1 \\\\\n\\frac{4b+c}{b+4c} &> \\frac{4b+c}{16b+4c} = \\frac{1}{4} \\\\\n\\frac{4c+a}{c+4a} &> \\frac{4c+a}{16c+4a} = \\frac{1}{4}\n\\end{aligned}\n$$\n\nfrom which we obtain that $S > 1 + \\frac{1}{4} + \\frac{1}{4} = \\frac{3}{2}$. By symmetry, we see that if $b$ is greater than or equal to $a$ and $c$, or if $c$ is greater than or equal to $a$ and $b$, then one of the terms of $S$ is greater than or equal to 1 and other two terms are greater than $\\frac{1}{4}$ to yield $S > \\frac{3}{2}$.\n\nNext, we show that $S < 9$. To see this suppose $a$ is smaller than or equal to $b$ and $c$. Then,\n\n$$\n\\begin{aligned}\n\\frac{4a+b}{a+4b} &= \\frac{(a+b)+3a}{(a+b)+3b} \\le 1 \\\\\n\\frac{4b+c}{b+4c} &< \\frac{4b+16c}{b+4c} = 4 \\\\\n\\frac{4c+a}{c+4a} &< \\frac{4c+16a}{c+4a} = 4,\n\\end{aligned}\n$$\n\nfrom which we get that $S < 1+4+4=9$. By symmetry, we see that we get the same result $S < 9$ in case $b$ or $c$ is greater than or equal to the other two. Thus, the desired inequalities $\\frac{3}{2} < S < 9$ are proved.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Prove that for positive real numbers $a, b, c$ the following inequalities are satisfied:\n\n$$\n\\frac{3}{2} < \\frac{4a+b}{a+4b} + \\frac{4b+c}{b+4c} + \\frac{4c+a}{c+4a} < 9\n$$"
    },
    {
      "_provenance": {
        "folder": "JPN_2009",
        "pages_map": {
          "P0": "page36.md",
          "P1": "page37.md",
          "P2": "page38.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2009.pdf",
      "booklet_url": "https://drive.google.com/open?id=1yyXnT-pBOpeRGKuZqCfdyiMmLi7mGW70",
      "competition name": "The 19th Japanese Mathematical Olympiad; The 7th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_a915a4aab638",
      "language": "und",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Without assuming that any one of $a, b, c$ is greater than or equal to the other two, we see as in the argument above that each of the three terms of $S$ is $> \\frac{1}{4}$. So, if we can show that at least one of the three terms of $S$ is $\\ge 1$, then we see that $S > \\frac{3}{2}$ must hold. So, suppose that each of the three terms of $S$ is $< 1$. Then, we get\n\\[\n\\begin{align*} \n4a + b < a + 4b \\\\ \n4b + c < b + 4c \\\\ \n4c + a < c + 4a, \n\\end{align*}\n\\]\nfrom which we obtain that $5a + 5b + 5c < 5a + 5b + 5c$, which is a contradiction. Thus, we must have at least one of the three terms of $S$ is $\\ge 1$ and $S > \\frac{3}{2}$. In a similar manner as we have seen above, we can show that every term of $S$ is $< 4$ and at least one term of $S$ must be $\\le 1$, and therefore $S < 9$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let\n\\[\nS = \\frac{4a+b}{a+4b} + \\frac{4b+c}{b+4c} + \\frac{4c+a}{c+4a}\n\\]\nWe will show that $\\frac{3}{2} < S < 9$.\n\nFirst, let us show that $\\frac{3}{2} < S$. Let us suppose that $a$ is greater than or equal to $b$ and $c$. Then,\n\\[\n\\begin{aligned}\n\\frac{4a+b}{a+4b} &= \\frac{(a+b)+3a}{(a+b)+3b} \\ge 1 \\\\\n\\frac{4b+c}{b+4c} &> \\frac{4b+c}{16b+4c} = \\frac{1}{4} \\\\\n\\frac{4c+a}{c+4a} &> \\frac{4c+a}{16c+4a} = \\frac{1}{4}\n\\end{aligned}\n\\]\nfrom which we obtain that $S > 1 + \\frac{1}{4} + \\frac{1}{4} = \\frac{3}{2}$. By symmetry, we see that if $b$ is greater than or equal to $a$ and $c$, or if $c$ is greater than or equal to $a$ and $b$, then one of the terms of $S$ is greater than or equal to 1 and other two terms are greater than $\\frac{1}{4}$ to yield $S > \\frac{3}{2}$.\n\nNext, we show that $S < 9$. To see this suppose $a$ is smaller than or equal to $b$ and $c$. Then,\n\\[\n\\begin{aligned}\n\\frac{4a+b}{a+4b} &= \\frac{(a+b)+3a}{(a+b)+3b} \\le 1 \\\\\n\\frac{4b+c}{b+4c} &< \\frac{4b+16c}{b+4c} = 4 \\\\\n\\frac{4c+a}{c+4a} &< \\frac{4c+16a}{c+4a} = 4,\n\\end{aligned}\n\\]\nfrom which we get that $S < 1+4+4=9$. By symmetry, we see that we get the same result $S < 9$ in case $b$ or $c$ is greater than or equal to the other two. Thus, the desired inequalities $\\frac{3}{2} < S < 9$ are proved."
    }
  ],
  "2010": [
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_3dfd5ac719a2",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "To each $n$ chosen from the set of integers 1, 2, ..., 10, there is a pair $(m, n)$ of integers satisfying the conditions $m > n$ and $m + n = 22$. Therefore, there are exactly 10 such pairs $(m, n)$. Finding sextuples $(a, b, c, d, e, f)$ satisfying the conditions of this problem is equivalent to finding triplets of pairs $(m, n)$ from this set of 10 pairs. In fact, if we order the 3 pairs chosen as $(a, f), (b, e), (c, d)$ starting with the smallest and increasing the value of $n$ (hence $f < e < d$), then associate this triplet with the sextuple $(a, b, c, d, e, f)$. We then see that it satisfies the condition $a > b > c > d > e > f$ of the problem. Conversely, any such sextuple arises from a triplet of pairs from the set of 10 pairs considered above. Therefore, the number we seek is given by $10C_3 = 120$.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "How many sextuple $(a, b, c, d, e, f)$ of positive integers are there for which conditions $a > b > c > d > e > f$ and $a+f = b+e = c+d = 22$ are satisfied?"
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_b5a3c426351d",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Call a non-negative integer less than or equal to 10000 for which the digit 1 dose not appear in its decimal expansion a good integer.\n\nLet us denote by $A$ the average value of all good integers. Since 10000 is not a good integer, it suffices to consider only good integers of 4 or less digits. Write a good integer in the form $a_1 + 10a_2 + 10^2a_3 + 10^3a_4$, where $a_j$'s are chosen from the set $\\{0, 2, 3, 4, 5, 6, 7, 8, 9\\}$. Since for $a_1$ each of the values 0, 2, 3, ..., 9 can be chosen the same number of times, the average value for $a_1$ over the set of all good integers is $\\frac{1}{9}(0 + 2 + 3 + 4 + 5 + 6 + 7 + 8 + 9) = \\frac{44}{9}$. Similarly, the average value of $a_2, a_3, a_4$ over the set of all good integers is $\\frac{44}{9}$ for each one. Hence we get\n$$A = \\frac{44}{9}(1 + 10 + 10^2 + 10^3) = \\frac{48884}{9}.$$",
          "pages": [
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Find the average value of all those integers $n$ satisfying $0 \\le n \\le 10000$ for which the digit 1 does not appear in their decimal expansions."
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_261ebe49b08c",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "First, let us show that $g$ cannot exceed 18 for any $n$. Denote by $a, b, c$ the 3 digits of $n$, where we assume $a < b < c$. Both $100c+10b+a$ and $100c+10a+b$ are numbers obtained by permuting the digits of $n$. Hence $g$ is a divisor of $(100c+10b+a) - (100c+10a+b) = 9(b-a)$. Similarly, we get that $g$ is a divisor of $9(c-b)$ and of $9(c-a)$. If we set $x = b-a, y = c-b, z = c-a$, then $x, y, z$ are positive integers not exceeding 8, and satisfy $x+y=z$. If we denote by $g'$ the greatest common divisor of $x, y, z$ then $g$ is a divisor of $9g'$.\n\n(1) If $g' \\ge 5$, there exists at most 1 number less than or equal to 8 divisible by $g'$, and we get a contradiction to the fact that $x + y = z$. So, $g' \\ge 5$ is impossible.\n\n(2) If $g' = 4$, then 4 and 8 are the only positive integers not bigger than 8 and divisible by 4, so we must have $(x, y, z) = (4, 4, 8)$. We then have $(a, b, c) = (1, 5, 9)$ and $g = 3$.",
          "pages": [
            "P2"
          ],
          "status": "truncated"
        }
      ],
      "statement_images": [],
      "statement_latex": "Suppose $n$ is a positive integer of 3 distinct non-zero digits. Let $g$ be the greatest common divisor of the 6 numbers obtained by permuting the digits of $n$. Determine the maximum possible value that $g$ can take."
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_bd6dc73bf550",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "(3) If $g' = 3$, then 3 and 6 are the only positive integers not bigger than 8 and divisible by 3, so we must have $(x, y, z) = (3, 3, 6)$. Then $(a, b, c)$ must be $(1, 4, 7)$ or $(2, 5, 8)$ or $(3, 6, 9)$ and the value of $g$ is 3, 3, 9, respectively.\n\n(4) If $g' \\le 2$, then since $g$ divides $9g'$, we must have $g \\le 9g' \\le 18$.\n\nThus we have shown that $g \\le 18$. On the other hand if $n = 468$, then $g = 18$ and this shows that 18 is the maximum possible value for $g$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "3. [18]\n\nFirst, let us show that $g$ cannot exceed 18 for any $n$. Denote by $a, b, c$ the 3 digits of $n$, where we assume $a < b < c$. Both $100c+10b+a$ and $100c+10a+b$ are numbers obtained by permuting the digits of $n$. Hence $g$ is a divisor of $(100c+10b+a) - (100c+10a+b) = 9(b-a)$. Similarly, we get that $g$ is a divisor of $9(c-b)$ and of $9(c-a)$. If we set $x = b-a, y = c-b, z = c-a$, then $x, y, z$ are positive integers not exceeding 8, and satisfy $x+y=z$. If we denote by $g'$ the greatest common divisor of $x, y, z$ then $g$ is a divisor of $9g'$.\n\n(1) If $g' \\ge 5$, there exists at most 1 number less than or equal to 8 divisible by $g'$, and we get a contradiction to the fact that $x + y = z$. So, $g' \\ge 5$ is impossible.\n\n(2) If $g' = 4$, then 4 and 8 are the only positive integers not bigger than 8 and divisible by 4, so we must have $(x, y, z) = (4, 4, 8)$. We then have $(a, b, c) = (1, 5, 9)$ and $g = 3$."
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_cc9f3cac0e7a",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "have $a_N \\ge 6N$. From\n\n$$\n5 \\ge a_N - a_{N+1} \\ge 6N - 5(N+1) = N - 5\n$$\n\nwe obtain that $N \\le 10$. We have thus shown that if $n \\ge 11$, then $a_n \\le 5n$. In particular, $a_{11} \\le 55$. and since $a_n$ is a multiple of $n$ and does not exceed $a_{n+1} + 5$, we obtain recursively,\n\n$$\n\\begin{align*} \na_{10} &\\le 60, \\quad a_9 \\le 63, \\quad a_8 \\le 64, \\quad a_7 \\le 63, \\quad a_6 \\le 66, \\\\\na_5 &\\le 70, \\quad a_4 \\le 72, \\quad a_3 \\le 75, \\quad a_2 \\le 80, \\quad a_1 \\le 85. \n\\end{align*}\n$$\n\nIf, on the other hand, we define\n\n$$\n\\begin{align*} \na_1 &= 85, \\quad a_2 = 80, \\quad a_3 = 75, \\quad a_4 = 72, \\quad a_5 = 70, \\quad a_6 = 66, \\\\\na_7 &= 63, \\quad a_8 = 64, \\quad a_9 = 63, \\quad a_{10} = 60, \\quad a_n = 5n(n \\ge 11) \n\\end{align*}\n$$\n\nthen this sequence can be shown to satisfy the conditions of the problem, and hence we conclude that 85 is the desired maximum.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "7. [85]\n\nLet $a_1, a_2, a_3, \\dots$ be an infinite sequence of positive integers satisfying the conditions of the problem. From $a_{n+1} \\le a_n + 5$ ($n = 1, 2, \\dots$) it follows that for every $n$ $a_n \\le 5$ ($n-1$) + $a_1$ is satisfied. In particular, for all sufficiently large $n$ $a_n < 6n$ is satisfied (in fact, $n \\ge a_1 - 4$ will do.) As $a_n$ is a multiple of $n$ by assumption, we see that $a_n \\le 5n$ for all sufficiently large $n$.\n\nSuppose there exists an *n* for which *a*<sub>*n*</sub> > 5*n*. Since there are only a finite number of such *n*'s, as we saw above, there must be the largest such *n*, which we denote by *N*. Then, *a*<sub>*N*</sub> > 5*N* and *a*<sub>*N*+1</sub> ≤ 5(*N* + 1). As *a*<sub>*N*</sub> is a multiple of *N*, we in fact"
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_31ae0dca219a",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "(1) For each $i$, the two stones located at $(2i - 1)$-th spot and $2i$-th spot are of the same color.\n\n(2) There exists an $i$, for which the stones located at $2i - 1$-th spot and $2i$-th spot have different colors.\n\nHere and for the remainder of this argument, by the \"j-th spot\" we mean the spot in the j-th position counted from the left-most location.\n\nThe sum of the numbers of ways of putting stones in fashion (1) and in fashion (2), which equals the total number of ways of putting 4020 stones (2010 of which are white and the rest black) on a line equals $4020C_{2010}$, since it is the same as the number of ways of finding 2010 spots for black stones to go in out of 4020 possible spots. By lumping the two consecutive stones of the same color put into $2i - 1$-th and $2i$-th spots together, we can conclude that the number of ways of putting stones so as to satisfy the condition (1) is given by $2010C_{1005}$. Therefore, there are $4020C_{2010} - 2010C_{1005}$ ways of putting stones to satisfy the condition (2).\n\nLet us consider now in each of the two cases above how many ways of putting stones to satisfy the required condition of the problem.\n\nWe first show that none of the ways of distributing stones to satisfy the condition (1) satisfies the requirement of the problem. The reason for this is that in the configuration of the locations of stones satisfying (1) the number of the pairs of stones in the configuration with a white stone lying on the right of a black stone must always be even. This is so, because in a configuration satisfying the condition (1) if for some pair $(i, j)$ with $2i - 1 < j$ the stone in the $(2i - 1)$-th spot is black and the one in the $j$-th spot is white, then we must have $2i < j$ (since by the condition (1), the stone in the $2i$-th spot must be black), and we have a pair of stones in the same configuration in which, the stone in $2i$-th spot is black and the one in the $j$-th spot is white.\n\nOn the other hand, exactly half of the configurations satisfying the condition (2) can be shown to satisfy the condition of the problem. Let us show why this is the case. Let us take a configuration satisfying the condition (2) and call it A. For A there is at least one number $i$ for which the stone located in the $(2i - 1)$-th spot and the stone located in the $2i$-th spot have different colors. Let $k$ be the smallest of such $i$'s. Let B be the configuration obtained by interchanging the stones in the $(2k - 1)$-th spot and $2k$-th spot and leaving all other stones as they are in the configuration A. Clearly, B is also a configuration satisfying the condition (2). By changing from A to B the number of pairs of stones for which a white stone lies on the right of a black stone in the configuration changes exactly by 1. We also note that we get the configuration A from B by going through the same procedure as we did for getting B from A. Thus, if we put A and B together to form a pair of configurations of type (2), then we can see that the number of such pairs of configurations is exactly $\\frac{1}{2}$ of the total number of configurations satisfying the condition (2). Since one and only one of configurations constituting such a pair of configurations satisfies the requirement of the problem, we see that the answer to the problem is given by $\\frac{4020C_{2010} - 2010C_{1005}}{2}$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "$$\n\\frac{4020C_{2010} - 2010C_{1005}}{2} \\text{ ways}\n$$\n\nWhen you line-up 4020 stones, 2010 of them white and 2010 others black, along a horizontal straight line, you have the following two possibilities for the resulting configuration, regardless of the condition of the problem:"
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_d6ad1c74d948",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "**Lemma:** For any set of positive integers $m_1, m_2, \\dots, m_k$, we have the inequality\n\n$$\nS(\\sum_{i=0}^{k} m_i) \\le \\sum_{i=0}^{k} S(m_i).\n$$\n\nFurthermore, equality holds in the inequality above if the following condition is satisfied:\n\nFor any nonnegative integer $j$, $10^j$-th digit of $m_i = 0$ for all but at most one $i$. \n**Proof:** Whenever there is a carry-over of digits when the addition $\\sum_{i=0}^{k} m_i$ is performed, there occurs the reduction by 9 for the value of the sum of digits. Thus, the inequality is satisfied. If the additional condition is satisfied then no carry-over of digits will occur and we get the equality.\n\nFor a quintuple $(a_1, \\dots, a_5)$ of non-negative integers satisfying the condition $a_1 + \\dots + a_5 = 5$ (in the sequel, we simply call such \"a quintuple\"), denote by $f(a_1, \\dots, a_5)$ the coefficient of the term $X_1^{a_1} \\cdots X_5^{a_5}$ in the expansion of the multinomial $(X_1 + X_2 + X_3 + X_4 + X_5)^5$. The values of $f(a_1, \\dots, a_5)$ are given by $\\frac{5!}{(a_1!)^{(a_2)!} \\cdots (a_5!)^!}$ for each quintuple $(a_1, \\dots, a_5)$ (we use the convention $0! = 1$).\n\nNow, since $n$ satisfies the condition $S(n) = 5$, we can represent $n$ in the form $n = 10^{k_1} + 10^{k_2} + 10^{k_3} + 10^{k_4} + 10^{k_5}$, using non-negative integers $k_1, k_2, k_3, k_4, k_5$. (Note that $k'_j$s need not have distinct values.) Then, using the multinomial expansion we can write\n\n$$\nn^5 = \\sum f(a_1, \\dots, a_5) 10^{a_1 k_1 + \\dots + a_5 k_5},\n$$\n\nwhere the sum is taken over all possible quintuples $(a_1, \\dots, a_5)$. By using the Lemma, we then get\n\n$$\nS(n^5) \\le \\sum S(f(a_1, \\dots, a_5) \\cdot 10^{a_1 k_1 + \\dots + a_5 k_5}) = \\sum S(f(a_1, \\dots, a_5)) \\quad (1)\n$$\n\nHere again the sums are taken over all possible quintuples $(a_1, \\dots, a_k)$.\n\nFor a quintuple $(a_1, \\dots, a_5)$, let us denote by $(b_1, \\dots, b_5)$ a quintuple obtained by rearranging the entries in the decreasing order. Then, there are only the following 7 possibilities for $(b_1, \\dots, b_5)$:\n\n$$\n(5, 0, 0, 0, 0), (4, 1, 0, 0, 0), (3, 2, 0, 0, 0), (3, 1, 1, 0, 0), \\\\ (2, 2, 1, 0, 0), (2, 1, 1, 1, 0), (1, 1, 1, 1, 1),\n$$\n\nand each of these $(b_1, \\dots, b_5)$ corresponds to 5, 20, 20, 30, 30, 20, 1 different $(a_1, \\dots, a_5)$'s, respectively. Furthermore, we have $f(a_1, \\dots, a_5) = f(b_1, \\dots, b_5)$ if $(b_1, \\dots, b_5)$ is the decreasing arrangement of $(a_1, \\dots, a_5)$. The value of $f(b_1, \\dots, b_5)$ for the 7 different $(b_1, \\dots, b_5)$'s are given by 1, 5, 10, 20, 30, 60, 120, respectively. Therefore, we have that the value of $\\sum S(f(a_1, \\dots, a_5))$ is given by\n\n$$\n5 \\cdot S(1) + 20 \\cdot S(5) + 20 \\cdot S(10) + 30 \\cdot S(20) + 30 \\cdot S(30) + 20 \\cdot S(60) + 1 \\cdot S(120), \\\\ \\text{which equals } 5 \\cdot 1 + 20 \\cdot 5 + 20 \\cdot 1 + 30 \\cdot 2 + 30 \\cdot 3 + 20 \\cdot 6 + 1 \\cdot 3 = 398. \\text{ Therefore,} \\\\ \\text{we have } S(n^5) \\le 398.\n$$\n\nFinally, let us show that it is possible to construct $n$ for which $S(n^5) = 398$. Choose $k_1, \\dots, k_5$ suitably so that for any pair of different quintuples $(a_1, \\dots, a_5)$ the corresponding values of $a_1 k_1 + \\dots + a_5 k_5$ differ at least by 3 (for instance, let $k_i = 3 \\times 6^{i-1}$ for $i = 1, \\dots, 5$). Then, since $f(a_1, \\dots, a_5) < 10^3$ is satisfied for any quintuple $(a_1, \\dots, a_5)$, for any non-negative $j$ the coefficient of $10^j$ term in the sum $\\sum f(a_1, \\dots, a_5) 10^{a_1 k_1 + \\dots + a_5 k_5}$ is 0 except for at most one quintuple $(a_1, \\dots, a_5)$.\n\nTherefore, by the Lemma, we have the equality in the inequality (1). This shows that 398 is the desired answer to the problem.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "(1) For each $i$, the two stones located at $(2i - 1)$-th spot and $2i$-th spot are of the same color.\n\n(2) There exists an $i$, for which the stones located at $2i - 1$-th spot and $2i$-th spot have different colors.\n\nHere and for the remainder of this argument, by the \"j-th spot\" we mean the spot in the j-th position counted from the left-most location.\n\nThe sum of the numbers of ways of putting stones in fashion (1) and in fashion (2), which equals the total number of ways of putting 4020 stones (2010 of which are white and the rest black) on a line equals $4020C_{2010}$, since it is the same as the number of ways of finding 2010 spots for black stones to go in out of 4020 possible spots. By lumping the two consecutive stones of the same color put into $2i - 1$-th and $2i$-th spots together, we can conclude that the number of ways of putting stones so as to satisfy the condition (1) is given by $2010C_{1005}$. Therefore, there are $4020C_{2010} - 2010C_{1005}$ ways of putting stones to satisfy the condition (2).\n\nLet us consider now in each of the two cases above how many ways of putting stones to satisfy the required condition of the problem.\n\nWe first show that none of the ways of distributing stones to satisfy the condition (1) satisfies the requirement of the problem. The reason for this is that in the configuration of the locations of stones satisfying (1) the number of the pairs of stones in the configuration with a white stone lying on the right of a black stone must always be even. This is so, because in a configuration satisfying the condition (1) if for some pair $(i, j)$ with $2i - 1 < j$ the stone in the $(2i - 1)$-th spot is black and the one in the $j$-th spot is white, then we must have $2i < j$ (since by the condition (1), the stone in the $2i$-th spot must be black), and we have a pair of stones in the same configuration in which, the stone in $2i$-th spot is black and the one in the $j$-th spot is white.\n\nOn the other hand, exactly half of the configurations satisfying the condition (2) can be shown to satisfy the condition of the problem. Let us show why this is the case. Let us take a configuration satisfying the condition (2) and call it A. For A there is at least one number $i$ for which the stone located in the $(2i - 1)$-th spot and the stone in the $2i$-th spot have different colors. Let $k$ be the smallest of such $i$'s. Let B be the configuration obtained by interchanging the stones in the $(2k - 1)$-th spot and $2k$-th spot and leaving all other stones as they are in the configuration A. Clearly, B is also a configuration satisfying the condition (2). By changing from A to B the number of pairs of stones for which a white stone lies on the right of a black stone in the configuration changes exactly by 1. We also note that we get the configuration A from B by going through the same procedure as we did for getting B from A. Thus, if we put A and B together to form a pair of configurations of type (2), then we can see that the number of such pairs of configurations is exactly $\\frac{1}{2}$ of the total number of configurations satisfying the condition (2). Since one and only one of configurations constituting such a pair of configurations satisfies the requirement of the problem, we see that the answer to the problem is given by $\\frac{4020C_{2010} - 2010C_{1005}}{2}$.\n\n10. [398]\n\nFirst, let us prove the following lemma."
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_8a12a0159697",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Therefore, by the Lemma, we have the equality in the inequality (1). This shows that 398 is the desired answer to the problem.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Lemma: For any set of positive integers $m_1, m_2, \\dots, m_k$, we have the inequality\n\n$$\nS(\\sum_{i=0}^{k} m_i) \\le \\sum_{i=0}^{k} S(m_i).\n$$\n\nFurthermore, equality holds in the inequality above if the following condition is satisfied:\n\nFor any nonnegative integer $j$, $10^j$-th digit of $m_i = 0$ for all but at most one $i$. \nProof: Whenever there is a carry-over of digits when the addition $\\sum_{i=0}^{k} m_i$ is performed, there occurs the reduction by 9 for the value of the sum of digits. Thus, the inequality is satisfied. If the additional condition is satisfied then no carry-over of digits will occur and we get the equality.\n\nFor a quintuple $(a_1, \\dots, a_5)$ of non-negative integers satisfying the condition $a_1 + \\dots + a_5 = 5$ (in the sequel, we simply call such \"a quintuple\"), denote by $f(a_1, \\dots, a_5)$ the coefficient of the term $X_1^{a_1} \\cdots X_5^{a_5}$ in the expansion of the multinomial $(X_1 + X_2 + X_3 + X_4 + X_5)^5$. The values of $f(a_1, \\dots, a_5)$ are given by $\\frac{5!}{(a_1!)^{(a_2)!} \\cdots (a_5!)^!}$ for each quintuple $(a_1, \\dots, a_5)$ (we use the convention $0! = 1$).\n\nNow, since $n$ satisfies the condition $S(n) = 5$, we can represent $n$ in the form $n = 10^{k_1} + 10^{k_2} + 10^{k_3} + 10^{k_4} + 10^{k_5}$, using non-negative integers $k_1, k_2, k_3, k_4, k_5$. (Note that $k'_j$s need not have distinct values.) Then, using the multinomial expansion we can write\n\n$$\nn^5 = \\sum f(a_1, \\dots, a_5) 10^{a_1 k_1 + \\dots + a_5 k_5},\n$$\n\nwhere the sum is taken over all possible quintuples $(a_1, \\dots, a_5)$. By using the Lemma, we then get\n\n$$\nS(n^5) \\le \\sum S(f(a_1, \\dots, a_5) \\cdot 10^{a_1 k_1 + \\dots + a_5 k_5}) = \\sum S(f(a_1, \\dots, a_5)) \\quad (1)\n$$\n\nHere again the sums are taken over all possible quintuples $(a_1, \\dots, a_k)$.\n\nFor a quintuple $(a_1, \\dots, a_5)$, let us denote by $(b_1, \\dots, b_5)$ a quintuple obtained by rearranging the entries in the decreasing order. Then, there are only the following 7 possibilities for $(b_1, \\dots, b_5)$:\n\n$$\n(5, 0, 0, 0, 0), (4, 1, 0, 0, 0), (3, 2, 0, 0, 0), (3, 1, 1, 0, 0), \\\\ (2, 2, 1, 0, 0), (2, 1, 1, 1, 0), (1, 1, 1, 1, 1),\n$$\n\nand each of these $(b_1, \\dots, b_5)$ corresponds to 5, 20, 20, 30, 30, 20, 1 different $(a_1, \\dots, a_5)$'s, respectively. Furthermore, we have $f(a_1, \\dots, a_5) = f(b_1, \\dots, b_5)$ if $(b_1, \\dots, b_5)$ is the decreasing arrangement of $(a_1, \\dots, a_5)$. The value of $f(b_1, \\dots, b_5)$ for the 7 different $(b_1, \\dots, b_5)$'s are given by 1, 5, 10, 20, 30, 60, 120, respectively. Therefore, we have that the value of $\\sum S(f(a_1, \\dots, a_5))$ is given by\n\n$$\n5 \\cdot S(1) + 20 \\cdot S(5) + 20 \\cdot S(10) + 30 \\cdot S(20) + 30 \\cdot S(30) + 20 \\cdot S(60) + 1 \\cdot S(120), \\\\ \\text{which equals } 5 \\cdot 1 + 20 \\cdot 5 + 20 \\cdot 1 + 30 \\cdot 2 + 30 \\cdot 3 + 20 \\cdot 6 + 1 \\cdot 3 = 398. \\text{ Therefore,} \\\\ \\text{we have } S(n^5) \\le 398.\n$$\n\nFinally, let us show that it is possible to construct $n$ for which $S(n^5) = 398$. Choose $k_1, \\dots, k_5$ suitably so that for any pair of different quintuples $(a_1, \\dots, a_5)$ the corresponding values of $a_1 k_1 + \\dots + a_5 k_5$ differ at least by 3 (for instance, let $k_i = 3 \\times 6^{i-1}$ for $i = 1, \\dots, 5$). Then, since $f(a_1, \\dots, a_5) < 10^3$ is satisfied for any quintuple $(a_1, \\dots, a_5)$, for any non-negative $j$ the coefficient of $10^j$ term in the sum $\\sum f(a_1, \\dots, a_5) 10^{a_1 k_1 + \\dots + a_5 k_5}$ is 0 except for at most one quintuple $(a_1, \\dots, a_5)$."
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_d94e356d67c8",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "For different groups X and Y of airports, we say that if Y is accessible from X if the following condition is satisfied:\n\nThere exist airports A and B such that A belongs to X, B belongs to Y and B is accessible from A.\n\nWe also say that a group X of airports is a startable group if there exists a group Y of airports such that Y is accessible from X. If there is no such group Y, then X is called a non-startable group. X is called an accessible group if there exists a group Y such that X is accessible from Y. If there is no such group Y, then X is called a non-accessible group.\n\nLet us first show that there must exist a non-startable group and a non-accessible group. So, suppose on the contrary every group of airports is startable. Then, there exists a sequence $U_1, U_2, \\dots$ of airports such that for every $i \\ge 1$, $U_{i+1}$ is accessible from $U_i$. Since the number $n$ of groups is finite, there exist integers $j < k$ for which $U_j = U_k$. Since $U_j$ and $U_{j+1}$ are different groups, we must have $j < j+1 < k$. But since each group of airports satisfies the condition (b), every airport in the group $U_{j+1}$ is accessible from every airport in the group $U_j$, and every airport in the group $U_k = U_j$ is accessible from every airport in the group $U_{j+1}$. But this contradicts the condition (c). Thus we have shown that there must exist a non-startable group. Similarly, we can show that there must exist a non-accessible group.\n\nNow, let X be one of the non-startable groups, and Y be one of the non-accessible groups. Suppose that the direct flight canceled was from airport A to airport B. Since the condition (1) of the problem was satisfied before the flight was canceled, A must belong to the group X and B to the group Y. If $X = Y$, then by the condition (b) it would be possible to reach B from A without using the direct flight, and this would contradict the fact that the condition (2) of the problem was satisfied before the cancelation. Therefore, we must have $X \\neq Y$. We also see that A was accessible from B before the cancelation, and there was a way to reach B from A without using the direct flight from A to B before the cancelation and hence B is accessible from A even after the cancelation. So, let us suppose that $B = C_1, C_2, \\dots, C_p = A$ is the route of connecting direct flights starting from B and reaching A. Now, choose airports A' and B' in such a way that the following 2 conditions (i) and (ii) are satisfied:\n\n(i) A' belongs to the group X and B' belongs to the group Y.\n\n(ii) There exists a way to reach A' from B' using neither a direct flight between 2 airports belonging to X nor a direct flight between 2 airports belonging to Y.\n\nFor example, among the $C_l$'s belonging to Y, let $C_{l'}$ be the one corresponding to the largest index and define $B' = C_{l'}$, and define $A'$ to be the $C_m$ corresponding to the smallest index among $C_m$ ($m > l'$) belonging to X.\n\nLet us now show by opening a direct flight we can attain a situation where both the conditions (1) and (2) are satisfied. Let us denote by $A_1, A_2, \\dots, A_s$ and $B_1, B_2, \\dots, B_t$ the airports belonging to the group X and Y, respectively. In order to satisfy the condition (1), we see that we have to open a direct flight starting from an airport in the group X and arriving at an airport belonging to the group Y. Therefore, the number of ways to open a direct flight to achieve our goal is at most st. Furthermore, we have the condition $s + t \\le 2010$. Thus, we see that if\n\n$s=1$ or $t=1$ is satisfied, the number of ways is less than or equal to 2009. We assume in the sequel that both $s$ and $t$ are greater than or equal to 2.\n\nSince $X$ satisfies the condition (b), there exists an airport $A''$ in $X$ such that there exists a direct flight from $A''$ to $A'$. Similarly, there exists an airport $B''$ in $Y$ such that there exists a direct flight from $B'$ to $B''$. Suppose opening a direct flight from $A_i$ to $B_j$ we can get the situation where both of the conditions (1) and (2) are satisfied. We can show that $A_i \\neq A''$. Suppose on the contrary we have $A_i = A''$. Then after opening the direct flight $A_i \\to B_j$, we get a direct flight from $A''$ to $B_j$, and by the condition (b) we can reach $B'$ from $B_j$ by using several direct flights between 2 airports belonging to $Y$, and by the condition (ii) we can reach $A'$ from $B'$ without using any direct flight between 2 airports belonging to $X$. Thus we can reach from $A''$ to $A'$ without using the direct flight from $A''$ to $A'$. If we then cancel the direct flight from $A''$ to $A'$ the condition (1) remains valid, so we get a contradiction to the fact that the condition (2) must be satisfied after the direct flight $A_i \\to B_j$ is opened. Therefore, we must have $A_i \\neq A''$. By a similar argument we can also show that $B_j \\neq B''$.\n\nWe thus see that the number of ways of opening a direct flight so as to have the conditions (1) and (2) satisfied is at most $(s-1)(t-1)$. Since $s+t \\le 2010$ is also satisfied, we see that the desired number is at most $1004^2$.\n\nLet us finally show that there is an example where there are $1004^2$ ways of opening a direct flight to have the conditions (1) and (2) satisfied.\n\nSuppose for 2010 airports $A_1, A_2, \\dots, A_{1005}, B_1, B_2, \\dots, B_{1005}$ there are direct flights from $A_i$ to $A_{i+1}$, from $B_{i+1}$ to $B_i$ for each $i$ ($1 \\le i \\le 1004$), direct flights from $A_{1005}$ to $A_1$ and $B_1$ to $B_{1005}$, and direct flights from $A_4$ to $B_4$ and from $B_2$ to $A_2$. We can easily check that the conditions (1) and (2) are satisfied with this situation. Now suppose we cancel the direct flight from $A_4$ to $B_4$. Then by opening any direct flight from $A_i$ to $B_j$ where $2 \\le i \\le 1005$ and $2 \\le j \\le 1005$ we can get the situation where the conditions (1) and (2) will be satisfied. Thus there are at least $1004^2$ ways of opening a direct flight to have both of the conditions (1) and (2) are satisfied.\n\nWe have thus shown that the desired answer to the problem is $1004^2 = 1008016$.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let us say that the airport B is accessible from the airport A if one can reach B starting from A by making connections of direct flights.\n\nFirst, we will show that the answer we seek is no more than $1004^2$.\n\nIn the sequel until we say otherwise, we will assume that we are in the situation where one of the direct flights was canceled from the original set-up in which the operation of direct flights satisfied both of the conditions (1) and (2) of the problem. Then, we see that there is a positive integer $n$ such that we can divide the set of the 2010 airports into subsets $V_1, V_2, \\dots, V_n$ in such a way that the following conditions (a), (b), (c) are satisfied.\n\n(a) None of the subsets $V_i$ ($1 \\le i \\le n$) is empty, and every airport belongs to one and only one of the $V_i$'s.\n\n(b) For each $i$ ($1 \\le i \\le n$), for any pair of different airports A and B belonging to $V_i$, B is accessible from A.\n\n(c) For any pair of different $i, j$ ($1 \\le i, j \\le n$), there are different airports A and B belonging to $V_i$ or $V_j$ such that B is not accessible from A."
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_dbd55e5c7404",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Without loss of generality we may assume that $AB < AC$ is satisfied. Let us write, for the sake of simplicity, $\\angle B$ for $\\angle ABC$ and $\\angle C$ for $\\angle BCA$.\n\nUsing the fact that the points $B, P, Q, C$ lie on the circumference of the same circle, we get\n\n$$\n\\angle AQH - \\angle APH = \\angle AQP - \\angle APQ = \\angle B - \\angle C,\n$$\n\nfrom which it follows that\n\n$$\n\\begin{aligned} \\angle AHP - \\angle AHQ &= (90^\\circ + \\angle BHP) - (90^\\circ + \\angle CHQ) \\\\ &= (\\angle B - \\angle APH) - (\\angle C - \\angle AQH) = 2(\\angle B - \\angle C). \\end{aligned}\n$$\n\nLet $P'$ be the point symmetrically located to the point $P$ with respect to the line $AH$. Then, we have\n\n$$\n\\angle QHP' = \\angle AHP' - \\angle AHQ = \\angle AHP - \\angle AHQ = 2(\\angle B - \\angle C)\n$$\n\nWe also have\n\n$$\n\\angle QAP' = \\angle HAQ - \\angle HAP' = \\angle HAQ - \\angle HAP = \\angle B - \\angle C.\n$$\n\nConsequently, we have $\\angle QHP' = 2\\angle QAP'$. Since the two points $A, H$ lie in the same half plane determined by the line $P'Q$, it follows from $\\angle QHP' = 2\\angle QAP'$ and $HP' = HQ$ that the point $A$ lies on the circumference of the circle with center $H$ and the radius $HQ$. Hence, we have $HA = HQ = HP$ and this proves the assertion of the problem.\n\n**Alternate Solution:** Assume that $AB < AC$. Let $O$ be the circum-center of the triangle $APQ$ and $M$ be the mid-point of the line segment $PQ$. Then, since both $H$ and $O$ lie on the perpendicular bisector of the line segment $PQ$, the points $M, H, O$ lie on the same straight line. On the other hand, since\n\n$$\n\\angle PAO = \\frac{180^\\circ - \\angle AOP}{2} = 90^\\circ - \\angle AQP = 90^\\circ - \\angle B = \\angle PAH,\n$$\n\nthe points $A, H, O$ also lie on the same straight line.\n\nFrom\n\n$$\n\\begin{aligned} \\angle AHM &= 360^\\circ - \\angle HAQ - \\angle AQM - \\angle QMH \\\\ &= 270^\\circ - (90^\\circ - \\angle C) - \\angle B = 180^\\circ - \\angle B + \\angle C \\neq 180^\\circ \\end{aligned}\n$$\n\nwe see that the lines $AH$ and $MH$ are not parallel. Since both lines $AH$ and $MH$ pass through both of the points $O$ and $H$, these points must coincide. Therefore, we have shown that $H$ is the circum-center of the triangle $APQ$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "For an acute triangle ABC satisfying $AB \\neq AC$, denote by $H$ the foot of the perpendicular line segment drawn from the point A to the side BC. Take points P and Q in such a way that the 3 points A, B, P and the 3 points A, C, Q lie on a straight line in the given order, respectively. If the 4 points B, C, P, Q lie on the circumference of a circle, and if the condition $HP = HQ$ is satisfied, prove that the point H must coincide with the circum-center of the triangle APQ.\n\nHere we mean by XY the length of the line segment XY."
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_1c0d0e3be11d",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "We prove the assertion of the problem by using the mathematical induction on $k$.\n\nIf $k=1$ let $n=1$. Then, $n^n - m = 1 - m$ is divisible by 2 since $m$ is odd. So the assertion holds.\n\nSuppose the assertion holds when $k = t$, we will show that the assertion holds when $k = t + 1$.\n\nFrom the induction hypothesis, it follows that there exists a positive integer $n_0$ for which\n\n$$\nn_0^{n_0} \\equiv m \\pmod{2^t}.\n$$\n\nSince $n_0^{n_0}$ is odd, $n_0$ is odd. If $n_0^{n_0} \\equiv m \\pmod{2^{t+1}}$ is satisfied, then this $n_0$ satisfies the assertion for the case of $k = t + 1$. If not, we have $n_0^{n_0} \\equiv m + 2^t \\pmod{2^{t+1}}$. Let us show that $n = n_0 + 2^t$ will satisfy the condition in this case.\n\nThis $n$ is then odd and hence $n$ and $2^{t+1}$ are relatively prime, and by Euler's Theorem we have $n^2 \\equiv 1 \\pmod{2^{t+1}}$. Consequently, we have\n\n$$\nn^n = n^{n_0+2^t} \\equiv n^{n_0} \\cdot n^{2^t} \\equiv n^{n_0} \\pmod{2^{t+1}}.\n$$\n\nThe binomial expansion of $n^{n_0} = (n_0 + 2^t)^{n_0}$ gives us\n\n$$\nn^{n_0} = \\sum_{i=0}^{n_0} n_i \\cdot 2^{it} n_0^{n_0-i}.\n$$\n\nSince from the fact that $it \\ge t+1$ if $i \\ge 2$, it follows that $2^{it} \\equiv 0 \\pmod{2^{t+1}}$ and we get\n\n$$\n\\begin{aligned} n^{n_0} &\\equiv n_0^{n_0} + n_0 C_1 \\cdot 2^t n_0^{n_0-1} \\equiv (m + 2^t) + 2^t n_0^{n_0} \\pmod{2^{t+1}} \\\\ &\\equiv m + 2^t (n_0^{n_0} + 1). \\end{aligned}\n$$\n\nSince $n_0^{n_0} + 1$ is an even number, we get from the above that\n\n$$\nn^n \\equiv n^{n_0} \\equiv m + 2^t (n_0^{n_0} + 1) \\equiv m \\pmod{2^{t+1}},\n$$\n\nwhich shows that this $n$ satisfies the condition for $k = t + 1$, and this completes the induction.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let $k$ be a positive integer and $m$ an odd integer. Show that there exists a positive integer $n$ for which the number $n^n - m$ is divisible by $2^k$."
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_bb7d4a2888d8",
      "language": "en",
      "page numbers": [
        0,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Throughout the discussion of this problem, we exclude the consideration of bridges both ends of which belong to the same island.\n\nFor a positive integer $n$ greater than or equal to 2, we say that a collection of islands and bridges has the property $T(n)$ if the following three conditions (i), (ii), (iii) are satisfied:\n\n(i) Any pair of islands are connected by one of the bridges or they are not.\n\n(ii) There are $n$ islands and $n-1$ bridges.\n\n(iii) One can reach any island from any other island by crossing certain number of bridges.\n\nWe also say that a collection of islands and bridges has a closed loop if the following conditions are satisfied:\n\nThere exist an integer $k$ greater than or equal to 3 and $k$ distinct islands $A_1, A_2, \\dots, A_k$ such that for each $i$ ($1 \\le i \\le k-1$) the islands $A_i$ and $A_{i+1}$ are connected by a bridge, and the islands $A_k$ and $A_1$ are connected by a bridge.\n\nBy degree of an island we mean the number of bridges starting from that island. Call an island an end island if the island has degree 1, and a regular island if it has degree $\\ge 2$. Two islands $A$ and $B$ are said to be adjacent if there is a bridge connecting $A$ and $B$. The following assertions for a collection of islands and bridges having the property $T(n)$ are valid:",
          "pages": [
            "P2"
          ],
          "status": "truncated"
        }
      ],
      "statement_images": [],
      "statement_latex": "Suppose there are 2010 islands, and 2009 bridges connecting some pair of these islands. Any pair of islands are either connected by one of the bridges or they are not. Also, any bridge connects two different islands. Furthermore, one can reach any island from any other island by crossing certain number of bridges. One day, each of the islands sent a letter to some island (possibility of sending the letter to itself was allowed). After the letters were delivered, the following facts came to light:\n\nFor islands A and B which are connected by a bridge, the addressee of the letter from A and the addressee of the letter from B are either connected by a bridge or else they are the same island.\n\nShow that in this situation at least one of the following statements must be valid:\n\n(1) There must be an island which sent its letter to itself.\n\n(2) There is a pair of islands connected by a bridge, which exchanged letters."
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_829f801e1f63",
      "language": "en",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "**Alternate Solution:** Assume that $AB < AC$. Let $O$ be the circum-center of the triangle $APQ$ and $M$ be the mid-point of the line segment $PQ$. Then, since both $H$ and $O$ lie on the perpendicular bisector of the line segment $PQ$, the points $M, H, O$ lie on the same straight line. On the other hand, since\n\n$$\n\\angle PAO = \\frac{180^\\circ - \\angle AOP}{2} = 90^\\circ - \\angle AQP = 90^\\circ - \\angle B = \\angle PAH,\n$$\n\nthe points $A, H, O$ also lie on the same straight line.\n\nFrom\n\n$$\n\\begin{aligned} \\angle AHM &= 360^\\circ - \\angle HAQ - \\angle AQM - \\angle QMH \\\\ &= 270^\\circ - (90^\\circ - \\angle C) - \\angle B = 180^\\circ - \\angle B + \\angle C \\neq 180^\\circ \\end{aligned}\n$$\n\nwe see that the lines $AH$ and $MH$ are not parallel. Since both lines $AH$ and $MH$ pass through both of the points $O$ and $H$, these points must coincide. Therefore, we have shown that $H$ is the circum-center of the triangle $APQ$.",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "1. Without loss of generality we may assume that $AB < AC$ is satisfied. Let us write, for the sake of simplicity, $\\angle B$ for $\\angle ABC$ and $\\angle C$ for $\\angle BCA$.\n\nUsing the fact that the points $B, P, Q, C$ lie on the circumference of the same circle, we get\n\n$$\n\\angle AQH - \\angle APH = \\angle AQP - \\angle APQ = \\angle B - \\angle C,\n$$\n\nfrom which it follows that\n\n$$\n\\begin{aligned} \\angle AHP - \\angle AHQ &= (90^\\circ + \\angle BHP) - (90^\\circ + \\angle CHQ) \\\\ &= (\\angle B - \\angle APH) - (\\angle C - \\angle AQH) = 2(\\angle B - \\angle C). \\end{aligned}\n$$\n\nLet $P'$ be the point symmetrically located to the point $P$ with respect to the line $AH$. Then, we have\n\n$$\n\\angle QHP' = \\angle AHP' - \\angle AHQ = \\angle AHP - \\angle AHQ = 2(\\angle B - \\angle C)\n$$\n\nWe also have\n\n$$\n\\angle QAP' = \\angle HAQ - \\angle HAP' = \\angle HAQ - \\angle HAP = \\angle B - \\angle C.\n$$\n\nConsequently, we have $\\angle QHP' = 2\\angle QAP'$. Since the two points $A, H$ lie in the same half plane determined by the line $P'Q$, it follows from $\\angle QHP' = 2\\angle QAP'$ and $HP' = HQ$ that the point $A$ lies on the circumference of the circle with center $H$ and the radius $HQ$. Hence, we have $HA = HQ = HP$ and this proves the assertion of the problem."
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_b4c1c23f5c80",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Suppose the assertion holds when $k = t$, we will show that the assertion holds when $k = t + 1$.\n\nFrom the induction hypothesis, it follows that there exists a positive integer $n_0$ for which\n\n$$\nn_0^{n_0} \\equiv m \\pmod{2^t}.\n$$\n\nSince $n_0^{n_0}$ is odd, $n_0$ is odd. If $n_0^{n_0} \\equiv m \\pmod{2^{t+1}}$ is satisfied, then this $n_0$ satisfies the assertion for the case of $k = t + 1$. If not, we have $n_0^{n_0} \\equiv m + 2^t \\pmod{2^{t+1}}$. Let us show that $n = n_0 + 2^t$ will satisfy the condition in this case.\n\nThis $n$ is then odd and hence $n$ and $2^{t+1}$ are relatively prime, and by Euler's Theorem we have $n^2 \\equiv 1 \\pmod{2^{t+1}}$. Consequently, we have\n\n$$\nn^n = n^{n_0+2^t} \\equiv n^{n_0} \\cdot n^{2^t} \\equiv n^{n_0} \\pmod{2^{t+1}}.\n$$\n\nThe binomial expansion of $n^{n_0} = (n_0 + 2^t)^{n_0}$ gives us\n\n$$\nn^{n_0} = \\sum_{i=0}^{n_0} n_i \\cdot 2^{it} n_0^{n_0-i}.\n$$\n\nSince from the fact that $it \\ge t+1$ if $i \\ge 2$, it follows that $2^{it} \\equiv 0 \\pmod{2^{t+1}}$ and we get\n\n$$\n\\begin{aligned} n^{n_0} &\\equiv n_0^{n_0} + n_0 C_1 \\cdot 2^t n_0^{n_0-1} \\equiv (m + 2^t) + 2^t n_0^{n_0} \\pmod{2^{t+1}} \\\\ &\\equiv m + 2^t (n_0^{n_0} + 1). \\end{aligned}\n$$\n\nSince $n_0^{n_0} + 1$ is an even number, we get from the above that\n\n$$\nn^n \\equiv n^{n_0} \\equiv m + 2^t (n_0^{n_0} + 1) \\equiv m \\pmod{2^{t+1}},\n$$\n\nwhich shows that this $n$ satisfies the condition for $k = t + 1$, and this completes the induction.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "2. We prove the assertion of the problem by using the mathematical induction on $k$.\n\nIf $k=1$ let $n=1$. Then, $n^n - m = 1 - m$ is divisible by 2 since $m$ is odd. So the assertion holds."
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_7c91501e92bb",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "**Lemma 1.** If a collection has the property $T(n)$, then there must exist an end island in this collection.\n\n**Proof:** The sum of the degrees of islands belonging to the collection must equal twice the number of bridges in the collection, and hence it equals $2(n-1)$. If every island has degree greater than or equal to 2, then the sum of degrees exceeds $2n$, a contradiction. Hence there must be an island in the collection whose degree is 0 or 1, but since by the condition (iii) every island has degree at least 1, we conclude that there must be an island which has degree exactly 1.\n\n**Lemma 2.** If a collection has the property $T(n)$ for some $n$ greater than or equal to 3, then there exists in this collection at least one island which is a regular island.\n\n**Proof:** The sum of degrees of islands in the collection is $2(n-1)$. If every island is an end island then the sum of degrees of islands must be $n$, so we get a contradiction if $n \\ge 3$.\n\n**Lemma 3.** Let $n \\ge 2$. For a collection $U$ of $n$ islands and several bridges connecting these islands, the following two assertions are equivalent:\n\n(a) $U$ has the property $T(n)$.\n\n(b) $U$ satisfies the properties (i) and (iii), and there is no closed loop in $U$.\n\n**Proof:** We will prove the assertion of the lemma by using induction on $n$.\n\nFor the case $n=2$, we note that if $U$ satisfies the properties (i) and (iii), then $U$ has only 2 islands and at least 1 bridge connecting these 2 islands. So if $U$ has the property $T(2)$, then there is only 1 bridge in $U$ and hence there is no loop. Conversely, if $U$ satisfies (i) and (iii), and there is no closed loop in $U$, then there is only 1 bridge and hence $U$ satisfies the property $T(2)$. So, the assertions (a) and (b) are equivalent.\n\nSuppose that the assertion of the Lemma holds when $n = k-1 \\ge 2$. Let us show it also holds when $n = k$. So, let us suppose a collection $U$ has the property $T(k)$. Then, by Lemma 1, $U$ must have an end island. Call it $A$. Let $U'$ be the collection obtained by removing from $U$ the island $A$ and the bridge starting from $A$. Then, it is clear that $U'$ satisfies the property $T(k-1)$. So, by the induction hypothesis $U'$ has no closed loop. But then since $A$ is an end island, we see that $U$ cannot have any closed loop either. Hence we have (a) $\\Rightarrow$ (b).\n\nConversely, suppose that a collection $U$ having $k$ islands and several bridges satisfies the properties (i) and (iii) and has no closed loops. First, we will show that there must be an end island in $U$. So, suppose on the contrary every island in $U$ has degree $\\ge 2$. Pick an island $A_1$ and another island $A_2$ adjacent to $A_1$. For every $i \\ge 3$, we can choose, by using the fact that every island has degree $\\ge 2$, an island $A_i$ in such a way that $A_i$ and $A_{i-1}$ are adjacent, and $A_i \\ne A_{i-2}$. Since the number of islands in $U$ is finite, there must exist positive integers $j$ and $\\ell \\ge 2$ such that $A_j, A_{j+1}, \\dots, A_{j+\\ell}$ are distinct and $A_j = A_{j+\\ell+1}$. This means that there is a closed loop in $U$, contradicting the assumption. Thus, there must be an end island, say $A$ in $U$. Let $U'$ be the collection obtained from $U$ by removing $A$ and the bridge starting from $A$. Then, clearly, $U'$ has no closed loop and satisfies properties (i) and (iii). Since $U'$ has $k-1$ islands, by using the induction hypothesis, we conclude that $U'$ has the property $T(k-1)$, and hence it has $k-2$ bridges. As $U$ has 1 more bridge than $U'$, $U$ must have $k-1$ bridges, and therefore $U$ satisfies the property (ii) and we conclude that $U$ has the property $T(k)$. This shows that the implication (b) $\\Rightarrow$ (a) is satisfied for $n=k$.\n\nThus, the induction is complete and we have proved the assertion of Lemma 3.",
          "pages": [
            "P2",
            "P1"
          ],
          "status": "complete"
        },
        {
          "images": [],
          "label": null,
          "latex": "Let us now proceed to the proof of the assertion of this problem. We will show that for any $n \\ge 2$ the following assertion is valid:\n\n* if for any collection $U$ of islands and bridges having the property $T(n)$, letters are sent by islands in $U$ in such a manner that the resulting situation described in the problem would occur, then at least one of the statements (1) or (2) given in the problem must hold.\n\nThen, we will have a proof of the assertion of the problem by considering the case of $n = 2010$.\n\nThe proof of the assertion • will be given by using an induction on $n$.\n\nIf $n = 2$ it is easy to check that one of the statements (1) or (2) must hold, regardless of how the letters sent are addressed.\n\nNext, suppose for $k \\ge 3$ the assertion • is valid for $n$ ($2 \\le n \\le k - 1$). We will show that it holds for the case $k = n$. we separate the argument into the following two cases:\n\n**Case (a):** The addressees of the letters are all different.\n\n**Case (b):** There are two or more different islands which send their letters to the same addressee.\n\n**Proof for Case (a):** First we claim that in this case a letter sent from a regular island goes to a regular island. To prove this claim, suppose it is not the case. Then, there are an island $A$ with degree $\\ge 2$ and an end island $B$ such that $A$ sends a letter to $B$. Let $C$ be the only island adjacent to $B$. Then by the rule for sending the letters, an island adjacent to $A$ must send its letter to $B$ or $C$, but since the addressees of the letters must be all different, it has to go to $C$. Since $A$ has 2 or more adjacent islands, this means that the island $C$ receives 2 or more letters, which is a contradiction. Thus, we have proved the claim.\n\nNext, let us consider the collection $U'$ of islands and bridges which is obtained by removing, from the collection $U$ in consideration, all the end islands and bridges starting from these end islands. Let $m$ be the number of islands in $U'$. Then, by Lemma 2, $m \\ge 1$ and we can check quite easily that $U'$ has the property $T(m)$. Since in $U$ a letter sent from a regular island went to a regular island, we can restrict our consideration of sending letters to $U'$. By Lemma 1, we see that $m \\le k - 1$, and so if $m \\ge 2$, then we can conclude by using the induction hypothesis that there must be island(s) in $U'$ for which the condition (1) or (2) of the problem is satisfied. If $m = 1$, then $U'$ consists of only 1 island, so it must send a letter to itself, and thus, the condition (1) is satisfied in this case as well.\n\n**Proof for Case (b):** In this case, there is at least 1 island which receives no letters.\n\nLet $S$ be the collection of islands and bridges obtained by removing from the collection $U$ in consideration all the islands which received no letters and all the bridges starting from those islands. Let $m$ be the number of islands in $S$. Let us show that the collection $S$ has the property $T(m)$. Condition (i) is not affected since all the bridges starting from any of the removed islands are removed. To see that (iii) is satisfied, let $A$ and $B$ be any pair of islands in $S$, and suppose that in the collection $U$ let $C, D$ be the islands which sent letters to $A, B$, respectively. Suppose that in $U$ you can reach $D$ from $C$ by going through the route $C, E_1, E_2, \\dots, E_l, D$. Let for each $i$ ($1 \\le i \\le l$) $F_i$ be the island to which the letter from the island $E_i$ is sent. Then by the requirement for addressing the letters, either the island $F_{i+1}$ is adjacent to the island $F_i$, or is the same as $F_i$. Therefore, we can go from $A$ to $B$ in $S$ by going through the route $A, F_1, F_2, \\dots, F_l, B$. This shows that $S$ satisfies",
          "pages": [
            "P2"
          ],
          "status": "truncated"
        }
      ],
      "statement_images": [],
      "statement_latex": "3. Throughout the discussion of this problem, we exclude the consideration of bridges both ends of which belong to the same island.\n\nFor a positive integer $n$ greater than or equal to 2, we say that a collection of islands and bridges has the property $T(n)$ if the following three conditions (i), (ii), (iii) are satisfied:\n\n(i) Any pair of islands are connected by one of the bridges or they are not.\n\n(ii) There are $n$ islands and $n-1$ bridges.\n\n(iii) One can reach any island from any other island by crossing certain number of bridges.\n\nWe also say that a collection of islands and bridges has a closed loop if the following conditions are satisfied:\n\nThere exist an integer $k$ greater than or equal to 3 and $k$ distinct islands $A_1, A_2, \\dots, A_k$ such that for each $i$ ($1 \\le i \\le k-1$) the islands $A_i$ and $A_{i+1}$ are connected by a bridge, and the islands $A_k$ and $A_1$ are connected by a bridge.\n\nBy degree of an island we mean the number of bridges starting from that island. Call an island an end island if the island has degree 1, and a regular island if it has degree $\\ge 2$. Two islands $A$ and $B$ are said to be adjacent if there is a bridge connecting $A$ and $B$. The following assertions for a collection of islands and bridges having the property $T(n)$ are valid:"
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_2511e87ea944",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "(iii). Finally, by Lemma 3, we know that *U* has no closed loop, and therefore, *S* has no closed loop. Since we already showed that *S* satisfies both (i) and (iii), we can apply Lemma 3 again to conclude that *S* has the property *T*(*m*).\n\nThus, we can restrict our consideration of sending letters to S, and in the same way as we argued above for the case (a), we can conclude that S and hence U satisfies the condition (1) or (2) of the problem.\n\nPutting the 2 cases (a) and (b) above together, we have shown that the assertion * holds for the case n = k.\n\nOur induction is thus complete and we have established the assertion of the problem.\n\nAlternate Solution: Let us consider 2 people whom we call X and Y. Send X to an island, say A, and call B the island to which a letter from A is sent. Then send Y to B. Now keep on repeating the following procedure:\n\nIf X and Y are in the same island, i.e., if A = B, stop the procedure.\n\nIf not, do the following: since one can reach B from A by going through several bridges, there must be an island, adjacent to A, which can be reached from B by some route which does not include A. Call one such island C, and let X move to C, and simultaneously, let Y move to the island which received the letter from C. By the requirement for sending letters we see that either Y stays in the same island B or goes to an island adjacent to B. If X and Y meet on a bridge during the move, stop the procedure. Otherwise, keep on repeating the procedure.\n\nLet us denote by V_{XY} the set of all the islands in the collection in consideration which Y can reach by going through islands which are different from the island where X is. Note that the set V_{XY} keeps on changing after each move described in the procedure above. Let us consider how V_{XY} changes while the procedure above is repeated. Since by Lemma 3 there is no closed loop in the collection in consideration, there is one and only one island in V_{XY} which is adjacent to the island where X is at some moment before the process is stopped. Call this island D. If X and Y do not meet on a bridge during the process of the next move, then Y must be moving to an island in V_{XY} different from D and X is moving to D. This implies that the V_{XY} after the move would be contained in the previous V_{XY} minus the island D. Therefore, the number of islands in V_{XY} keeps on decreasing at least by 1 as long as X and Y do not meet on a bridge, and this means that X and Y must meet eventually, and the procedure above has to stop.\n\nIf at the moment when the procedure stops X and Y are on the same island, then this island satisfies condition (1), while if they meet on a bridge at that moment then the 2 islands which this bridge is connecting satisfy condition (2).",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let us now proceed to the proof of the assertion of this problem. We will show that for any $n \\ge 2$ the following assertion is valid:\n\n* if for any collection $U$ of islands and bridges having the property $T(n)$, letters are sent by islands in $U$ in such a manner that the resulting situation described in the problem would occur, then at least one of the statements (1) or (2) given in the problem must hold.\n\nThen, we will have a proof of the assertion of the problem by considering the case of $n = 2010$.\n\nThe proof of the assertion • will be given by using an induction on $n$.\n\nIf $n = 2$ it is easy to check that one of the statements (1) or (2) must hold, regardless of how the letters sent are addressed.\n\nNext, suppose for $k \\ge 3$ the assertion • is valid for $n$ ($2 \\le n \\le k - 1$). We will show that it holds for the case $k = n$. we separate the argument into the following two cases:\n\n\\textbf{Case (a):} The addressees of the letters are all different.\n\n\\textbf{Case (b):} There are two or more different islands which send their letters to the same addressee.\n\n\\textbf{Proof for Case (a):} First we claim that in this case a letter sent from a regular island goes to a regular island. To prove this claim, suppose it is not the case. Then, there are an island $A$ with degree $\\ge 2$ and an end island $B$ such that $A$ sends a letter to $B$. Let $C$ be the only island adjacent to $B$. Then by the rule for sending the letters, an island adjacent to $A$ must send its letter to $B$ or $C$, but since the addressees of the letters must be all different, it has to go to $C$. Since $A$ has 2 or more adjacent islands, this means that the island $C$ receives 2 or more letters, which is a contradiction. Thus, we have proved the claim.\n\nNext, let us consider the collection $U'$ of islands and bridges which is obtained by removing, from the collection $U$ in consideration, all the end islands and bridges starting from these end islands. Let $m$ be the number of islands in $U'$. Then, by Lemma 2, $m \\ge 1$ and we can check quite easily that $U'$ has the property $T(m)$. Since in $U$ a letter sent from a regular island went to a regular island, we can restrict our consideration of sending letters to $U'$. By Lemma 1, we see that $m \\le k - 1$, and so if $m \\ge 2$, then we can conclude by using the induction hypothesis that there must be island(s) in $U'$ for which the condition (1) or (2) of the problem is satisfied. If $m = 1$, then $U'$ consists of only 1 island, so it must send a letter to itself, and thus, the condition (1) is satisfied in this case as well.\n\n\\textbf{Proof for Case (b):} In this case, there is at least 1 island which receives no letters.\n\nLet $S$ be the collection of islands and bridges obtained by removing from the collection $U$ in consideration all the islands which received no letters and all the bridges starting from those islands. Let $m$ be the number of islands in $S$. Let us show that the collection $S$ has the property $T(m)$. Condition (i) is not affected since all the bridges starting from any of the removed islands are removed. To see that (iii) is satisfied, let $A$ and $B$ be any pair of islands in $S$, and suppose that in the collection $U$ let $C, D$ be the islands which sent letters to $A, B$, respectively. Suppose that in $U$ you can reach $D$ from $C$ by going through the route $C, E_1, E_2, \\dots, E_l, D$. Let for each $i$ ($1 \\le i \\le l$) $F_i$ be the island to which the letter from the island $E_i$ is sent. Then by the requirement for addressing the letters, either the island $F_{i+1}$ is adjacent to the island $F_i$, or is the same as $F_i$. Therefore, we can go from $A$ to $B$ in $S$ by going through the route $A, F_1, F_2, \\dots, F_l, B$. This shows that $S$ satisfies"
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_3300c6696349",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Similarly, we obtain\n\n$$\n\\frac{1 + yz + yx}{(1 + z + x)^2} \\ge \\frac{y}{x + y + z}, \\quad \\frac{1 + zx + zy}{(1 + x + y)^2} \\ge \\frac{z}{x + y + z}\n$$\n\nAdding both sides of these 3 inequalities side-by-side, we obtain the desired inequality:\n\n$$\n\\frac{1 + xy + xz}{(1 + y + z)^2} + \\frac{1 + yz + yx}{(1 + z + x)^2} + \\frac{1 + zx + zy}{(1 + x + y)^2} \\ge 1\n$$",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "4. From the Cauchy-Schwarz Inequality we get\n\n$$\n\\left(1 + \\frac{y}{x} + \\frac{z}{x}\\right) \\left(1 + xy + xz\\right) \\geq \\left(1 + y + z\\right)^2\n$$\n\nMultiplying both sides of the inequality above by $\\frac{x}{(x+y+z)(1+y+z)^2}$, we obtain\n\n$$\n\\frac{1 + xy + xz}{(1 + y + z)^2} \\geq \\frac{x}{x + y + z}.\n$$"
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_9fea0f91c9fd",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "constituting segments of this closed Z.Z.N.S. By arguing as above, we can show\nthat the number of self-intersection points on any diagonal cannot exceed 2m - 3.\nCall a diagonal good diagonal if it contains 2m - 3 self-intersection points. If\nthere are 2 or less good diagonals, then the total number of self-intersection points\nwould be at most 2m^2 - 4m + 1. So, we must have at least 3 good diagonals.\n\nNote that any good diagonal must have length $m$. To see why this is so, let us assume that a diagonal $l$ has length less than $m$. Then, when we dissect the polygon into two parts by $l$, one part has at most $m - 2$ vertices, and any diagonal intersecting with $l$ must have one of these vertices as its end point. Therefore, there are at most $2m - 4$ such diagonals, and $l$ cannot be a good diagonal.\n\nLet us take three good diagonals. Since each one has length $m$, any pair of them intersect each other. So, we may designate them as $A_1A_4$, $A_2A_5$, $A_3A_6$, assuming that vertices $A_1$, $A_2$, $A_3$, $A_4$, $A_5$, $A_6$ lie on the polygon in this order.\n\nLet $Q$ be a vertex of the polygon and let $Q'$ be the vertex lying at the other end of one of the diagonals starting from $Q$, and $Q''$ be the vertex lying at the other end of the diagonal starting from $Q'$ but different from $Q'Q$. If both $Q$ and $Q''$ are different from both $A_1$ and $A_4$ (then $Q'$ would be different from both $A_1$ and $A_4$ also), both diagonals $QQ'$, $Q'Q''$ intersect $A_1A_4$, since $A_1A_4$ is a good diagonal. Therefore, vertices $Q$ and $Q''$ lie on the same side of $A_1A_4$. The same reasoning applies to $A_2A_5$ and $A_3A_6$ as well, so we can conclude that there exists an integer $i$ ($1 \\leq i \\leq 6$) such that $Q$ and $Q''$ lie in between $A_i$ and $A_{i+1}$. Here we take $A_7$ to be equal to $A_1$, and we allow the possibility that $Q$ or $Q''$ may coincide with $A_i$ or $A_{i+1}$.\n\nLet us color every other vertex on the closed Z.Z.L.S. black as we go along the\ncycle starting with a vertex. Then, for each of the pairs $A_1$, $A_4$, $A_2$, $A_5$, $A_3$, $A_6$, one\nand only one of the two vertices in the pair will be colored black. Without loss of\ngenerality we may assume that one of the following two cases occurs.\n\n• $A_1$, $A_2$, $A_3$ are black.\n\n• $A_1$, $A_3$, $A_5$ are black.\n\nIn the first case above, it should be possible to start from $A_1$ and repeating the\nprocess of going along 2 contiguous diagonals to go through both $A_2$ and $A_3$ exactly\nonce and return to $A_1$. But as we have seen above it would be impossible to go from\n$A_1$ to $A_3$ (and from $A_3$ to $A_1$) without going through $A_2$, so we have a contradiction.\n\nIn the second case, it is impossible to start from $A_1$ to go outside of the portion\nof the polygon bounded by $A_6$ and $A_2$ by repeating the process of going along 2\ncontiguous diagonals, and hence it is impossible to reach from $A_1$ to $A_3$ by repeating\nthe process of going along 2 contiguous diagonals. Thus we have a contradiction in\nthis case as well.\n\nSummarizing, we have shown that there is no closed Z.Z.L.S. which has more\nthan $2m^2 - 4m + 1$ self-intersections, and we have $2(1005)^2 - 4(1005) + 1 = 2016031$\nas the solution to the problem.",
          "pages": [
            "P2"
          ],
          "status": "complete"
        },
        {
          "images": [],
          "label": null,
          "latex": "constituting segments of this closed Z.Z.N.S. By arguing as above, we can show that the number of self-intersection points on any diagonal cannot exceed 2m - 3. Call a diagonal good diagonal if it contains 2m - 3 self-intersection points. If there are 2 or less good diagonals, then the total number of self-intersection points would be at most 2m^2 - 4m + 1. So, we must have at least 3 good diagonals.\n\nNote that any good diagonal must have length m. To see why this is so, let us assume that a diagonal l has length less than m. Then, when we dissect the polygon into two parts by l, one part has at most m - 2 vertices, and any diagonal intersecting with l must have one of these vertices as its end point. Therefore, there are at most 2m - 4 such diagonals, and l cannot be a good diagonal.\n\nLet us take three good diagonals. Since each one has length m, any pair of them intersect each other. So, we may designate them as A_1A_4, A_2A_5, A_3A_6, assuming that vertices A_1, A_2, A_3, A_4, A_5, A_6 lie on the polygon in this order.\n\nLet Q be a vertex of the polygon and let Q' be the vertex lying at the other end of one of the diagonals starting from Q, and Q'' be the vertex lying at the other end of the diagonal starting from Q' but different from Q'Q. If both Q and Q'' are different from both A_1 and A_4 (then Q' would be different from both A_1 and A_4 also), both diagonals QQ', Q'Q'' intersect A_1A_4, since A_1A_4 is a good diagonal. Therefore, vertices Q and Q'' lie on the same side of A_1A_4. The same reasoning applies to A_2A_5 and A_3A_6 as well, so we can conclude that there exists an integer i (1 \\le i \\le 6) such that Q and Q'' lie in between A_i and A_{i+1}. Here we take A_7 to be equal to A_1, and we allow the possibility that Q or Q'' may coincide with A_i or A_{i+1}.\n\nLet us color every other vertex on the closed Z.Z.L.S. black as we go along the cycle starting with a vertex. Then, for each of the pairs A_1, A_4, A_2, A_5, A_3, A_6, one and only one of the two vertices in the pair will be colored black. Without loss of generality we may assume that one of the following two cases occurs.\n\n\\textbullet\\ A_1, A_2, A_3 are black.\n\n\\textbullet\\ A_1, A_3, A_5 are black.\n\nIn the first case above, it should be possible to start from A_1 and repeating the process of going along 2 contiguous diagonals to go through both A_2 and A_3 exactly once and return to A_1. But as we have seen above it would be impossible to go from A_1 to A_3 (and from A_3 to A_1) without going through A_2, so we have a contradiction.\n\nIn the second case, it is impossible to start from A_1 to go outside of the portion of the polygon bounded by A_6 and A_2 by repeating the process of going along 2 contiguous diagonals, and hence it is impossible to reach from A_1 to A_3 by repeating the process of going along 2 contiguous diagonals. Thus we have a contradiction in this case as well.\n\nSummarizing, we have shown that there is no closed Z.Z.L.S. which has more than 2m^2 - 4m + 1 self-intersections, and we have 2(1005)^2 - 4(1005) + 1 = 2016031 as the solution to the problem.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "5. More generally than the assertion of the problem, we prove that if we replace the number 2010 in the problem by any even integer $2m$ bigger than or equal to 6, we get for any convex $2m$-gon satisfying the condition of the problem the number $2m^2 - 4m + 1$ is the answer for the assertion.\n\nFor any integer $i$ less than equal to $m$, let us agree to say that a diagonal of the polygon has the length $i$ if the diagonal connects two vertices which bound $i$ sides in between.\n\nLet us first give an example of a Z.Z.L.S. for which there are exactly $2m^2 - 4m + 1$ self-intersection points. Let $P_1P_2 \\cdots P_mQ_1Q_2 \\cdots Q_m$ be the given $2m$-gon. For each $i = 1, 2, \\dots, m-1$ connect vertices $P_i$ and $Q_{i+1}$, and vertices $Q_i$ and $P_{i+1}$. Each of these $2m-2$ diagonals has length $m-1$. Connect also the vertices $P_1$ and $Q_1$, and vertices $P_m$ and $Q_m$. These two diagonals have length 2. It is easy to check that these $2m$ diagonals form a closed Z.Z.L.S.\n\nLet us count the number of self-intersections of this closed Z.Z.L.S. In the sequel, the term \"diagonal\" refers only to diagonals constituting segments of this closed Z.Z.L.S.\n\nLet us first show that there are $2m-4$ self-intersection points on the diagonal $P_iQ_{i+1}$. If we dissect the polygon into two parts by the diagonal $P_iQ_{i+1}$, then one part has $m$ vertices and the other $m-2$ vertices. There is no diagonal other than $P_{i+1}Q_i$ having length $m-1$ or more which is contained in either of these two parts. Consequently, the diagonal $P_iQ_{i+1}$ shares points with every one of the diagonals except $P_{i+1}Q_i$. So, it shares points with $2m-1$ diagonals. Of these $2m-1$ diagonals there are itself and two diagonals with which it shares an end point and these should be excluded from the consideration of self-intersection points, and therefore, there are $2m-4$ diagonals giving self-intersection points on the diagonal $P_iQ_{i+1}$. The same argument gives also that the diagonal $P_{i+1}Q_i$ has $2m-4$ self-intersection points as well.\n\nFor the diagonals $P_1Q_1$ and $P_mQ_m$ the same type of argument as above shows that both of them share points with all of the diagonals, and excluding itself and two diagonals which share an end point from the consideration, $2m-3$ diagonals give self-intersection points on each of these two diagonals.\n\nTaking into account the fact that each self-intersection point is counted twice in this argument, we conclude, therefore, that there are\n\n$$\n\\frac{(2m-2)(2m-4) + 2 \\cdot (2m-3)}{2} = 2m^2 - 4m + 1\n$$\n\nself-intersection points for the closed Z.Z.N.S. constructed above.\n\nNext, we show that there cannot be more than $2m^2 - 4m + 1$ self-intersections for any closed Z.Z.N.S.\n\nSuppose for the contrary there is a closed Z.Z.N.S. having more than $2m^2 - 4m + 1$ self-intersections. In the sequel by \"diagonal\" we refer only to the diagonals"
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_5b34f2f634b9",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Since $\\sqrt{2} \\cdot \\sqrt{2} = 1$, we see that the regions (1) and (3) are symmetric with respect to the line $y = x$, which implies that the number of lattice points contained in these regions is the same. In this way, we can represent the correspondence of pairs of type (1) and those of type (3) geometrically.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/Japan_2010_p24_data_4fb8723aa9.png",
          "title": ""
        }
      ],
      "statement_latex": "5. [3521 pairs]\n\nSince $\\sqrt{2}$ is irrational, neither $m = \\sqrt{2}n$ nor $2m = \\sqrt{2}n$ can occur for a pair $(m, n)$ of positive integers. Therefore, the pairs $(m, n)$ of positive integers not exceeding 100 split into the following three types depending on the values of $\\sqrt{2}n, m$ and $2m$:\n\n* Type (1): satisfies $\\sqrt{2}n < m$,\n\n* Type (2): satisfies $m < \\sqrt{2}n < 2m$,\n\n* Type (3): satisfies $2m < \\sqrt{2}n$.\n\nThe condition $2m < \\sqrt{2}n$ can be restated as $\\sqrt{2}m < n$. Therefore, the fact that a pair $(a, b)$ is of type (1) is equivalent to the fact that the pair $(b, a)$ is of type (3). Consequently, the number of pairs belonging to type (1) is the same as the number of pairs belonging to (3).\n\nThere are altogether $100^2 = 10000$ pairs $(m, n)$ of positive integers not exceeding 100, and it is given that there are 2958 pairs belonging to type (2). Therefore, the number of pairs belonging to type (1) is\n\n$$\n\\frac{10000 - 2958}{2} = 3521.\n$$\n\n**Remark.** A point $(x, y)$ in the coordinate plane is called a lattice point if both $x$ and $y$ are integers. We can interpret the conditions on pairs $(m, n)$ as the conditions on points in the coordinate plane, and in so doing we see that types (1), (2), (3) for the pairs $(m, n)$ considered above correspond to lattice points lying in the regions (1), (2), (3) in the figure below, respectively (points of the regions lying on $x$ axis and $y$ axis are disregarded).\n\n% IMAGE: ![](images/Japan_2010_p24_data_4fb8723aa9.png)"
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_fc5f36ac0e38",
      "language": "en",
      "page numbers": [
        0
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "$$\n7. \\quad \\boxed{\\frac{720^{\\circ}}{7}}\n$$\n\nLet U, V, W be points on the sides DE, FG, GA, respectively, dividing respective side in 2 : 1 ratio. Then, it is easy to see that PQRUSVW becomes also a regular heptagon. Hence these 7 points lie on the circumference of a same circle, and divides the circumference into 7 arcs of equal length. From this it follows that $\\angle PRS$ is $\\frac{1}{2}$ of the angle subtended by the arc PWVS of the circum-circle of this heptagon at its center, and thus $\\angle PRS = \\frac{1}{2} \\cdot \\frac{3}{7} \\cdot 360^{\\circ}$. Similarly, we have $\\angle QSR = \\frac{1}{2} \\cdot \\frac{1}{7} \\cdot 360^{\\circ}$. Consequently, we get $\\angle PTS = \\angle PRS + \\angle QSR = \\frac{720^{\\circ}}{7}$.",
          "pages": [
            "P0"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [
        {
          "alt": "",
          "pages": [
            "P0"
          ],
          "path": "images/Japan_2010_p26_data_b49797136d.png",
          "title": ""
        }
      ],
      "statement_latex": "Let U, V, W be points on the sides DE, FG, GA, respectively, dividing respective side in 2 : 1 ratio. Then, it is easy to see that PQRUSVW becomes also a regular heptagon. Hence these 7 points lie on the circumference of a same circle, and divides the circumference into 7 arcs of equal length. From this it follows that $\\angle PRS$ is $\\frac{1}{2}$ of the angle subtended by the arc PWVS of the circum-circle of this heptagon at its center, and thus $\\angle PRS = \\frac{1}{2} \\cdot \\frac{3}{7} \\cdot 360^{\\circ}$. Similarly, we have $\\angle QSR = \\frac{1}{2} \\cdot \\frac{1}{7} \\cdot 360^{\\circ}$. Consequently, we get $\\angle PTS = \\angle PRS + \\angle QSR = \\frac{720^{\\circ}}{7}$.\n\n% IMAGE: ![](images/Japan_2010_p26_data_b49797136d.png)"
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_7b0951abe6f6",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "$$\n8. \\quad \\boxed{5184 \\text{ ways}}\n$$\n\nLet us label some of the rectangles in the 3 \\times 4 (right) diagram as indicated below: We will first show the following fact: if we decide what numbers to put into\n\n% IMAGE: <table><tr><td>A</td><td>B</td><td>C</td><td>X</td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr></table>\n\nthe rectangles labeled A, B, C, D with the proviso that the 2 numbers to be put in C, D should be chosen from a same row of the 4 \\times 3 (left) diagram, then the numbers to be put into other rectangles of the right diagram can be determined uniquely. For example, the number to be inserted into the rectangle labeled X is the number appearing in the same row (say i-th row) of the left diagram as the number inserted in A, and appearing in the same column (say j-th column) of the left diagram as the number inserted in D (note that there is one and only one such number, namely the number in the ij-th rectangle in the left diagram). We can find the unique number to be inserted into each of other rectangles of the right diagram in a similar manner. And thus, there is exactly one way of completing the right diagram once the numbers to be inserted into A, B, C, D are decided.\n\nLet us now count the number of ways we can put numbers into A, B, C, D satisfying the conditions stated above. There are 12 choices for each rectangle labeled A, B, C. The number to be put into D has to be a number which appears in the same row of the left diagram as the number inserted in C, and so there are 3 choices for D. (Note that the number to be put into D can be the same number as the one in C.) Thus, the total number of ways to choose numbers to be inserted into A, B, C, D satisfying the requirement is $12^3 \\times 3 = 5184$.\n\n**Alternate Solution.** Suppose we label rows and columns of the left diagram as in the figure below. Suppose we put the numbers into the rectangles of the right\n\n% IMAGE: <table><thead><tr><th></th><th>a</th><th>b</th><th>c</th></tr></thead><tbody><tr><th>α</th><td>1</td><td>2</td><td>3</td></tr><tr><th>β</th><td>4</td><td>5</td><td>6</td></tr><tr><th>γ</th><td>7</td><td>8</td><td>9</td></tr><tr><th>δ</th><td>10</td><td>11</td><td>12</td></tr></tbody></table>\n\ndiagram satisfying the conditions of the problem. Then, for each of the rows of the right diagram the numbers appearing in that row must appear in a same row of the left diagram, so we can associate one symbol from {$\\alpha, \\beta, \\gamma, \\delta$} to each of the rows of the right diagram. Similarly, we can associate one symbol from {$a, b, c$} to each of the columns of the right diagram.\n\nConversely, suppose we associate to each of the rows of the right diagram one symbol from {$\\alpha, \\beta, \\gamma, \\delta$}, and to each of the columns of the right diagram one symbol from {$a, b, c$} (we may associate a same symbols to two or more rows or columns, and we allow the possibility that some symbols may not be used). Then we see that we get a method of inserting numbers satisfying the requirement of the problem. (For instance insert 1 to the rectangle appearing in the row associated with $\\alpha$ and the column associated with $a$, and do similarly for other rectangles.)\n\nConsequently, to determine the number of ways to insert numbers into the rectangles of the right diagram satisfying the requirement of the problem, it suffices to find the number of ways of associating symbols {$\\alpha, \\beta, \\gamma, \\delta$} to the rows and {$a, b, c$} to the columns of the right diagram. There are $4^3$ ways of associating the 4 symbols to the 3 rows and $3^4$ ways of associating the 3 symbols to the 4 columns, and therefore, the answer desired is $4^3 + 3^4 = 5184$.",
          "pages": [
            "P0",
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let us label some of the rectangles in the 3 \\times 4 (right) diagram as indicated below: We will first show the following fact: if we decide what numbers to put into\n\n<table><tr><td>A</td><td>B</td><td>C</td><td>X</td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr></table>\n\nthe rectangles labeled A, B, C, D with the proviso that the 2 numbers to be put in C, D should be chosen from a same row of the 4 \\times 3 (left) diagram, then the numbers to be put into other rectangles of the right diagram can be determined uniquely. For example, the number to be inserted into the rectangle labeled X is the number appearing in the same row (say i-th row) of the left diagram as the number inserted in A, and appearing in the same column (say j-th column) of the left diagram as the number inserted in D (note that there is one and only one such number, namely the number in the ij-th rectangle in the left diagram). We can find the unique number to be inserted into each of other rectangles of the right diagram in a similar manner. And thus, there is exactly one way of completing the right diagram once the numbers to be inserted into A, B, C, D are decided.\n\nLet us now count the number of ways we can put numbers into A, B, C, D satisfying the conditions stated above. There are 12 choices for each rectangle labeled A, B, C. The number to be put into D has to be a number which appears in the same row of the left diagram as the number inserted in C, and so there are 3 choices for D. (Note that the number to be put into D can be the same number as the one in C.) Thus, the total number of ways to choose numbers to be inserted into A, B, C, D satisfying the requirement is $12^3 \\times 3 = 5184$."
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_ed0121a25dc3",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "**Alternate Solution** It is easy to check that any positive integer for which the sum of all of its digits is a multiple of 9 is divisible by 9. Therefore, if for some positive integer $k$, $S(k) = 27$, then $k$ is a multiple of 9 and we can write $k = 9n$ for some positive integer $n$ and $S(9n) = 27$. Thus our problem for finding the number of elements in the set of positive integers $n$, $1 \\le n \\le 999$ for which $S(9n) = 27$ is the same as finding the number of elements in the set of positive integers $k$, $1 \\le k \\le 9000$ for which $S(k) = 27$ (Note that there are no integers in the set $\\{j|1 \\le j \\le 8\\} \\cup \\{j|8992 \\le j \\le 9000\\}$ for which $S(j) = 27$).\n\nIf for a positive integer $k$ with 4 or less digits we have $S(k) = 27$, then writing $k = 10^3a + 10^2b + 10c + d$, with $0 \\le a, b, c, d \\le 9$, we have $9999 - k = 10^3(9 - a) + 10^2(9 - b) + 10(9 - c) + 9 - d$, and we get $S(9999 - k) = 4 \\times 9 - (a + b + c + d) = 36 - S(k) = 36 - 27 = 9$. Conversely, by the same reasoning we get that if $m$ is a positive integer with 4 or less digits for which $S(m) = 9$, then $k = 9999 - m$ is a positive integer of 4 or less digit for which $S(m) = 27$. Thus the number of elements in the set $\\{k|0 \\le k \\le 9999, S(k) = 27\\}$ is the same as the number of elements in the set $\\{m|0 \\le m \\le 9999, S(m) = 9\\}$. The condition for an integer $m$ of 4 or less digits to have $S(m) = 9$ can be written as $0 \\le a, b, c, d \\le 9$, $a+b+c+d=9$ where $a, b, c, d$ are the digits of $m$. By introducing $a' = a+1, b' = a+b+1, c' = a+b+c+1$, we can replace these conditions as $1 \\le a' \\le b' \\le c' \\le 10$, and our problem of finding the number of elements in the set $\\{m|0 \\le m \\le 9999, S(m) = 9\\}$ is reduced the problem of finding the number of triplets $(a', b', c')$ of integers satisfying $1 \\le a' \\le b' \\le c' \\le 10$, which as we saw in the beginning of our discussion is given by $12C_3 = 220$.\n\nNow for the desired solution to our problem, we have to subtract from this number 220 the number of 4-digit numbers $n$ greater than 9000 for which $S(n) = 27$. Since the top digit of such a number is 9, we see that it is sufficient to consider the last 3 digits of such a number, and so it is enough to find the number of elements in the set of 3-digit integers $m$ for which $S(m) = 18$. As we went through above, by considering $999 - m$ we can reduce the problem to that of finding the number of triplets $(a, b, c)$ which satisfy conditions $0 \\le a, b, c \\le 9$ and $a+b+c=9$. This problem, in turn, becomes the one for finding the number of elements in the set $\\{(a', b')|1 \\le a' \\le b' \\le 10\\}$. The same type of argument as the one we have used in the beginning of discussion for this problem shows that it is equal to $11C_2 = 55$. Hence, the answer to the problem is $220 - 55 = 165$.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "## 9. [165]\n\nFirst of all let us determine the number of possible ways of forming the triplets ($a, b, c$) of integers satisfying the condition $n \\ge a \\ge b \\ge c \\ge 1$ for a given positive integer $n$. If we let $a' = a + 2$, $b' = b + 1$, $c' = c$, then we see that a triplet ($a, b, c$) satisfying the condition will correspond in one-to-one manner to a triplet ($a', b', c'$) satisfying $n + 2 \\ge a' \\ge b' \\ge c' \\ge 1$. Therefore, the number we seek is the same as the number of possible ways of choosing 3 distinct elements from the set of $n + 2$ elements, which is $n+2C_3$.\n\nSuppose that $n$ is a non-negative integer with 3 or less digits. Then, we can represent $n$ as $n = 100a + 10b + c$ with $0 \\le a, b, c \\le 9$, and we have\n\n$$\n9n = 900a + 90b + 9c = 1000(a-1) + 100[9 - (a-b)] + 10[9 - (b-c)] + (10-c), \\quad (*)\n$$\n\nfrom which it follows that if $9 \\ge a \\ge b \\ge c \\ge 1$, then we have\n\n$$\n0 \\le a - 1 \\le 9, 0 \\le b - 1 \\le 9, 0 \\le c - 1 \\le 9\n$$\n\nso that\n\n$$\nS(9n) = (a - 1) + 9 - (a - b) + 9 - (b - c) + 10 - c = 27.\n$$\n\nOn the other hand, if $c = 0$ or $a < b$ or $b < c$, then from (*) we see there will be carry-over(s) of the digits of $9n$ which will cause the value of $S(9n)$ to be strictly\nless than 27. From these considerations it follows that the answer for the problem is the number of possible triplets (a, b, c) of integers satisfying the condition $9 \\ge a \\ge b \\ge c \\ge 1$ and this number equals, as we derived above, $11C_3 = 165$."
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_04e36327a680",
      "language": "en",
      "page numbers": [
        0,
        1,
        2
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Let us denote by $a, b, c, d$ the number of students who received 7, 6, 5, 3 points, respectively. Note that a student had to answer all 3 problems correctly to receive 7 points, problems II and III correctly and not problem I to receive 6 points, problems I and III correctly and not problem II to receive 5 points, and problems I and II correctly and not problem III to receive 3 points. Then, since for each problem there were 10 students who answered it correctly, we have\n\n$$\na+c+d \\le 10, \\quad a+b+d \\le 10, \\quad a+b+c \\le 10. \\quad (**)\n$$\n\nConversely, if we determine a quadruple $(a, b, c, d)$ of nonnegative integers satisfying the set of inequalities above, then we can determine the number of students receiving the grades of 0, 1, 2, 4 points, respectively, as\n\n$$\n2a+b+c+d, \\quad 10-a-c-d, \\quad 10-a-b-d, \\quad 10-a-b-c,\n$$\n\n(note that each of these numbers will be non-negative), and therefore, we can determine the set of 8 numbers uniquely. Thus, we see that the solution of the problem can be obtained by finding the number of the quadruples $(a, b, c, d)$ of non-negative integers which satisfy the 3 inequalities in (**).\n\nCase (1): When the number $a$ is even.\n\nIn this case, we can write $a = 10 - 2n$ by using some integer $n$ with $0 \\le n \\le 5$.\n\n* If the maximum of the numbers $b, c, d$ is less than or equal to $n$, then all 3 inequalities in (***) are satisfied, and $(b, c, d)$ can be any triple of non-negative integers less than or equal to $n$, and therefore, there are $(n+1)^3$ possible choices in this case.\n\n* If the maximum of the numbers $b, c, d$ is greater than or equal to $n+1$, let this maximum be $2n-k$. Then, $k$ is a non-negative integer less than or equal to $n-1$, and the pair of non-maximum numbers of $b, c, d$ can be any of $(k+1)^2$ pairs of non-negative numbers less than or equal to $k$. Since the maximum can be any of $a, b, c$, there are $3(k+1)^2$ possibilities, and hence the number of possible ways of choosing $(b, c, d)$ for the case where the maximum of $b, c, d$ is greater than or equal to $n+1$ is the sum $\\sum_{k=0}^{n-1} 3(k+1)^2 = \\frac{n(n+1)(2n+1)}{2}$ for $n=0, 1, 2, 3, 4, 5$.\n\nCase (2): When the number $a$ is odd.\n\nIn this case, we can write $a = 9 - 2n$ by using some integer $n$ with $0 \\le n \\le 4$.\n\n* If the maximum of the numbers $b, c, d$ is less than or equal to $n$, $(b, c, d)$ can be, as in the case above for $a$ being even, any triple of non-negative integers less than or equal to $n$, and hence there are $(n+1)^3$ possible choices in this case.\n\n* If the maximum of the numbers $b, c, d$ is greater than or equal to $n+1$, let this maximum be $2n-k+1$. Then, $k$ is a non-negative integer less than or equal to $n$, and we can conclude as in the case above for $a$ being even, there are $3(k+1)^2$ possibilities, and the number of possible ways of choosing $(b, c, d)$ for the case where the maximum of $b, c, d$ is greater than or equal to $n+1$ is the sum $\\sum_{k=0}^{n} 3(k+1)^2 = \\frac{(n+1)(n+2)(2n+3)}{2}$ for $n=0, 1, 2, 3, 4$.\n\nSumming all the possibilities considered above, we obtain\n\n$$\n\\sum_{n=0}^{5} (n+1)^3 + \\sum_{n=0}^{5} \\frac{n(n+1)(2n+1)}{2} + \\sum_{n=0}^{4} (n+1)^3 + \\sum_{n=0}^{4} \\frac{(n+1)(n+2)(2n+3)}{2},\n$$\nwhich equals\n\n$$\n2(1^3 + 2^3 + 3^3 + 4^3 + 5^3) + 6^3 + (6 + 30 + 84 + 180 + 330) = 1296.\n$$\n\nSo, we conclude that 1296 is the desired answer to the problem.",
          "pages": [
            "P1",
            "P2"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Because of the way the grading was done, it is the case that two students receive the same grades only if the problems they answer correctly are exactly the same. Designate problems as the problem I, I, and III, corresponding to the grades 1, 2 and 4 for a correct answer, respectively. The possibilities for the total score for each of the students are 0, 1, 2, 3, 4, 5, 6, 7. Since two sets of 30 grades will not be distinguished if one is a permutation of the other, the answer we seek is to determine how many ways we can select, under the conditions of the problem, 8 numbers corresponding to the numbers of students receiving grades of $j$ points for $0 \\le j \\le 7$."
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_7e4e1e30c58c",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "which equals\n\n$$\n2(1^3 + 2^3 + 3^3 + 4^3 + 5^3) + 6^3 + (6 + 30 + 84 + 180 + 330) = 1296.\n$$\n\nSo, we conclude that 1296 is the desired answer to the problem.",
          "pages": [
            "P1"
          ],
          "status": "complete"
        }
      ],
      "statement_images": [],
      "statement_latex": "Let us denote by $a, b, c, d$ the number of students who received 7, 6, 5, 3 points, respectively. Note that a student had to answer all 3 problems correctly to receive 7 points, problems II and III correctly and not problem I to receive 6 points, problems I and III correctly and not problem II to receive 5 points, and problems I and II correctly and not problem III to receive 3 points. Then, since for each problem there were 10 students who answered it correctly, we have\n\n$$\na+c+d \\le 10, \\quad a+b+d \\le 10, \\quad a+b+c \\le 10. \\quad (**)\n$$\n\nConversely, if we determine a quadruple $(a, b, c, d)$ of nonnegative integers satisfying the set of inequalities above, then we can determine the number of students receiving the grades of 0, 1, 2, 4 points, respectively, as\n\n$$\n2a+b+c+d, \\quad 10-a-c-d, \\quad 10-a-b-d, \\quad 10-a-b-c,\n$$\n\n(note that each of these numbers will be non-negative), and therefore, we can determine the set of 8 numbers uniquely. Thus, we see that the solution of the problem can be obtained by finding the number of the quadruples $(a, b, c, d)$ of non-negative integers which satisfy the 3 inequalities in (**).\n\nCase (1): When the number $a$ is even.\n\nIn this case, we can write $a = 10 - 2n$ by using some integer $n$ with $0 \\le n \\le 5$.\n\n* If the maximum of the numbers $b, c, d$ is less than or equal to $n$, then all 3 inequalities in (***) are satisfied, and $(b, c, d)$ can be any triple of non-negative integers less than or equal to $n$, and therefore, there are $(n+1)^3$ possible choices in this case.\n\n* If the maximum of the numbers $b, c, d$ is greater than or equal to $n+1$, let this maximum be $2n-k$. Then, $k$ is a non-negative integer less than or equal to $n-1$, and the pair of non-maximum numbers of $b, c, d$ can be any of $(k+1)^2$ pairs of non-negative numbers less than or equal to $k$. Since the maximum can be any of $a, b, c$, there are $3(k+1)^2$ possibilities, and hence the number of possible ways of choosing $(b, c, d)$ for the case where the maximum of $b, c, d$ is greater than or equal to $n+1$ is the sum $\\sum_{k=0}^{n-1} 3(k+1)^2 = \\frac{n(n+1)(2n+1)}{2}$ for $n=0, 1, 2, 3, 4, 5$.\n\nCase (2): When the number $a$ is odd.\n\nIn this case, we can write $a = 9 - 2n$ by using some integer $n$ with $0 \\le n \\le 4$.\n\n* If the maximum of the numbers $b, c, d$ is less than or equal to $n$, $(b, c, d)$ can be, as in the case above for $a$ being even, any triple of non-negative integers less than or equal to $n$, and hence there are $(n+1)^3$ possible choices in this case.\n\n* If the maximum of the numbers $b, c, d$ is greater than or equal to $n+1$, let this maximum be $2n-k+1$. Then, $k$ is a non-negative integer less than or equal to $n$, and we can conclude as in the case above for $a$ being even, there are $3(k+1)^2$ possibilities, and the number of possible ways of choosing $(b, c, d)$ for the case where the maximum of $b, c, d$ is greater than or equal to $n+1$ is the sum $\\sum_{k=0}^{n} 3(k+1)^2 = \\frac{(n+1)(n+2)(2n+3)}{2}$ for $n=0, 1, 2, 3, 4$.\n\nSumming all the possibilities considered above, we obtain\n\n$$\n\\sum_{n=0}^{5} (n+1)^3 + \\sum_{n=0}^{5} \\frac{n(n+1)(2n+1)}{2} + \\sum_{n=0}^{4} (n+1)^3 + \\sum_{n=0}^{4} \\frac{(n+1)(n+2)(2n+3)}{2},\n$$\nwhich equals\n\n$$\n2(1^3 + 2^3 + 3^3 + 4^3 + 5^3) + 6^3 + (6 + 30 + 84 + 180 + 330) = 1296.\n$$\n\nSo, we conclude that 1296 is the desired answer to the problem."
    },
    {
      "_provenance": {
        "folder": "JPN_2010",
        "pages_map": {
          "P0": "page37.md",
          "P1": "page38.md",
          "P2": "page39.md"
        }
      },
      "author": "The Mathematical Olympiad Foundation of Japan",
      "booklet title": "Japan 2010.pdf",
      "booklet_url": "https://drive.google.com/open?id=1DmAdj1LqyCfCWkWx1tAio2SqG903s2hq",
      "competition name": "The 20th Japanese Mathematical Olympiad; The 8th Japanese Junior Mathematical Olympiad",
      "copyright_info": "The Mathematical Olympiad Foundation of Japan",
      "has_solutions": true,
      "id": "p_cb6f244d70df",
      "language": "en",
      "page numbers": [
        0,
        1
      ],
      "solutions": [
        {
          "images": [],
          "label": null,
          "latex": "Let